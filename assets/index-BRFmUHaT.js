var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function ne(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function re(e,t){return ne(e.type,t,e.props)}function ie(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ae(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var oe=/\/+/g;function se(e,t){return typeof e==`object`&&e&&e.key!=null?ae(``+e.key):t.toString(36)}function ce(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(te,te):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function le(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,le(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+se(e,0):a,ee(o)?(i=``,c!=null&&(i=c.replace(oe,`$&/`)+`/`),le(o,r,i,``,function(e){return e})):o!=null&&(ie(o)&&(o=re(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(oe,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(ee(e))for(var u=0;u<e.length;u++)a=e[u],s=l+se(a,u),c+=le(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+se(a,u++),c+=le(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return le(ce(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ue(e,t,n){if(e==null)return e;var r=[],i=0;return le(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function de(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var w=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},T={map:ue,forEach:function(e,t,n){ue(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ue(e,function(){t++}),t},toArray:function(e){return ue(e,function(e){return e})||[]},only:function(e){if(!ie(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=T,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!C.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ne(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)C.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ne(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=ie,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:de}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(te,w)}catch(e){w(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),S.T=t}},e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},e.use=function(e){return S.H.use(e)},e.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},e.useCallback=function(e,t){return S.H.useCallback(e,t)},e.useContext=function(e){return S.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return S.H.useEffect(e,t)},e.useEffectEvent=function(e){return S.H.useEffectEvent(e)},e.useId=function(){return S.H.useId()},e.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return S.H.useMemo(e,t)},e.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},e.useRef=function(e){return S.H.useRef(e)},e.useState=function(e){return S.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return S.H.useTransition()},e.version=`19.2.0`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,ee||(ee=!0,ie());else{var t=n(l);t!==null&&se(x,t.startTime-e)}}var ee=!1,te=-1,S=5,C=-1;function ne(){return g?!0:!(e.unstable_now()-C<S)}function re(){if(g=!1,ee){var t=e.unstable_now();C=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(te),te=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ne());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&se(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ie():ee=!1}}}var ie;if(typeof y==`function`)ie=function(){y(re)};else if(typeof MessageChannel<`u`){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=re,ie=function(){oe.postMessage(null)}}else ie=function(){_(re,0)};function se(t,n){te=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(te),te=-1):h=!0,se(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,ee||(ee=!0,ie()))),r},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),ee=Symbol.for(`react.consumer`),te=Symbol.for(`react.context`),S=Symbol.for(`react.forward_ref`),C=Symbol.for(`react.suspense`),ne=Symbol.for(`react.suspense_list`),re=Symbol.for(`react.memo`),ie=Symbol.for(`react.lazy`),ae=Symbol.for(`react.activity`),oe=Symbol.for(`react.memo_cache_sentinel`),se=Symbol.iterator;function ce(e){return typeof e!=`object`||!e?null:(e=se&&e[se]||e[`@@iterator`],typeof e==`function`?e:null)}var le=Symbol.for(`react.client.reference`);function ue(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case C:return`Suspense`;case ne:return`SuspenseList`;case ae:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case te:return e.displayName||`Context`;case ee:return(e._context.displayName||`Context`)+`.Consumer`;case S:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case re:return t=e.displayName||null,t===null?ue(e.type)||`Memo`:t;case ie:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var de=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},pe=[],me=-1;function he(e){return{current:e}}function ge(e){0>me||(e.current=pe[me],pe[me]=null,me--)}function E(e,t){me++,pe[me]=e.current,e.current=t}var _e=he(null),ve=he(null),ye=he(null),be=he(null);function xe(e,t){switch(E(ye,t),E(ve,e),E(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zd(t),e=Qd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ge(_e),E(_e,e)}function Se(){ge(_e),ge(ve),ge(ye)}function Ce(e){e.memoizedState!==null&&E(be,e);var t=_e.current,n=Qd(t,e.type);t!==n&&(E(ve,e),E(_e,n))}function we(e){ve.current===e&&(ge(_e),ge(ve)),be.current===e&&(ge(be),cp._currentValue=fe)}var Te,Ee;function De(e){if(Te===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Te=t&&t[1]||``,Ee=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Te+e+Ee}var Oe=!1;function ke(e,t){if(!e||Oe)return``;Oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Oe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?De(n):``}function Ae(e,t){switch(e.tag){case 26:case 27:case 5:return De(e.type);case 16:return De(`Lazy`);case 13:return e.child!==t&&t!==null?De(`Suspense Fallback`):De(`Suspense`);case 19:return De(`SuspenseList`);case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return De(`Activity`);default:return``}}function je(e){try{var t=``,n=null;do t+=Ae(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Me=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Pe=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,D=t.unstable_requestPaint,Ie=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,Re=t.unstable_ImmediatePriority,ze=t.unstable_UserBlockingPriority,Be=t.unstable_NormalPriority,Ve=t.unstable_LowPriority,He=t.unstable_IdlePriority,Ue=t.log,We=t.unstable_setDisableYieldValue,Ge=null,Ke=null;function qe(e){if(typeof Ue==`function`&&We(e),Ke&&typeof Ke.setStrictMode==`function`)try{Ke.setStrictMode(Ge,e)}catch{}}var Je=Math.clz32?Math.clz32:Ze,Ye=Math.log,Xe=Math.LN2;function Ze(e){return e>>>=0,e===0?32:31-(Ye(e)/Xe|0)|0}var Qe=256,$e=262144,et=4194304;function tt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=tt(n))):i=tt(o):i=tt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=tt(n))):i=tt(o)):i=tt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function rt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function it(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var e=et;return et<<=1,!(et&62914560)&&(et=4194304),e}function ot(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function st(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ct(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Je(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&lt(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function lt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Je(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ut(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Je(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function dt(e,t){var n=t&-t;return n=n&42?1:ft(n),(n&(e.suspendedLanes|t))===0?n:0}function ft(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mt(){var e=T.p;return e===0?(e=window.event,e===void 0?32:wp(e.type)):e}function ht(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var gt=Math.random().toString(36).slice(2),_t=`__reactFiber$`+gt,vt=`__reactProps$`+gt,yt=`__reactContainer$`+gt,bt=`__reactEvents$`+gt,xt=`__reactListeners$`+gt,St=`__reactHandles$`+gt,Ct=`__reactResources$`+gt,wt=`__reactMarker$`+gt;function Tt(e){delete e[_t],delete e[vt],delete e[bt],delete e[xt],delete e[St]}function Et(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xf(e);e!==null;){if(n=e[_t])return n;e=xf(e)}return t}e=n,n=e.parentNode}return null}function Dt(e){if(e=e[_t]||e[yt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ot(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function kt(e){var t=e[Ct];return t||=e[Ct]={hoistableStyles:new Map,hoistableScripts:new Map},t}function At(e){e[wt]=!0}var jt=new Set,Mt={};function Nt(e,t){Pt(e,t),Pt(e+`Capture`,t)}function Pt(e,t){for(Mt[e]=t,e=0;e<t.length;e++)jt.add(t[e])}var Ft=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),It={},Lt={};function Rt(e){return Me.call(Lt,e)?!0:Me.call(It,e)?!1:Ft.test(e)?Lt[e]=!0:(It[e]=!0,!1)}function zt(e,t,n){if(Rt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Bt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Vt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function O(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ht(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Ut(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wt(e){if(!e._valueTracker){var t=Ht(e)?`checked`:`value`;e._valueTracker=Ut(e,t,``+e[t])}}function Gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ht(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Kt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var qt=/[\n"\\]/g;function Jt(e){return e.replace(qt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Yt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+O(t)):e.value!==``+O(t)&&(e.value=``+O(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Zt(e,o,O(n)):Zt(e,o,O(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+O(s):e.removeAttribute(`name`)}function Xt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Wt(e);return}n=n==null?``:``+O(n),t=t==null?n:``+O(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Wt(e)}function Zt(e,t,n){t===`number`&&Kt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Qt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+O(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $t(e,t,n){if(t!=null&&(t=``+O(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+O(n)}function en(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(de(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=O(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Wt(e)}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nn=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function rn(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||nn.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function an(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&rn(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&rn(e,o,t[o])}function on(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var sn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),cn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return cn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function un(){}var dn=null;function fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pn=null,mn=null;function hn(e){var t=Dt(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Jt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[vt]||null;if(!a)throw Error(i(90));Yt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Gt(r)}break a;case`textarea`:$t(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Qt(e,!!n.multiple,t,!1)}}}var gn=!1;function _n(e,t,n){if(gn)return e(t,n);gn=!0;try{return e(t)}finally{if(gn=!1,(pn!==null||mn!==null)&&(Ou(),pn&&(t=pn,e=mn,mn=pn=null,hn(t),e)))for(t=0;t<e.length;t++)hn(e[t])}}function vn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[vt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var yn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),bn=!1;if(yn)try{var xn={};Object.defineProperty(xn,`passive`,{get:function(){bn=!0}}),window.addEventListener(`test`,xn,xn),window.removeEventListener(`test`,xn,xn)}catch{bn=!1}var Sn=null,Cn=null,wn=null;function Tn(){if(wn)return wn;var e,t=Cn,n=t.length,r,i=`value`in Sn?Sn.value:Sn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return wn=i.slice(e,1<r?1-r:void 0)}function En(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dn(){return!0}function On(){return!1}function kn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Dn:On,this.isPropagationStopped=On,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),t}var k={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=kn(k),jn=h({},k,{view:0,detail:0}),Mn=kn(jn),Nn,Pn,Fn,In=h({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Fn&&(Fn&&e.type===`mousemove`?(Nn=e.screenX-Fn.screenX,Pn=e.screenY-Fn.screenY):Pn=Nn=0,Fn=e),Nn)},movementY:function(e){return`movementY`in e?e.movementY:Pn}}),Ln=kn(In),Rn=kn(h({},In,{dataTransfer:0})),zn=kn(h({},jn,{relatedTarget:0})),Bn=kn(h({},k,{animationName:0,elapsedTime:0,pseudoElement:0})),Vn=kn(h({},k,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Hn=kn(h({},k,{data:0})),Un={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Wn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Gn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gn[e])?!!t[e]:!1}function qn(){return Kn}var Jn=kn(h({},jn,{key:function(e){if(e.key){var t=Un[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=En(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Wn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(e){return e.type===`keypress`?En(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?En(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Yn=kn(h({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Xn=kn(h({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn})),Zn=kn(h({},k,{propertyName:0,elapsedTime:0,pseudoElement:0})),Qn=kn(h({},In,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),$n=kn(h({},k,{newState:0,oldState:0})),er=[9,13,27,32],tr=yn&&`CompositionEvent`in window,nr=null;yn&&`documentMode`in document&&(nr=document.documentMode);var rr=yn&&`TextEvent`in window&&!nr,ir=yn&&(!tr||nr&&8<nr&&11>=nr),ar=` `,or=!1;function sr(e,t){switch(e){case`keyup`:return er.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function cr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var lr=!1;function ur(e,t){switch(e){case`compositionend`:return cr(t);case`keypress`:return t.which===32?(or=!0,ar):null;case`textInput`:return e=t.data,e===ar&&or?null:e;default:return null}}function dr(e,t){if(lr)return e===`compositionend`||!tr&&sr(e,t)?(e=Tn(),wn=Cn=Sn=null,lr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return ir&&t.locale!==`ko`?null:t.data;default:return null}}var fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!fr[e.type]:t===`textarea`}function mr(e,t,n,r){pn?mn?mn.push(r):mn=[r]:pn=r,t=Fd(t,`onChange`),0<t.length&&(n=new An(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var hr=null,gr=null;function _r(e){Od(e,0)}function vr(e){if(Gt(Ot(e)))return e}function yr(e,t){if(e===`change`)return t}var br=!1;if(yn){var xr;if(yn){var Sr=`oninput`in document;if(!Sr){var Cr=document.createElement(`div`);Cr.setAttribute(`oninput`,`return;`),Sr=typeof Cr.oninput==`function`}xr=Sr}else xr=!1;br=xr&&(!document.documentMode||9<document.documentMode)}function wr(){hr&&(hr.detachEvent(`onpropertychange`,Tr),gr=hr=null)}function Tr(e){if(e.propertyName===`value`&&vr(gr)){var t=[];mr(t,gr,e,fn(e)),_n(_r,t)}}function Er(e,t,n){e===`focusin`?(wr(),hr=t,gr=n,hr.attachEvent(`onpropertychange`,Tr)):e===`focusout`&&wr()}function Dr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return vr(gr)}function Or(e,t){if(e===`click`)return vr(t)}function kr(e,t){if(e===`input`||e===`change`)return vr(t)}function Ar(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var jr=typeof Object.is==`function`?Object.is:Ar;function Mr(e,t){if(jr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Me.call(t,i)||!jr(e[i],t[i]))return!1}return!0}function Nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pr(e,t){var n=Nr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Nr(n)}}function Fr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ir(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Kt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kt(e.document)}return t}function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Rr=yn&&`documentMode`in document&&11>=document.documentMode,zr=null,Br=null,Vr=null,Hr=!1;function Ur(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hr||zr==null||zr!==Kt(r)||(r=zr,`selectionStart`in r&&Lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&Mr(Vr,r)||(Vr=r,r=Fd(Br,`onSelect`),0<r.length&&(t=new An(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=zr)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Gr={animationend:Wr(`Animation`,`AnimationEnd`),animationiteration:Wr(`Animation`,`AnimationIteration`),animationstart:Wr(`Animation`,`AnimationStart`),transitionrun:Wr(`Transition`,`TransitionRun`),transitionstart:Wr(`Transition`,`TransitionStart`),transitioncancel:Wr(`Transition`,`TransitionCancel`),transitionend:Wr(`Transition`,`TransitionEnd`)},Kr={},qr={};yn&&(qr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),`TransitionEvent`in window||delete Gr.transitionend.transition);function Jr(e){if(Kr[e])return Kr[e];if(!Gr[e])return e;var t=Gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qr)return Kr[e]=t[n];return e}var Yr=Jr(`animationend`),Xr=Jr(`animationiteration`),Zr=Jr(`animationstart`),Qr=Jr(`transitionrun`),$r=Jr(`transitionstart`),ei=Jr(`transitioncancel`),ti=Jr(`transitionend`),ni=new Map,ri=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ri.push(`scrollEnd`);function ii(e,t){ni.set(e,t),Nt(t,[e])}var ai=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},oi=[],si=0,ci=0;function li(){for(var e=si,t=ci=si=0;t<e;){var n=oi[t];oi[t++]=null;var r=oi[t];oi[t++]=null;var i=oi[t];oi[t++]=null;var a=oi[t];if(oi[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&pi(n,i,a)}}function ui(e,t,n,r){oi[si++]=e,oi[si++]=t,oi[si++]=n,oi[si++]=r,ci|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function di(e,t,n,r){return ui(e,t,n,r),mi(e)}function fi(e,t){return ui(e,null,null,t),mi(e)}function pi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Je(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function mi(e){if(50<yu)throw yu=0,bu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hi={};function gi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(e,t,n,r){return new gi(e,t,n,r)}function vi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,t){var n=e.alternate;return n===null?(n=_i(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function bi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)vi(e)&&(s=1);else if(typeof e==`string`)s=$f(e,n,_e.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ae:return e=_i(31,n,t,a),e.elementType=ae,e.lanes=o,e;case y:return Si(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=_i(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case C:return e=_i(13,n,t,a),e.elementType=C,e.lanes=o,e;case ne:return e=_i(19,n,t,a),e.elementType=ne,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case te:s=10;break a;case ee:s=9;break a;case S:s=11;break a;case re:s=14;break a;case ie:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=_i(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Si(e,t,n,r){return e=_i(7,e,r,t),e.lanes=n,e}function Ci(e,t,n){return e=_i(6,e,null,t),e.lanes=n,e}function wi(e){var t=_i(18,null,null,0);return t.stateNode=e,t}function Ti(e,t,n){return t=_i(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ei=new WeakMap;function Di(e,t){if(typeof e==`object`&&e){var n=Ei.get(e);return n===void 0?(t={value:e,source:t,stack:je(t)},Ei.set(e,t),t):n}return{value:e,source:t,stack:je(t)}}var Oi=[],ki=0,Ai=null,ji=0,Mi=[],Ni=0,Pi=null,Fi=1,Ii=``;function Li(e,t){Oi[ki++]=ji,Oi[ki++]=Ai,Ai=e,ji=t}function Ri(e,t,n){Mi[Ni++]=Fi,Mi[Ni++]=Ii,Mi[Ni++]=Pi,Pi=e;var r=Fi;e=Ii;var i=32-Je(r)-1;r&=~(1<<i),n+=1;var a=32-Je(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fi=1<<32-Je(t)+i|n<<i|r,Ii=a+e}else Fi=1<<a|n<<i|r,Ii=e}function zi(e){e.return!==null&&(Li(e,1),Ri(e,1,0))}function Bi(e){for(;e===Ai;)Ai=Oi[--ki],Oi[ki]=null,ji=Oi[--ki],Oi[ki]=null;for(;e===Pi;)Pi=Mi[--Ni],Mi[Ni]=null,Ii=Mi[--Ni],Mi[Ni]=null,Fi=Mi[--Ni],Mi[Ni]=null}function Vi(e,t){Mi[Ni++]=Fi,Mi[Ni++]=Ii,Mi[Ni++]=Pi,Fi=t.id,Ii=t.overflow,Pi=e}var Hi=null,Ui=null,A=!1,Wi=null,Gi=!1,Ki=Error(i(519));function qi(e){throw Xi(Di(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ki}function Ji(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[_t]=e,t[vt]=r,n){case`dialog`:U(`cancel`,t),U(`close`,t);break;case`iframe`:case`object`:case`embed`:U(`load`,t);break;case`video`:case`audio`:for(n=0;n<Ed.length;n++)U(Ed[n],t);break;case`source`:U(`error`,t);break;case`img`:case`image`:case`link`:U(`error`,t),U(`load`,t);break;case`details`:U(`toggle`,t);break;case`input`:U(`invalid`,t),Xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:U(`invalid`,t);break;case`textarea`:U(`invalid`,t),en(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Vd(t.textContent,n)?(r.popover!=null&&(U(`beforetoggle`,t),U(`toggle`,t)),r.onScroll!=null&&U(`scroll`,t),r.onScrollEnd!=null&&U(`scrollend`,t),r.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||qi(e,!0)}function j(e){for(Hi=e.return;Hi;)switch(Hi.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Hi=Hi.return}}function Yi(e){if(e!==Hi)return!1;if(!A)return j(e),A=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||$d(e.type,e.memoizedProps)),n=!n),n&&Ui&&qi(e),j(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ui=bf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ui=bf(e)}else t===27?(t=Ui,cf(e.type)?(e=yf,yf=null,Ui=e):Ui=t):Ui=Hi?vf(e.stateNode.nextSibling):null;return!0}function M(){Ui=Hi=null,A=!1}function N(){var e=Wi;return e!==null&&(au===null?au=e:au.push.apply(au,e),Wi=null),e}function Xi(e){Wi===null?Wi=[e]:Wi.push(e)}var P=he(null),Zi=null,Qi=null;function $i(e,t,n){E(P,t._currentValue),t._currentValue=n}function F(e){e._currentValue=P.current,ge(P)}function ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function ta(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ea(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ea(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function na(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;jr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===be.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[cp]:e.push(cp))}a=a.return}e!==null&&ta(t,e,n,r),t.flags|=262144}function ra(e){for(e=e.firstContext;e!==null;){if(!jr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function I(e){Zi=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ia(e){return oa(Zi,e)}function aa(e,t){return Zi===null&&I(e),oa(e,t)}function oa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qi===null){if(e===null)throw Error(i(308));Qi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qi=Qi.next=t;return n}var sa=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ca=t.unstable_scheduleCallback,la=t.unstable_NormalPriority,L={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ua(){return{controller:new sa,data:new Map,refCount:0}}function da(e){e.refCount--,e.refCount===0&&ca(la,function(){e.controller.abort()})}var fa=null,pa=0,ma=0,ha=null;function ga(e,t){if(fa===null){var n=fa=[];pa=0,ma=bd(),ha={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return pa++,t.then(_a,_a),t}function _a(){if(--pa===0&&fa!==null){ha!==null&&(ha.status=`fulfilled`);var e=fa;fa=null,ma=0,ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function va(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ya=w.S;w.S=function(e,t){cu=Ie(),typeof t==`object`&&t&&typeof t.then==`function`&&ga(e,t),ya!==null&&ya(e,t)};var R=he(null);function ba(){var e=R.current;return e===null?Gl.pooledCache:e}function xa(e,t){t===null?E(R,R.current):E(R,t.pool)}function Sa(){var e=ba();return e===null?null:{parent:L._currentValue,pool:e}}var Ca=Error(i(460)),wa=Error(i(474)),Ta=Error(i(542)),Ea={then:function(){}};function Da(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Oa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ma(e),e;default:if(typeof t.status==`string`)t.then(un,un);else{if(e=Gl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ma(e),e}throw Aa=t,Ca}}function ka(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Aa=e,Ca):e}}var Aa=null;function ja(){if(Aa===null)throw Error(i(459));var e=Aa;return Aa=null,e}function Ma(e){if(e===Ca||e===Ta)throw Error(i(483))}var Na=null,Pa=0;function Fa(e){var t=Pa;return Pa+=1,Na===null&&(Na=[]),Oa(Na,e,t)}function Ia(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function z(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function La(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=yi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Ci(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ie&&ka(i)===t.type)?(t=a(t,n.props),Ia(t,n),t.return=e,t):(t=xi(n.type,n.key,n.props,null,e.mode,r),Ia(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ti(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Si(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=Ci(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=xi(t.type,t.key,t.props,null,e.mode,n),Ia(n,t),n.return=e,n;case v:return t=Ti(t,e.mode,n),t.return=e,t;case ie:return t=ka(t),f(e,t,n)}if(de(t)||ce(t))return t=Si(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Fa(t),n);if(t.$$typeof===te)return f(e,aa(e,t),n);z(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case ie:return n=ka(n),p(e,t,n,r)}if(de(n)||ce(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Fa(n),r);if(n.$$typeof===te)return p(e,t,aa(e,n),r);z(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ie:return r=ka(r),m(e,t,n,r,i)}if(de(r)||ce(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Fa(r),i);if(r.$$typeof===te)return m(e,t,n,aa(t,r),i);z(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),A&&Li(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return A&&Li(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),A&&Li(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),A&&Li(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return A&&Li(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),A&&Li(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ie&&ka(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ia(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=Si(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=xi(o.type,o.key,o.props,null,e.mode,c),Ia(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ti(o,e.mode,c),c.return=e,e=c}return s(e);case ie:return o=ka(o),b(e,r,o,c)}if(de(o))return h(e,r,o,c);if(ce(o)){if(l=ce(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Fa(o),c);if(o.$$typeof===te)return b(e,r,aa(e,o),c);z(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=Ci(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Pa=0;var i=b(e,t,n,r);return Na=null,i}catch(t){if(t===Ca||t===Ta)throw t;var a=_i(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ra=La(!0),za=La(!1),Ba=!1;function Va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Wl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=mi(e),pi(e,null,n),t}return ui(e,r,t,n),mi(e)}function Ga(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}function Ka(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var qa=!1;function Ja(){if(qa){var e=ha;if(e!==null)throw e}}function Ya(e,t,n,r){qa=!1;var i=e.updateQueue;Ba=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(H&f)===f:(r&f)===f){f!==0&&f===ma&&(qa=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Ba=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),$l|=o,e.lanes=o,e.memoizedState=d}}function Xa(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Za(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Xa(n[e],t)}var Qa=he(null),$a=he(0);function eo(e,t){e=Zl,E($a,e),E(Qa,t),Zl=e|t.baseLanes}function to(){E($a,Zl),E(Qa,Qa.current)}function no(){Zl=$a.current,ge(Qa),ge($a)}var ro=he(null),io=null;function ao(e){var t=e.alternate;E(uo,uo.current&1),E(ro,e),io===null&&(t===null||Qa.current!==null||t.memoizedState!==null)&&(io=e)}function oo(e){E(uo,uo.current),E(ro,e),io===null&&(io=e)}function so(e){e.tag===22?(E(uo,uo.current),E(ro,e),io===null&&(io=e)):co(e)}function co(){E(uo,uo.current),E(ro,ro.current)}function lo(e){ge(ro),io===e&&(io=null),ge(uo)}var uo=he(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||hf(n)||gf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=0,B=null,mo=null,ho=null,go=!1,_o=!1,vo=!1,yo=0,bo=0,xo=null,So=0;function Co(){throw Error(i(321))}function wo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,a){return po=a,B=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Hs:Us,vo=!1,a=n(r,i),vo=!1,_o&&(a=Do(t,n,r,i)),Eo(e),a}function Eo(e){w.H=Vs;var t=mo!==null&&mo.next!==null;if(po=0,ho=mo=B=null,go=!1,bo=0,xo=null,t)throw Error(i(300));e===null||oc||(e=e.dependencies,e!==null&&ra(e)&&(oc=!0))}function Do(e,t,n,r){B=e;var a=0;do{if(_o&&(xo=null),bo=0,_o=!1,25<=a)throw Error(i(301));if(a+=1,ho=mo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}w.H=Ws,o=t(n,r)}while(_o);return o}function Oo(){var e=w.H,t=e.useState()[0];return t=typeof t.then==`function`?Fo(t):t,e=e.useState()[0],(mo===null?null:mo.memoizedState)!==e&&(B.flags|=1024),t}function ko(){var e=yo!==0;return yo=0,e}function Ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function jo(e){if(go){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}go=!1}po=0,ho=mo=B=null,_o=!1,bo=yo=0,xo=null}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ho===null?B.memoizedState=ho=e:ho=ho.next=e,ho}function No(){if(mo===null){var e=B.alternate;e=e===null?null:e.memoizedState}else e=mo.next;var t=ho===null?B.memoizedState:ho.next;if(t!==null)ho=t,mo=e;else{if(e===null)throw B.alternate===null?Error(i(467)):Error(i(310));mo=e,e={memoizedState:mo.memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},ho===null?B.memoizedState=ho=e:ho=ho.next=e}return ho}function Po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var t=bo;return bo+=1,xo===null&&(xo=[]),e=Oa(xo,e,t),t=B,(ho===null?t.memoizedState:ho.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Hs:Us),e}function Io(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Fo(e);if(e.$$typeof===te)return ia(e)}throw Error(i(438,String(e)))}function Lo(e){var t=null,n=B.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=B.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Po(),B.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=oe;return t.index++,n}function Ro(e,t){return typeof t==`function`?t(e):t}function zo(e){return Bo(No(),mo,e)}function Bo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(po&f)===f:(H&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ma&&(d=!0);else if((po&p)===p){u=u.next,p===ma&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,B.lanes|=p,$l|=p;f=u.action,vo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,B.lanes|=f,$l|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!jr(o,e.memoizedState)&&(oc=!0,d&&(n=ha,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Vo(e){var t=No(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);jr(o,t.memoizedState)||(oc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ho(e,t,n){var r=B,a=No(),o=A;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!jr((mo||a).memoizedState,n);if(s&&(a.memoizedState=n,oc=!0),a=a.queue,ps(Go.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||ho!==null&&ho.memoizedState.tag&1){if(r.flags|=2048,cs(9,{destroy:void 0},Wo.bind(null,r,a,n,t),null),Gl===null)throw Error(i(349));o||po&127||Uo(r,t,n)}return n}function Uo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=B.updateQueue,t===null?(t=Po(),B.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wo(e,t,n,r){t.value=n,t.getSnapshot=r,Ko(t)&&qo(e)}function Go(e,t,n){return n(function(){Ko(t)&&qo(e)})}function Ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jr(e,n)}catch{return!0}}function qo(e){var t=fi(e,2);t!==null&&Cu(t,e,2)}function Jo(e){var t=Mo();if(typeof e==`function`){var n=e;if(e=n(),vo){qe(!0);try{n()}finally{qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t}function Yo(e,t,n,r){return e.baseState=n,Bo(e,mo,typeof r==`function`?r:Ro)}function Xo(e,t,n,r,a){if(Rs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};w.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Zo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Zo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=w.T,o={};w.T=o;try{var s=n(i,r),c=w.S;c!==null&&c(o,s),Qo(e,t,s)}catch(n){es(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),w.T=a}}else try{a=n(i,r),Qo(e,t,a)}catch(n){es(e,t,n)}}function Qo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){$o(e,t,n)},function(n){return es(e,t,n)}):$o(e,t,n)}function $o(e,t,n){t.status=`fulfilled`,t.value=n,ts(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Zo(e,n)))}function es(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,ts(t),t=t.next;while(t!==r)}e.action=null}function ts(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ns(e,t){return t}function rs(e,t){if(A){var n=Gl.formState;if(n!==null){a:{var r=B;if(A){if(Ui){b:{for(var i=Ui,a=Gi;i.nodeType!==8;){if(!a){i=null;break b}if(i=vf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ui=vf(i.nextSibling),r=i.data===`F!`;break a}}qi(r)}r=!1}r&&(t=n[0])}}return n=Mo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n.queue=r,n=Fs.bind(null,B,r),r.dispatch=n,r=Jo(!1),a=Ls.bind(null,B,!1,r.queue),r=Mo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Xo.bind(null,B,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function is(e){return as(No(),mo,e)}function as(e,t,n){if(t=Bo(e,t,ns)[0],e=zo(Ro)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Fo(t)}catch(e){throw e===Ca?Ta:e}else r=t;t=No();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(B.flags|=2048,cs(9,{destroy:void 0},os.bind(null,i,n),null)),[r,a,e]}function os(e,t){e.action=t}function ss(e){var t=No(),n=mo;if(n!==null)return as(t,n,e);No(),t=t.memoizedState,n=No();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function cs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=B.updateQueue,t===null&&(t=Po(),B.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ls(){return No().memoizedState}function us(e,t,n,r){var i=Mo();B.flags|=e,i.memoizedState=cs(1|t,{destroy:void 0},n,r===void 0?null:r)}function ds(e,t,n,r){var i=No();r=r===void 0?null:r;var a=i.memoizedState.inst;mo!==null&&r!==null&&wo(r,mo.memoizedState.deps)?i.memoizedState=cs(t,a,n,r):(B.flags|=e,i.memoizedState=cs(1|t,a,n,r))}function fs(e,t){us(8390656,8,e,t)}function ps(e,t){ds(2048,8,e,t)}function ms(e){B.flags|=4;var t=B.updateQueue;if(t===null)t=Po(),B.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function hs(e){var t=No().memoizedState;return ms({ref:t,nextImpl:e}),function(){if(Wl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function gs(e,t){return ds(4,2,e,t)}function _s(e,t){return ds(4,4,e,t)}function vs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ys(e,t,n){n=n==null?null:n.concat([e]),ds(4,4,vs.bind(null,t,e),n)}function bs(){}function xs(e,t){var n=No();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=No();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&wo(t,r[1]))return r[0];if(r=e(),vo){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r}function Cs(e,t,n){return n===void 0||po&1073741824&&!(H&261930)?e.memoizedState=t:(e.memoizedState=n,e=Su(),B.lanes|=e,$l|=e,n)}function ws(e,t,n,r){return jr(n,t)?n:Qa.current===null?!(po&42)||po&1073741824&&!(H&261930)?(oc=!0,e.memoizedState=n):(e=Su(),B.lanes|=e,$l|=e,t):(e=Cs(e,n,r),jr(e,t)||(oc=!0),e)}function Ts(e,t,n,r,i){var a=T.p;T.p=a!==0&&8>a?a:8;var o=w.T,s={};w.T=s,Ls(e,!1,t,n);try{var c=i(),l=w.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Is(e,t,va(c,r),xu(e)):Is(e,t,r,xu(e))}catch(n){Is(e,t,{then:function(){},status:`rejected`,reason:n},xu())}finally{T.p=a,o!==null&&s.types!==null&&(o.types=s.types),w.T=o}}function Es(){}function Ds(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Os(e).queue;Ts(e,a,t,fe,n===null?Es:function(){return ks(e),n(r)})}function Os(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:fe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ks(e){var t=Os(e);t.next===null&&(t=e.alternate.memoizedState),Is(e,t.next.queue,{},xu())}function As(){return ia(cp)}function js(){return No().memoizedState}function Ms(){return No().memoizedState}function Ns(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xu();e=Ua(n);var r=Wa(t,e,n);r!==null&&(Cu(r,t,n),Ga(r,t,n)),t={cache:ua()},e.payload=t;return}t=t.return}}function Ps(e,t,n){var r=xu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rs(e)?zs(t,n):(n=di(e,t,n,r),n!==null&&(Cu(n,e,r),Bs(n,t,r)))}function Fs(e,t,n){Is(e,t,n,xu())}function Is(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rs(e))zs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,jr(s,o))return ui(e,t,i,0),Gl===null&&li(),!1}catch{}if(n=di(e,t,i,r),n!==null)return Cu(n,e,r),Bs(n,t,r),!0}return!1}function Ls(e,t,n,r){if(r={lane:2,revertLane:bd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Rs(e)){if(t)throw Error(i(479))}else t=di(e,n,r,2),t!==null&&Cu(t,e,2)}function Rs(e){var t=e.alternate;return e===B||t!==null&&t===B}function zs(e,t){_o=go=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bs(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}var Vs={readContext:ia,use:Io,useCallback:Co,useContext:Co,useEffect:Co,useImperativeHandle:Co,useLayoutEffect:Co,useInsertionEffect:Co,useMemo:Co,useReducer:Co,useRef:Co,useState:Co,useDebugValue:Co,useDeferredValue:Co,useTransition:Co,useSyncExternalStore:Co,useId:Co,useHostTransitionStatus:Co,useFormState:Co,useActionState:Co,useOptimistic:Co,useMemoCache:Co,useCacheRefresh:Co};Vs.useEffectEvent=Co;var Hs={readContext:ia,use:Io,useCallback:function(e,t){return Mo().memoizedState=[e,t===void 0?null:t],e},useContext:ia,useEffect:fs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),us(4194308,4,vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){us(4,2,e,t)},useMemo:function(e,t){var n=Mo();t=t===void 0?null:t;var r=e();if(vo){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Mo();if(n!==void 0){var i=n(t);if(vo){qe(!0);try{n(t)}finally{qe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ps.bind(null,B,e),[r.memoizedState,e]},useRef:function(e){var t=Mo();return e={current:e},t.memoizedState=e},useState:function(e){e=Jo(e);var t=e.queue,n=Fs.bind(null,B,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:bs,useDeferredValue:function(e,t){return Cs(Mo(),e,t)},useTransition:function(){var e=Jo(!1);return e=Ts.bind(null,B,e.queue,!0,!1),Mo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=B,a=Mo();if(A){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Gl===null)throw Error(i(349));H&127||Uo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,fs(Go.bind(null,r,o,e),[e]),r.flags|=2048,cs(9,{destroy:void 0},Wo.bind(null,r,o,n,t),null),n},useId:function(){var e=Mo(),t=Gl.identifierPrefix;if(A){var n=Ii,r=Fi;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=yo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=So++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:As,useFormState:rs,useActionState:rs,useOptimistic:function(e){var t=Mo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ls.bind(null,B,!0,n),n.dispatch=t,[e,t]},useMemoCache:Lo,useCacheRefresh:function(){return Mo().memoizedState=Ns.bind(null,B)},useEffectEvent:function(e){var t=Mo(),n={impl:e};return t.memoizedState=n,function(){if(Wl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Us={readContext:ia,use:Io,useCallback:xs,useContext:ia,useEffect:ps,useImperativeHandle:ys,useInsertionEffect:gs,useLayoutEffect:_s,useMemo:Ss,useReducer:zo,useRef:ls,useState:function(){return zo(Ro)},useDebugValue:bs,useDeferredValue:function(e,t){return ws(No(),mo.memoizedState,e,t)},useTransition:function(){var e=zo(Ro)[0],t=No().memoizedState;return[typeof e==`boolean`?e:Fo(e),t]},useSyncExternalStore:Ho,useId:js,useHostTransitionStatus:As,useFormState:is,useActionState:is,useOptimistic:function(e,t){return Yo(No(),mo,e,t)},useMemoCache:Lo,useCacheRefresh:Ms};Us.useEffectEvent=hs;var Ws={readContext:ia,use:Io,useCallback:xs,useContext:ia,useEffect:ps,useImperativeHandle:ys,useInsertionEffect:gs,useLayoutEffect:_s,useMemo:Ss,useReducer:Vo,useRef:ls,useState:function(){return Vo(Ro)},useDebugValue:bs,useDeferredValue:function(e,t){var n=No();return mo===null?Cs(n,e,t):ws(n,mo.memoizedState,e,t)},useTransition:function(){var e=Vo(Ro)[0],t=No().memoizedState;return[typeof e==`boolean`?e:Fo(e),t]},useSyncExternalStore:Ho,useId:js,useHostTransitionStatus:As,useFormState:ss,useActionState:ss,useOptimistic:function(e,t){var n=No();return mo===null?(n.baseState=e,[e,n.queue.dispatch]):Yo(n,mo,e,t)},useMemoCache:Lo,useCacheRefresh:Ms};Ws.useEffectEvent=hs;function Gs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ks={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xu(),i=Ua(r);i.payload=t,n!=null&&(i.callback=n),t=Wa(e,i,r),t!==null&&(Cu(t,e,r),Ga(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xu(),i=Ua(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wa(e,i,r),t!==null&&(Cu(t,e,r),Ga(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xu(),r=Ua(n);r.tag=2,t!=null&&(r.callback=t),t=Wa(e,r,n),t!==null&&(Cu(t,e,n),Ga(t,e,n))}};function qs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,a):!0}function Js(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ks.enqueueReplaceState(t,t.state,null)}function Ys(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Xs(e){ai(e)}function Zs(e){console.error(e)}function Qs(e){ai(e)}function $s(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function ec(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function tc(e,t,n){return n=Ua(n),n.tag=3,n.payload={element:null},n.callback=function(){$s(e,t)},n}function nc(e){return e=Ua(e),e.tag=3,e}function rc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ec(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){ec(t,n,r),typeof i!=`function`&&(du===null?du=new Set([this]):du.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function ic(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&na(t,n,a,!0),n=ro.current,n!==null){switch(n.tag){case 31:case 13:return io===null?Fu():n.alternate===null&&Ql===0&&(Ql=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ea?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),ed(e,r,a)),!1;case 22:return n.flags|=65536,r===Ea?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),ed(e,r,a)),!1}throw Error(i(435,n.tag))}return ed(e,r,a),Fu(),!1}if(A)return t=ro.current,t===null?(r!==Ki&&(t=Error(i(423),{cause:r}),Xi(Di(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Di(r,n),a=tc(e.stateNode,r,a),Ka(e,a),Ql!==4&&(Ql=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ki&&(e=Error(i(422),{cause:r}),Xi(Di(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Di(o,n),iu===null?iu=[o]:iu.push(o),Ql!==4&&(Ql=2),t===null)return!0;r=Di(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=tc(n.stateNode,r,e),Ka(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(du===null||!du.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=nc(a),rc(a,e,n,r),Ka(n,a),!1}n=n.return}while(n!==null);return!1}var ac=Error(i(461)),oc=!1;function sc(e,t,n,r){t.child=e===null?za(t,null,n,r):Ra(t,e.child,n,r)}function cc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return I(t),r=To(e,t,n,o,a,i),s=ko(),e!==null&&!oc?(Ao(e,t,i),Mc(e,t,i)):(A&&s&&zi(t),t.flags|=1,sc(e,t,r,i),t.child)}function lc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!vi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,uc(e,t,a,r,i)):(e=xi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Nc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Mr:n,n(o,r)&&e.ref===t.ref)return Mc(e,t,i)}return t.flags|=1,e=yi(a,r),e.ref=t.ref,e.return=t,t.child=e}function uc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Mr(a,r)&&e.ref===t.ref)if(oc=!1,t.pendingProps=r=a,Nc(e,i))e.flags&131072&&(oc=!0);else return t.lanes=e.lanes,Mc(e,t,i)}return vc(e,t,n,r,i)}function dc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return pc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xa(t,a===null?null:a.cachePool),a===null?to():eo(t,a),so(t);else return r=t.lanes=536870912,pc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&xa(t,null),to(),co(t)):(xa(t,a.cachePool),eo(t,a),co(t),t.memoizedState=null);return sc(e,t,i,n),t.child}function fc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pc(e,t,n,r,i){var a=ba();return a=a===null?null:{parent:L._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&xa(t,null),to(),so(t),e!==null&&na(e,t,r,!0),t.childLanes=i,null}function mc(e,t){return t=Dc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hc(e,t,n){return Ra(t,e.child,null,n),e=mc(t,t.pendingProps),e.flags|=2,lo(t),t.memoizedState=null,e}function gc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(A){if(r.mode===`hidden`)return e=mc(t,r),t.lanes=536870912,fc(null,e);if(oo(t),(e=Ui)?(e=mf(e,Gi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pi===null?null:{id:Fi,overflow:Ii},retryLane:536870912,hydrationErrors:null},n=wi(e),n.return=t,t.child=n,Hi=t,Ui=null)):e=null,e===null)throw qi(t);return t.lanes=536870912,null}return mc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(oo(t),a)if(t.flags&256)t.flags&=-257,t=hc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(oc||na(e,t,n,!1),a=(n&e.childLanes)!==0,oc||a){if(r=Gl,r!==null&&(s=dt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,fi(e,s),Cu(r,e,s),ac;Fu(),t=hc(e,t,n)}else e=o.treeContext,Ui=vf(s.nextSibling),Hi=t,A=!0,Wi=null,Gi=!1,e!==null&&Vi(t,e),t=mc(t,r),t.flags|=4096;return t}return e=yi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _c(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vc(e,t,n,r,i){return I(t),n=To(e,t,n,r,void 0,i),r=ko(),e!==null&&!oc?(Ao(e,t,i),Mc(e,t,i)):(A&&r&&zi(t),t.flags|=1,sc(e,t,n,i),t.child)}function yc(e,t,n,r,i,a){return I(t),t.updateQueue=null,n=Do(t,r,n,i),Eo(e),r=ko(),e!==null&&!oc?(Ao(e,t,a),Mc(e,t,a)):(A&&r&&zi(t),t.flags|=1,sc(e,t,n,a),t.child)}function bc(e,t,n,r,i){if(I(t),t.stateNode===null){var a=hi,o=n.contextType;typeof o==`object`&&o&&(a=ia(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ks,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Va(t),o=n.contextType,a.context=typeof o==`object`&&o?ia(o):hi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Gs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Ks.enqueueReplaceState(a,a.state,null),Ya(t,r,a,i),Ja(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Ys(n,s);a.props=c;var l=a.context,u=n.contextType;o=hi,typeof u==`object`&&u&&(o=ia(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Js(t,a,r,o),Ba=!1;var f=t.memoizedState;a.state=f,Ya(t,r,a,i),Ja(),l=t.memoizedState,s||f!==l||Ba?(typeof d==`function`&&(Gs(t,n,d,r),l=t.memoizedState),(c=Ba||qs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ha(e,t),o=t.memoizedProps,u=Ys(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=hi,typeof l==`object`&&l&&(c=ia(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Js(t,a,r,c),Ba=!1,f=t.memoizedState,a.state=f,Ya(t,r,a,i),Ja();var p=t.memoizedState;o!==d||f!==p||Ba||e!==null&&e.dependencies!==null&&ra(e.dependencies)?(typeof s==`function`&&(Gs(t,n,s,r),p=t.memoizedState),(u=Ba||qs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ra(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,_c(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ra(t,e.child,null,i),t.child=Ra(t,null,n,i)):sc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Mc(e,t,i),e}function xc(e,t,n,r){return M(),t.flags|=256,sc(e,t,n,r),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:Sa()}}function wc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=nu),e}function Tc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(uo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(A){if(a?ao(t):co(t),(e=Ui)?(e=mf(e,Gi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pi===null?null:{id:Fi,overflow:Ii},retryLane:536870912,hydrationErrors:null},n=wi(e),n.return=t,t.child=n,Hi=t,Ui=null)):e=null,e===null)throw qi(t);return gf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(co(t),a=t.mode,c=Dc({mode:`hidden`,children:c},a),r=Si(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Cc(n),r.childLanes=wc(e,s,n),t.memoizedState=Sc,fc(null,r)):(ao(t),Ec(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(ao(t),t.flags&=-257,t=Oc(e,t,n)):t.memoizedState===null?(co(t),c=r.fallback,a=t.mode,r=Dc({mode:`visible`,children:r.children},a),c=Si(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ra(t,e.child,null,n),r=t.child,r.memoizedState=Cc(n),r.childLanes=wc(e,s,n),t.memoizedState=Sc,t=fc(null,r)):(co(t),t.child=e.child,t.flags|=128,t=null);else if(ao(t),gf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Xi({value:r,source:null,stack:null}),t=Oc(e,t,n)}else if(oc||na(e,t,n,!1),s=(n&e.childLanes)!==0,oc||s){if(s=Gl,s!==null&&(r=dt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,fi(e,r),Cu(s,e,r),ac;hf(c)||Fu(),t=Oc(e,t,n)}else hf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ui=vf(c.nextSibling),Hi=t,A=!0,Wi=null,Gi=!1,e!==null&&Vi(t,e),t=Ec(t,r.children),t.flags|=4096);return t}return a?(co(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=yi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=Si(c,a,n,null),c.flags|=2):c=yi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,fc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Cc(n):(a=c.cachePool,a===null?a=Sa():(l=L._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=wc(e,s,n),t.memoizedState=Sc,fc(e.child,r)):(ao(t),n=e.child,e=n.sibling,n=yi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Ec(e,t){return t=Dc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Dc(e,t){return e=_i(22,e,null,t),e.lanes=0,e}function Oc(e,t,n){return Ra(t,e.child,null,n),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ea(e.return,t,n)}function Ac(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function jc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=uo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,E(uo,o),sc(e,t,r,n),r=A?ji:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ac(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ac(t,!0,n,null,a,r);break;case`together`:Ac(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Mc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$l|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(na(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=yi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ra(e))):!0}function Pc(e,t,n){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),$i(t,L,e.memoizedState.cache),M();break;case 27:case 5:Ce(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:$i(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,oo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(ao(t),e=Mc(e,t,n),e===null?null:e.sibling):Tc(e,t,n):(ao(t),t.flags|=128,null);ao(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(na(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return jc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),E(uo,uo.current),r)break;return null;case 22:return t.lanes=0,dc(e,t,n,t.pendingProps);case 24:$i(t,L,e.memoizedState.cache)}return Mc(e,t,n)}function Fc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)oc=!0;else{if(!Nc(e,n)&&!(t.flags&128))return oc=!1,Pc(e,t,n);oc=!!(e.flags&131072)}else oc=!1,A&&t.flags&1048576&&Ri(t,ji,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=ka(t.elementType),t.type=e,typeof e==`function`)vi(e)?(r=Ys(e,r),t.tag=1,t=bc(null,t,e,r,n)):(t.tag=0,t=vc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===S){t.tag=11,t=cc(null,t,e,r,n);break a}else if(a===re){t.tag=14,t=lc(null,t,e,r,n);break a}}throw t=ue(e)||e,Error(i(306,t,``))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Ys(r,t.pendingProps),bc(e,t,r,a,n);case 3:a:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ha(e,t),Ya(t,r,null,n);var s=t.memoizedState;if(r=s.cache,$i(t,L,r),r!==o.cache&&ta(t,[L],n,!0),Ja(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=xc(e,t,r,n);break a}else if(r!==a){a=Di(Error(i(424)),t),Xi(a),t=xc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ui=vf(e.firstChild),Hi=t,A=!0,Wi=null,Gi=!0,n=za(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(M(),r===a){t=Mc(e,t,n);break a}sc(e,t,r,n)}t=t.child}return t;case 26:return _c(e,t),e===null?(n=zf(t.type,null,t.pendingProps,null))?t.memoizedState=n:A||(n=t.type,e=t.pendingProps,r=Xd(ye.current).createElement(n),r[_t]=t,r[vt]=e,Wd(r,n,e),At(r),t.stateNode=r):t.memoizedState=zf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&A&&(r=t.stateNode=Sf(t.type,t.pendingProps,ye.current),Hi=t,Gi=!0,a=Ui,cf(t.type)?(yf=a,Ui=vf(r.firstChild)):Ui=a),sc(e,t,t.pendingProps.children,n),_c(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&A&&((a=r=Ui)&&(r=ff(r,t.type,t.pendingProps,Gi),r===null?a=!1:(t.stateNode=r,Hi=t,Ui=vf(r.firstChild),Gi=!1,a=!0)),a||qi(t)),Ce(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,$d(a,o)?r=null:s!==null&&$d(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=To(e,t,Oo,null,null,n),cp._currentValue=a),_c(e,t),sc(e,t,r,n),t.child;case 6:return e===null&&A&&((e=n=Ui)&&(n=pf(n,t.pendingProps,Gi),n===null?e=!1:(t.stateNode=n,Hi=t,Ui=null,e=!0)),e||qi(t)),null;case 13:return Tc(e,t,n);case 4:return xe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ra(t,null,r,n):sc(e,t,r,n),t.child;case 11:return cc(e,t,t.type,t.pendingProps,n);case 7:return sc(e,t,t.pendingProps,n),t.child;case 8:return sc(e,t,t.pendingProps.children,n),t.child;case 12:return sc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,$i(t,t.type,r.value),sc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,I(t),a=ia(a),r=r(a),t.flags|=1,sc(e,t,r,n),t.child;case 14:return lc(e,t,t.type,t.pendingProps,n);case 15:return uc(e,t,t.type,t.pendingProps,n);case 19:return jc(e,t,n);case 31:return gc(e,t,n);case 22:return dc(e,t,n,t.pendingProps);case 24:return I(t),r=ia(L),e===null?(a=ba(),a===null&&(a=Gl,o=ua(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Va(t),$i(t,L,a)):((e.lanes&n)!==0&&(Ha(e,t),Ya(t,null,null,n),Ja()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,$i(t,L,r),r!==a.cache&&ta(t,[L],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),$i(t,L,r))),sc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ic(e){e.flags|=4}function Lc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Mu())e.flags|=8192;else throw Aa=Ea,wa}else e.flags&=-16777217}function Rc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ep(t))if(Mu())e.flags|=8192;else throw Aa=Ea,wa}function zc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:at(),e.lanes|=t,ru|=t)}function Bc(e,t){if(!A)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hc(e,t,n){var r=t.pendingProps;switch(Bi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vc(t),null;case 1:return Vc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),F(L),Se(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Yi(t)?Ic(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,N())),Vc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Ic(t),o===null?(Vc(t),Lc(t,a,null,r,n)):(Vc(t),Rc(t,o))):o?o===e.memoizedState?(Vc(t),t.flags&=-16777217):(Ic(t),Vc(t),Rc(t,o)):(e=e.memoizedProps,e!==r&&Ic(t),Vc(t),Lc(t,a,e,r,n)),null;case 27:if(we(t),n=ye.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ic(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Vc(t),null}e=_e.current,Yi(t)?Ji(t,e):(e=Sf(a,r,n),t.stateNode=e,Ic(t))}return Vc(t),null;case 5:if(we(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ic(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Vc(t),null}if(o=_e.current,Yi(t))Ji(t,o);else{var s=Xd(ye.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[_t]=t,o[vt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Wd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Ic(t)}}return Vc(t),Lc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ic(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ye.current,Yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Hi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[_t]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Vd(e.nodeValue,n)),e||qi(t,!0)}else e=Xd(e).createTextNode(r),e[_t]=t,t.stateNode=e}return Vc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Yi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[_t]=t}else M(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vc(t),e=!1}else n=N(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(lo(t),t):(lo(t),null);if(t.flags&128)throw Error(i(558))}return Vc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Yi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[_t]=t}else M(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vc(t),a=!1}else a=N(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(lo(t),t):(lo(t),null)}return lo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),zc(t,t.updateQueue),Vc(t),null);case 4:return Se(),e===null&&jd(t.stateNode.containerInfo),Vc(t),null;case 10:return F(t.type),Vc(t),null;case 19:if(ge(uo),r=t.memoizedState,r===null)return Vc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Bc(r,!1);else{if(Ql!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fo(e),o!==null){for(t.flags|=128,Bc(r,!1),e=o.updateQueue,t.updateQueue=e,zc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)bi(n,e),n=n.sibling;return E(uo,uo.current&1|2),A&&Li(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ie()>lu&&(t.flags|=128,a=!0,Bc(r,!1),t.lanes=4194304)}else{if(!a)if(e=fo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,zc(t,e),Bc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!A)return Vc(t),null}else 2*Ie()-r.renderingStartTime>lu&&n!==536870912&&(t.flags|=128,a=!0,Bc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Vc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ie(),e.sibling=null,n=uo.current,E(uo,a?n&1|2:n&1),A&&Li(t,r.treeForkCount),e);case 22:case 23:return lo(t),no(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Vc(t),t.subtreeFlags&6&&(t.flags|=8192)):Vc(t),n=t.updateQueue,n!==null&&zc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ge(R),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),F(L),Vc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Uc(e,t){switch(Bi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return F(L),Se(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return we(t),null;case 31:if(t.memoizedState!==null){if(lo(t),t.alternate===null)throw Error(i(340));M()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(lo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));M()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(uo),null;case 4:return Se(),null;case 10:return F(t.type),null;case 22:case 23:return lo(t),no(),e!==null&&ge(R),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return F(L),null;case 25:return null;default:return null}}function Wc(e,t){switch(Bi(t),t.tag){case 3:F(L),Se();break;case 26:case 27:case 5:we(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&lo(t);break;case 13:lo(t);break;case 19:ge(uo);break;case 10:F(t.type);break;case 22:case 23:lo(t),no(),e!==null&&ge(R);break;case 24:F(L)}}function Gc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){$u(t,t.return,e)}}function Kc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){$u(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){$u(t,t.return,e)}}function qc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Za(t,n)}catch(t){$u(e,e.return,t)}}}function Jc(e,t,n){n.props=Ys(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){$u(e,t,n)}}function Yc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){$u(e,t,n)}}function Xc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){$u(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){$u(e,t,n)}else n.current=null}function Zc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){$u(e,e.return,t)}}function Qc(e,t,n){try{var r=e.stateNode;Gd(r,e.type,n,t),r[vt]=t}catch(t){$u(e,e.return,t)}}function $c(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cf(e.type)||e.tag===4}function el(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||$c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cf(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(r!==4&&(r===27&&cf(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&cf(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(nl(e,t,n),e=e.sibling;e!==null;)nl(e,t,n),e=e.sibling}function rl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Wd(t,r,n),t[_t]=e,t[vt]=n}catch(t){$u(e,e.return,t)}}var il=!1,al=!1,ol=!1,sl=typeof WeakSet==`function`?WeakSet:Set,cl=null;function ll(e,t){if(e=e.containerInfo,Jd=_p,e=Ir(e),Lr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Yd={focusedElem:e,selectionRange:n},_p=!1,cl=t;cl!==null;)if(t=cl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,cl=e;else for(;cl!==null;){switch(t=cl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ys(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){$u(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)df(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:df(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,cl=e;break}cl=t.return}}function ul(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Tl(e,n),r&4&&Gc(5,n);break;case 1:if(Tl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){$u(n,n.return,e)}else{var i=Ys(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){$u(n,n.return,e)}}r&64&&qc(n),r&512&&Yc(n,n.return);break;case 3:if(Tl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Za(e,t)}catch(e){$u(n,n.return,e)}}break;case 27:t===null&&r&4&&rl(n);case 26:case 5:Tl(e,n),t===null&&r&4&&Zc(n),r&512&&Yc(n,n.return);break;case 12:Tl(e,n);break;case 31:Tl(e,n),r&4&&gl(e,n);break;case 13:Tl(e,n),r&4&&_l(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=rd.bind(null,n),_f(e,n))));break;case 22:if(r=n.memoizedState!==null||il,!r){t=t!==null&&t.memoizedState!==null||al,i=il;var a=al;il=r,(al=t)&&!a?Dl(e,n,(n.subtreeFlags&8772)!=0):Tl(e,n),il=i,al=a}break;case 30:break;default:Tl(e,n)}}function dl(e){var t=e.alternate;t!==null&&(e.alternate=null,dl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fl=null,pl=!1;function ml(e,t,n){for(n=n.child;n!==null;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(Ke&&typeof Ke.onCommitFiberUnmount==`function`)try{Ke.onCommitFiberUnmount(Ge,n)}catch{}switch(n.tag){case 26:al||Xc(n,t),ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:al||Xc(n,t);var r=fl,i=pl;cf(n.type)&&(fl=n.stateNode,pl=!1),ml(e,t,n),Cf(n.stateNode),fl=r,pl=i;break;case 5:al||Xc(n,t);case 6:if(r=fl,i=pl,fl=null,ml(e,t,n),fl=r,pl=i,fl!==null)if(pl)try{(fl.nodeType===9?fl.body:fl.nodeName===`HTML`?fl.ownerDocument.body:fl).removeChild(n.stateNode)}catch(e){$u(n,t,e)}else try{fl.removeChild(n.stateNode)}catch(e){$u(n,t,e)}break;case 18:fl!==null&&(pl?(e=fl,lf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Up(e)):lf(fl,n.stateNode));break;case 4:r=fl,i=pl,fl=n.stateNode.containerInfo,pl=!0,ml(e,t,n),fl=r,pl=i;break;case 0:case 11:case 14:case 15:Kc(2,n,t),al||Kc(4,n,t),ml(e,t,n);break;case 1:al||(Xc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Jc(n,t,r)),ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:al=(r=al)||n.memoizedState!==null,ml(e,t,n),al=r;break;default:ml(e,t,n)}}function gl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Up(e)}catch(e){$u(t,t.return,e)}}}function _l(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Up(e)}catch(e){$u(t,t.return,e)}}function vl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sl),t;default:throw Error(i(435,e.tag))}}function yl(e,t){var n=vl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=id.bind(null,e,t);t.then(r,r)}})}function bl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(cf(c.type)){fl=c.stateNode,pl=!1;break a}break;case 5:fl=c.stateNode,pl=!1;break a;case 3:case 4:fl=c.stateNode.containerInfo,pl=!0;break a}c=c.return}if(fl===null)throw Error(i(160));hl(o,s,a),fl=null,pl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sl(t,e),t=t.sibling}var xl=null;function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bl(t,e),Cl(e),r&4&&(Kc(3,e,e.return),Gc(3,e),Kc(5,e,e.return));break;case 1:bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),r&64&&il&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=xl;if(bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[wt]||o[_t]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Wd(o,r,n),o[_t]=e,At(o),r=o;break a;case`link`:var s=Zf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Wd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Zf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Wd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[_t]=e,At(o),r=o}e.stateNode=r}else Qf(a,e.type,e.stateNode);else e.stateNode=Kf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Qc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Qf(a,e.type,e.stateNode):Kf(a,r,e.memoizedProps))}break;case 27:bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),n!==null&&r&4&&Qc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(bl(t,e),Cl(e),r&512&&(al||n===null||Xc(n,n.return)),e.flags&32){a=e.stateNode;try{tn(a,``)}catch(t){$u(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Qc(e,a,n===null?a:n.memoizedProps)),r&1024&&(ol=!0);break;case 6:if(bl(t,e),Cl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){$u(e,e.return,t)}}break;case 3:if(Xf=null,a=xl,xl=Ef(t.containerInfo),bl(t,e),xl=a,Cl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Up(t.containerInfo)}catch(t){$u(e,e.return,t)}ol&&(ol=!1,wl(e));break;case 4:r=xl,xl=Ef(e.stateNode.containerInfo),bl(t,e),Cl(e),xl=r;break;case 12:bl(t,e),Cl(e);break;case 31:bl(t,e),Cl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 13:bl(t,e),Cl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(su=Ie()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=il,d=al;if(il=u||a,al=d||l,bl(t,e),al=d,il=u,Cl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||il||al||El(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){$u(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){$u(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?uf(m,!0):uf(l.stateNode,!1)}catch(e){$u(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,yl(e,n))));break;case 19:bl(t,e),Cl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 30:break;case 21:break;default:bl(t,e),Cl(e)}}function Cl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if($c(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;nl(e,el(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(tn(o,``),n.flags&=-33),nl(e,el(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;tl(e,el(e),s);break;default:throw Error(i(161))}}catch(t){$u(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ul(e,t.alternate,t),t=t.sibling}function El(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kc(4,t,t.return),El(t);break;case 1:Xc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Jc(t,t.return,n),El(t);break;case 27:Cf(t.stateNode);case 26:case 5:Xc(t,t.return),El(t);break;case 22:t.memoizedState===null&&El(t);break;case 30:El(t);break;default:El(t)}e=e.sibling}}function Dl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Dl(i,a,n),Gc(4,a);break;case 1:if(Dl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){$u(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Xa(c[i],s)}catch(e){$u(r,r.return,e)}}n&&o&64&&qc(a),Yc(a,a.return);break;case 27:rl(a);case 26:case 5:Dl(i,a,n),n&&r===null&&o&4&&Zc(a),Yc(a,a.return);break;case 12:Dl(i,a,n);break;case 31:Dl(i,a,n),n&&o&4&&gl(i,a);break;case 13:Dl(i,a,n),n&&o&4&&_l(i,a);break;case 22:a.memoizedState===null&&Dl(i,a,n),Yc(a,a.return);break;case 30:break;default:Dl(i,a,n)}t=t.sibling}}function Ol(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&da(n))}function kl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&da(e))}function Al(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jl(e,t,n,r),t=t.sibling}function jl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Al(e,t,n,r),i&2048&&Gc(9,t);break;case 1:Al(e,t,n,r);break;case 3:Al(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&da(e)));break;case 12:if(i&2048){Al(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){$u(t,t.return,e)}}else Al(e,t,n,r);break;case 31:Al(e,t,n,r);break;case 13:Al(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Al(e,t,n,r):(a._visibility|=2,Ml(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Al(e,t,n,r):Nl(e,t),i&2048&&Ol(o,t);break;case 24:Al(e,t,n,r),i&2048&&kl(t.alternate,t);break;default:Al(e,t,n,r)}}function Ml(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Ml(a,o,s,c,i),Gc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Ml(a,o,s,c,i)):u._visibility&2?Ml(a,o,s,c,i):Nl(a,o),i&&l&2048&&Ol(o.alternate,o);break;case 24:Ml(a,o,s,c,i),i&&l&2048&&kl(o.alternate,o);break;default:Ml(a,o,s,c,i)}t=t.sibling}}function Nl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Nl(n,r),i&2048&&Ol(r.alternate,r);break;case 24:Nl(n,r),i&2048&&kl(r.alternate,r);break;default:Nl(n,r)}t=t.sibling}}var Pl=8192;function Fl(e,t,n){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)Il(e,t,n),e=e.sibling}function Il(e,t,n){switch(e.tag){case 26:Fl(e,t,n),e.flags&Pl&&e.memoizedState!==null&&tp(n,xl,e.memoizedState,e.memoizedProps);break;case 5:Fl(e,t,n);break;case 3:case 4:var r=xl;xl=Ef(e.stateNode.containerInfo),Fl(e,t,n),xl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Pl,Pl=16777216,Fl(e,t,n),Pl=r):Fl(e,t,n));break;default:Fl(e,t,n)}}function Ll(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];cl=r,Vl(r,e)}Ll(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zl(e),e=e.sibling}function zl(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&Kc(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bl(e)):Rl(e);break;default:Rl(e)}}function Bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];cl=r,Vl(r,e)}Ll(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kc(8,t,t.return),Bl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Bl(t));break;default:Bl(t)}e=e.sibling}}function Vl(e,t){for(;cl!==null;){var n=cl;switch(n.tag){case 0:case 11:case 15:Kc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:da(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,cl=r;else a:for(n=e;cl!==null;){r=cl;var i=r.sibling,a=r.return;if(dl(r),r===n){cl=null;break a}if(i!==null){i.return=a,cl=i;break a}cl=a}}}var Hl={getCacheForType:function(e){var t=ia(L),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ia(L).controller.signal}},Ul=typeof WeakMap==`function`?WeakMap:Map,Wl=0,Gl=null,V=null,H=0,Kl=0,ql=null,Jl=!1,Yl=!1,Xl=!1,Zl=0,Ql=0,$l=0,eu=0,tu=0,nu=0,ru=0,iu=null,au=null,ou=!1,su=0,cu=0,lu=1/0,uu=null,du=null,fu=0,pu=null,mu=null,hu=0,gu=0,_u=null,vu=null,yu=0,bu=null;function xu(){return Wl&2&&H!==0?H&-H:w.T===null?mt():bd()}function Su(){if(nu===0)if(!(H&536870912)||A){var e=$e;$e<<=1,!($e&3932160)&&($e=262144),nu=e}else nu=536870912;return e=ro.current,e!==null&&(e.flags|=32),nu}function Cu(e,t,n){(e===Gl&&(Kl===2||Kl===9)||e.cancelPendingCommit!==null)&&(Au(e,0),Du(e,H,nu,!1)),st(e,n),(!(Wl&2)||e!==Gl)&&(e===Gl&&(!(Wl&2)&&(eu|=n),Ql===4&&Du(e,H,nu,!1)),fd(e))}function wu(e,t,n){if(Wl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||rt(e,t),a=r?Ru(e,t):Iu(e,t,!0),o=r;do{if(a===0){Yl&&!r&&Du(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Eu(n)){a=Iu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=iu;var l=c.current.memoizedState.isDehydrated;if(l&&(Au(c,s).flags|=256),s=Iu(c,s,!1),s!==2){if(Xl&&!l){c.errorRecoveryDisabledLanes|=o,eu|=o,a=4;break a}o=au,au=a,o!==null&&(au===null?au=o:au.push.apply(au,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Au(e,0),Du(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Du(r,t,nu,!Jl);break a;case 2:au=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=su+300-Ie(),10<a)){if(Du(r,t,nu,!Jl),nt(r,0,!0)!==0)break a;hu=t,r.timeoutHandle=nf(Tu.bind(null,r,n,au,uu,ou,t,nu,eu,ru,Jl,o,`Throttled`,-0,0),a);break a}Tu(r,n,au,uu,ou,t,nu,eu,ru,Jl,o,null,-0,0)}}break}while(1);fd(e)}function Tu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Il(t,a,d);var m=(a&62914560)===a?su-Ie():(a&4194048)===a?cu-Ie():0;if(m=rp(d,m),m!==null){hu=a,e.cancelPendingCommit=m(Gu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Du(e,a,o,!l);return}}Gu(e,t,a,n,r,i,o,s,c)}function Eu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!jr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Du(e,t,n,r){t&=~tu,t&=~eu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Je(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&lt(e,n,t)}function Ou(){return Wl&6?!0:(pd(0,!1),!1)}function ku(){if(V!==null){if(Kl===0)var e=V.return;else e=V,Qi=Zi=null,jo(e),Na=null,Pa=0,e=V;for(;e!==null;)Wc(e.alternate,e),e=e.return;V=null}}function Au(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,rf(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),hu=0,ku(),Gl=e,V=n=yi(e.current,null),H=t,Kl=0,ql=null,Jl=!1,Yl=rt(e,t),Xl=!1,ru=nu=tu=eu=$l=Ql=0,au=iu=null,ou=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Je(r),a=1<<i;t|=e[i],r&=~a}return Zl=t,li(),n}function ju(e,t){B=null,w.H=Vs,t===Ca||t===Ta?(t=ja(),Kl=3):t===wa?(t=ja(),Kl=4):Kl=t===ac?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,ql=t,V===null&&(Ql=1,$s(e,Di(t,e.current)))}function Mu(){var e=ro.current;return e===null?!0:(H&4194048)===H?io===null:(H&62914560)===H||H&536870912?e===io:!1}function Nu(){var e=w.H;return w.H=Vs,e===null?Vs:e}function Pu(){var e=w.A;return w.A=Hl,e}function Fu(){Ql=4,Jl||(H&4194048)!==H&&ro.current!==null||(Yl=!0),!($l&134217727)&&!(eu&134217727)||Gl===null||Du(Gl,H,nu,!1)}function Iu(e,t,n){var r=Wl;Wl|=2;var i=Nu(),a=Pu();(Gl!==e||H!==t)&&(uu=null,Au(e,t)),t=!1;var o=Ql;a:do try{if(Kl!==0&&V!==null){var s=V,c=ql;switch(Kl){case 8:ku(),o=6;break a;case 3:case 2:case 9:case 6:ro.current===null&&(t=!0);var l=Kl;if(Kl=0,ql=null,Hu(e,s,c,l),n&&Yl){o=0;break a}break;default:l=Kl,Kl=0,ql=null,Hu(e,s,c,l)}}Lu(),o=Ql;break}catch(t){ju(e,t)}while(1);return t&&e.shellSuspendCounter++,Qi=Zi=null,Wl=r,w.H=i,w.A=a,V===null&&(Gl=null,H=0,li()),o}function Lu(){for(;V!==null;)Bu(V)}function Ru(e,t){var n=Wl;Wl|=2;var r=Nu(),a=Pu();Gl!==e||H!==t?(uu=null,lu=Ie()+500,Au(e,t)):Yl=rt(e,t);a:do try{if(Kl!==0&&V!==null){t=V;var o=ql;b:switch(Kl){case 1:Kl=0,ql=null,Hu(e,t,o,1);break;case 2:case 9:if(Da(o)){Kl=0,ql=null,Vu(t);break}t=function(){Kl!==2&&Kl!==9||Gl!==e||(Kl=7),fd(e)},o.then(t,t);break a;case 3:Kl=7;break a;case 4:Kl=5;break a;case 7:Da(o)?(Kl=0,ql=null,Vu(t)):(Kl=0,ql=null,Hu(e,t,o,7));break;case 5:var s=null;switch(V.tag){case 26:s=V.memoizedState;case 5:case 27:var c=V;if(s?ep(s):c.stateNode.complete){Kl=0,ql=null;var l=c.sibling;if(l!==null)V=l;else{var u=c.return;u===null?V=null:(V=u,Uu(u))}break b}}Kl=0,ql=null,Hu(e,t,o,5);break;case 6:Kl=0,ql=null,Hu(e,t,o,6);break;case 8:ku(),Ql=6;break a;default:throw Error(i(462))}}zu();break}catch(t){ju(e,t)}while(1);return Qi=Zi=null,w.H=r,w.A=a,Wl=n,V===null?(Gl=null,H=0,li(),Ql):0}function zu(){for(;V!==null&&!Fe();)Bu(V)}function Bu(e){var t=Fc(e.alternate,e,Zl);e.memoizedProps=e.pendingProps,t===null?Uu(e):V=t}function Vu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=yc(n,t,t.pendingProps,t.type,void 0,H);break;case 11:t=yc(n,t,t.pendingProps,t.type.render,t.ref,H);break;case 5:jo(t);default:Wc(n,t),t=V=bi(t,Zl),t=Fc(n,t,Zl)}e.memoizedProps=e.pendingProps,t===null?Uu(e):V=t}function Hu(e,t,n,r){Qi=Zi=null,jo(t),Na=null,Pa=0;var i=t.return;try{if(ic(e,i,t,n,H)){Ql=1,$s(e,Di(n,e.current)),V=null;return}}catch(t){if(i!==null)throw V=i,t;Ql=1,$s(e,Di(n,e.current)),V=null;return}t.flags&32768?(A||r===1?e=!0:Yl||H&536870912?e=!1:(Jl=e=!0,(r===2||r===9||r===3||r===6)&&(r=ro.current,r!==null&&r.tag===13&&(r.flags|=16384))),Wu(t,e)):Uu(t)}function Uu(e){var t=e;do{if(t.flags&32768){Wu(t,Jl);return}e=t.return;var n=Hc(t.alternate,t,Zl);if(n!==null){V=n;return}if(t=t.sibling,t!==null){V=t;return}V=t=e}while(t!==null);Ql===0&&(Ql=5)}function Wu(e,t){do{var n=Uc(e.alternate,e);if(n!==null){n.flags&=32767,V=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){V=e;return}V=e=n}while(e!==null);Ql=6,V=null}function Gu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Xu();while(fu!==0);if(Wl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ci,ct(e,n,o,s,c,l),e===Gl&&(V=Gl=null,H=0),mu=t,pu=e,hu=n,gu=o,_u=a,vu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ad(Be,function(){return Zu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=w.T,w.T=null,a=T.p,T.p=2,s=Wl,Wl|=4;try{ll(e,t,n)}finally{Wl=s,T.p=a,w.T=r}}fu=1,Ku(),qu(),Ju()}}function Ku(){if(fu===1){fu=0;var e=pu,t=mu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=w.T,w.T=null;var r=T.p;T.p=2;var i=Wl;Wl|=4;try{Sl(t,e);var a=Yd,o=Ir(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Fr(s.ownerDocument.documentElement,s)){if(c!==null&&Lr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Pr(s,h),v=Pr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}_p=!!Jd,Yd=Jd=null}finally{Wl=i,T.p=r,w.T=n}}e.current=t,fu=2}}function qu(){if(fu===2){fu=0;var e=pu,t=mu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=w.T,w.T=null;var r=T.p;T.p=2;var i=Wl;Wl|=4;try{ul(e,t.alternate,t)}finally{Wl=i,T.p=r,w.T=n}}fu=3}}function Ju(){if(fu===4||fu===3){fu=0,D();var e=pu,t=mu,n=hu,r=vu;t.subtreeFlags&10256||t.flags&10256?fu=5:(fu=0,mu=pu=null,Yu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(du=null),pt(n),t=t.stateNode,Ke&&typeof Ke.onCommitFiberRoot==`function`)try{Ke.onCommitFiberRoot(Ge,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=w.T,i=T.p,T.p=2,w.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{w.T=t,T.p=i}}hu&3&&Xu(),fd(e),i=e.pendingLanes,n&261930&&i&42?e===bu?yu++:(yu=0,bu=e):yu=0,pd(0,!1)}}function Yu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,da(t)))}function Xu(){return Ku(),qu(),Ju(),Zu()}function Zu(){if(fu!==5)return!1;var e=pu,t=gu;gu=0;var n=pt(hu),r=w.T,a=T.p;try{T.p=32>n?32:n,w.T=null,n=_u,_u=null;var o=pu,s=hu;if(fu=0,mu=pu=null,hu=0,Wl&6)throw Error(i(331));var c=Wl;if(Wl|=4,zl(o.current),jl(o,o.current,s,n),Wl=c,pd(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot==`function`)try{Ke.onPostCommitFiberRoot(Ge,o)}catch{}return!0}finally{T.p=a,w.T=r,Yu(e,t)}}function Qu(e,t,n){t=Di(n,t),t=tc(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(st(e,2),fd(e))}function $u(e,t,n){if(e.tag===3)Qu(e,e,n);else for(;t!==null;){if(t.tag===3){Qu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(du===null||!du.has(r))){e=Di(n,e),n=nc(2),r=Wa(t,n,2),r!==null&&(rc(n,r,t,e),st(r,2),fd(r));break}}t=t.return}}function ed(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ul;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Xl=!0,i.add(n),e=td.bind(null,e,t,n),t.then(e,e))}function td(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Gl===e&&(H&n)===n&&(Ql===4||Ql===3&&(H&62914560)===H&&300>Ie()-su?!(Wl&2)&&Au(e,0):tu|=n,ru===H&&(ru=0)),fd(e)}function nd(e,t){t===0&&(t=at()),e=fi(e,t),e!==null&&(st(e,t),fd(e))}function rd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nd(e,n)}function id(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),nd(e,n)}function ad(e,t){return Ne(e,t)}var od=null,sd=null,cd=!1,ld=!1,ud=!1,dd=0;function fd(e){e!==sd&&e.next===null&&(sd===null?od=sd=e:sd=sd.next=e),ld=!0,cd||(cd=!0,yd())}function pd(e,t){if(!ud&&ld){ud=!0;do for(var n=!1,r=od;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Je(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,vd(r,a))}else a=H,a=nt(r,r===Gl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||rt(r,a)||(n=!0,vd(r,a));r=r.next}while(n);ud=!1}}function md(){hd()}function hd(){ld=cd=!1;var e=0;dd!==0&&tf()&&(e=dd);for(var t=Ie(),n=null,r=od;r!==null;){var i=r.next,a=gd(r,t);a===0?(r.next=null,n===null?od=i:n.next=i,i===null&&(sd=n)):(n=r,(e!==0||a&3)&&(ld=!0)),r=i}fu!==0&&fu!==5||pd(e,!1),dd!==0&&(dd=0)}function gd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Je(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=it(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Gl,n=H,n=nt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Kl===2||Kl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Pe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Pe(r),pt(n)){case 2:case 8:n=ze;break;case 32:n=Be;break;case 268435456:n=He;break;default:n=Be}return r=_d.bind(null,e),n=Ne(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Pe(r),e.callbackPriority=2,e.callbackNode=null,2}function _d(e,t){if(fu!==0&&fu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Xu()&&e.callbackNode!==n)return null;var r=H;return r=nt(e,e===Gl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(wu(e,r,t),gd(e,Ie()),e.callbackNode!=null&&e.callbackNode===n?_d.bind(null,e):null)}function vd(e,t){if(Xu())return null;wu(e,t,!0)}function yd(){of(function(){Wl&6?Ne(Re,md):hd()})}function bd(){if(dd===0){var e=ma;e===0&&(e=Qe,Qe<<=1,!(Qe&261888)&&(Qe=256)),dd=e}return dd}function xd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:ln(``+e)}function Sd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Cd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=xd((i[vt]||null).action),o=r.submitter;o&&(t=(t=o[vt]||null)?xd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new An(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(dd!==0){var e=o?Sd(i,o):new FormData(i);Ds(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?Sd(i,o):new FormData(i),Ds(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var wd=0;wd<ri.length;wd++){var Td=ri[wd];ii(Td.toLowerCase(),`on`+(Td[0].toUpperCase()+Td.slice(1)))}ii(Yr,`onAnimationEnd`),ii(Xr,`onAnimationIteration`),ii(Zr,`onAnimationStart`),ii(`dblclick`,`onDoubleClick`),ii(`focusin`,`onFocus`),ii(`focusout`,`onBlur`),ii(Qr,`onTransitionRun`),ii($r,`onTransitionStart`),ii(ei,`onTransitionCancel`),ii(ti,`onTransitionEnd`),Pt(`onMouseEnter`,[`mouseout`,`mouseover`]),Pt(`onMouseLeave`,[`mouseout`,`mouseover`]),Pt(`onPointerEnter`,[`pointerout`,`pointerover`]),Pt(`onPointerLeave`,[`pointerout`,`pointerover`]),Nt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Nt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Nt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Nt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Ed=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Dd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Ed));function Od(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ai(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ai(e)}i.currentTarget=null,a=c}}}}function U(e,t){var n=t[bt];n===void 0&&(n=t[bt]=new Set);var r=e+`__bubble`;n.has(r)||(Md(t,e,2,!1),n.add(r))}function kd(e,t,n){var r=0;t&&(r|=4),Md(n,e,r,t)}var Ad=`_reactListening`+Math.random().toString(36).slice(2);function jd(e){if(!e[Ad]){e[Ad]=!0,jt.forEach(function(t){t!==`selectionchange`&&(Dd.has(t)||kd(t,!1,e),kd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ad]||(t[Ad]=!0,kd(`selectionchange`,!1,t))}}function Md(e,t,n,r){switch(wp(t)){case 2:var i=vp;break;case 8:i=yp;break;default:i=bp}n=i.bind(null,t,n,e),i=void 0,!bn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Nd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Et(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}_n(function(){var r=a,i=fn(n),s=[];a:{var c=ni.get(e);if(c!==void 0){var l=An,u=e;switch(e){case`keypress`:if(En(n)===0)break a;case`keydown`:case`keyup`:l=Jn;break;case`focusin`:u=`focus`,l=zn;break;case`focusout`:u=`blur`,l=zn;break;case`beforeblur`:case`afterblur`:l=zn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Ln;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Rn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Xn;break;case Yr:case Xr:case Zr:l=Bn;break;case ti:l=Zn;break;case`scroll`:case`scrollend`:l=Mn;break;case`wheel`:l=Qn;break;case`copy`:case`cut`:case`paste`:l=Vn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Yn;break;case`toggle`:case`beforetoggle`:l=$n}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=vn(m,p),g!=null&&d.push(Pd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==dn&&(u=n.relatedTarget||n.fromElement)&&(Et(u)||u[yt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Et(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Ln,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Yn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ot(l),h=u==null?c:Ot(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Et(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Id,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ld(s,c,l,d,!1),u!==null&&f!==null&&Ld(s,f,u,d,!0)}}a:{if(c=r?Ot(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=yr;else if(pr(c))if(br)v=kr;else{v=Dr;var y=Er}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&on(r.elementType)&&(v=yr):v=Or;if(v&&=v(e,r)){mr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Zt(c,`number`,c.value)}switch(y=r?Ot(r):window,e){case`focusin`:(pr(y)||y.contentEditable===`true`)&&(zr=y,Br=r,Vr=null);break;case`focusout`:Vr=Br=zr=null;break;case`mousedown`:Hr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Hr=!1,Ur(s,n,i);break;case`selectionchange`:if(Rr)break;case`keydown`:case`keyup`:Ur(s,n,i)}var b;if(tr)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else lr?sr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(ir&&n.locale!==`ko`&&(lr||x!==`onCompositionStart`?x===`onCompositionEnd`&&lr&&(b=Tn()):(Sn=i,Cn=`value`in Sn?Sn.value:Sn.textContent,lr=!0)),y=Fd(r,x),0<y.length&&(x=new Hn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=cr(n),b!==null&&(x.data=b)))),(b=rr?ur(e,n):dr(e,n))&&(x=Fd(r,`onBeforeInput`),0<x.length&&(y=new Hn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),Cd(s,e,r,n,i)}Od(s,t)})}function Pd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=vn(e,n),i!=null&&r.unshift(Pd(e,i,a)),i=vn(e,t),i!=null&&r.push(Pd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Id(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ld(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=vn(n,a),l!=null&&o.unshift(Pd(n,l,c))):i||(l=vn(n,a),l!=null&&o.push(Pd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Rd=/\r\n?/g,zd=/\u0000|\uFFFD/g;function Bd(e){return(typeof e==`string`?e:``+e).replace(Rd,`
`).replace(zd,``)}function Vd(e,t){return t=Bd(t),Bd(e)===t}function Hd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||tn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&tn(e,``+r);break;case`className`:Bt(e,`class`,r);break;case`tabIndex`:Bt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Bt(e,n,r);break;case`style`:an(e,r,o);break;case`data`:if(t!==`object`){Bt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Hd(e,t,`name`,a.name,a,null),Hd(e,t,`formEncType`,a.formEncType,a,null),Hd(e,t,`formMethod`,a.formMethod,a,null),Hd(e,t,`formTarget`,a.formTarget,a,null)):(Hd(e,t,`encType`,a.encType,a,null),Hd(e,t,`method`,a.method,a,null),Hd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=un);break;case`onScroll`:r!=null&&U(`scroll`,e);break;case`onScrollEnd`:r!=null&&U(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=ln(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:U(`beforetoggle`,e),U(`toggle`,e),zt(e,`popover`,r);break;case`xlinkActuate`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:zt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=sn.get(n)||n,zt(e,n,r))}}function Ud(e,t,n,r,a,o){switch(n){case`style`:an(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?tn(e,r):(typeof r==`number`||typeof r==`bigint`)&&tn(e,``+r);break;case`onScroll`:r!=null&&U(`scroll`,e);break;case`onScrollEnd`:r!=null&&U(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=un);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Mt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[vt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):zt(e,n,r)}}}function Wd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:U(`error`,e),U(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Hd(e,t,o,s,n,null)}}a&&Hd(e,t,`srcSet`,n.srcSet,n,null),r&&Hd(e,t,`src`,n.src,n,null);return;case`input`:U(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Hd(e,t,r,d,n,null)}}Xt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in U(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Hd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Qt(e,!!r,n,!0):Qt(e,!!r,t,!1);return;case`textarea`:for(s in U(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Hd(e,t,s,c,n,null)}en(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Hd(e,t,l,r,n,null)}return;case`dialog`:U(`beforetoggle`,e),U(`toggle`,e),U(`cancel`,e),U(`close`,e);break;case`iframe`:case`object`:U(`load`,e);break;case`video`:case`audio`:for(r=0;r<Ed.length;r++)U(Ed[r],e);break;case`image`:U(`error`,e),U(`load`,e);break;case`details`:U(`toggle`,e);break;case`embed`:case`source`:case`link`:U(`error`,e),U(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Hd(e,t,u,r,n,null)}return;default:if(on(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Ud(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Hd(e,t,c,r,n,null))}function Gd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Hd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Hd(e,t,p,m,r,f)}}Yt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Hd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Hd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Qt(e,!!n,n?[]:``,!1):Qt(e,!!n,t,!0)):Qt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Hd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Hd(e,t,s,a,r,o)}$t(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Hd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Hd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Hd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Hd(e,t,u,p,r,m)}return;default:if(on(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Ud(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Ud(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Hd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Hd(e,t,f,p,r,m)}function Kd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function qd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Kd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Kd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Jd=null,Yd=null;function Xd(e){return e.nodeType===9?e:e.ownerDocument}function Zd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Qd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function $d(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ef=null;function tf(){var e=window.event;return e&&e.type===`popstate`?e===ef?!1:(ef=e,!0):(ef=null,!1)}var nf=typeof setTimeout==`function`?setTimeout:void 0,rf=typeof clearTimeout==`function`?clearTimeout:void 0,af=typeof Promise==`function`?Promise:void 0,of=typeof queueMicrotask==`function`?queueMicrotask:af===void 0?nf:function(e){return af.resolve(null).then(e).catch(sf)};function sf(e){setTimeout(function(){throw e})}function cf(e){return e===`head`}function lf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Up(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)Cf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,Cf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[wt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&Cf(e.ownerDocument.body);n=i}while(n);Up(t)}function uf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function df(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:df(n),Tt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function ff(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[wt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=vf(e.nextSibling),e===null)break}return null}function pf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=vf(e.nextSibling),e===null))return null;return e}function mf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=vf(e.nextSibling),e===null))return null;return e}function hf(e){return e.data===`$?`||e.data===`$~`}function gf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function _f(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function vf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var yf=null;function bf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return vf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function Sf(e,t,n){switch(t=Xd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Cf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tt(e)}var wf=new Map,Tf=new Set;function Ef(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Df=T.d;T.d={f:Of,r:kf,D:Mf,C:Nf,L:Pf,m:Ff,X:Lf,S:If,M:Rf};function Of(){var e=Df.f(),t=Ou();return e||t}function kf(e){var t=Dt(e);t!==null&&t.tag===5&&t.type===`form`?ks(t):Df.r(e)}var Af=typeof document>`u`?null:document;function jf(e,t,n){var r=Af;if(r&&typeof t==`string`&&t){var i=Jt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),Tf.has(i)||(Tf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Wd(t,`link`,e),At(t),r.head.appendChild(t)))}}function Mf(e){Df.D(e),jf(`dns-prefetch`,e,null)}function Nf(e,t){Df.C(e,t),jf(`preconnect`,e,t)}function Pf(e,t,n){Df.L(e,t,n);var r=Af;if(r&&e&&t){var i=`link[rel="preload"][as="`+Jt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Jt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Jt(n.imageSizes)+`"]`)):i+=`[href="`+Jt(e)+`"]`;var a=i;switch(t){case`style`:a=Bf(e);break;case`script`:a=Wf(e)}wf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),wf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Vf(a))||t===`script`&&r.querySelector(Gf(a))||(t=r.createElement(`link`),Wd(t,`link`,e),At(t),r.head.appendChild(t)))}}function Ff(e,t){Df.m(e,t);var n=Af;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Jt(r)+`"][href="`+Jt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Wf(e)}if(!wf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),wf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Gf(a)))return}r=n.createElement(`link`),Wd(r,`link`,e),At(r),n.head.appendChild(r)}}}function If(e,t,n){Df.S(e,t,n);var r=Af;if(r&&e){var i=kt(r).hoistableStyles,a=Bf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Vf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=wf.get(a))&&Jf(e,n);var c=o=r.createElement(`link`);At(c),Wd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,qf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Lf(e,t){Df.X(e,t);var n=Af;if(n&&e){var r=kt(n).hoistableScripts,i=Wf(e),a=r.get(i);a||(a=n.querySelector(Gf(i)),a||(e=h({src:e,async:!0},t),(t=wf.get(i))&&Yf(e,t),a=n.createElement(`script`),At(a),Wd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Rf(e,t){Df.M(e,t);var n=Af;if(n&&e){var r=kt(n).hoistableScripts,i=Wf(e),a=r.get(i);a||(a=n.querySelector(Gf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=wf.get(i))&&Yf(e,t),a=n.createElement(`script`),At(a),Wd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function zf(e,t,n,r){var a=(a=ye.current)?Ef(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Bf(n.href),n=kt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Bf(n.href);var o=kt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Vf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),wf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wf.set(e,n),o||Uf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Wf(n),n=kt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Bf(e){return`href="`+Jt(e)+`"`}function Vf(e){return`link[rel="stylesheet"][`+e+`]`}function Hf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Uf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Wd(t,`link`,n),At(t),e.head.appendChild(t))}function Wf(e){return`[src="`+Jt(e)+`"]`}function Gf(e){return`script[async]`+e}function Kf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Jt(n.href)+`"]`);if(r)return t.instance=r,At(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),At(r),Wd(r,`style`,a),qf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Bf(n.href);var o=e.querySelector(Vf(a));if(o)return t.state.loading|=4,t.instance=o,At(o),o;r=Hf(n),(a=wf.get(a))&&Jf(r,a),o=(e.ownerDocument||e).createElement(`link`),At(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Wd(o,`link`,r),t.state.loading|=4,qf(o,n.precedence,e),t.instance=o;case`script`:return o=Wf(n.src),(a=e.querySelector(Gf(o)))?(t.instance=a,At(a),a):(r=n,(a=wf.get(o))&&(r=h({},n),Yf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),At(a),Wd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,qf(r,n.precedence,e));return t.instance}function qf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Jf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Yf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Xf=null;function Zf(e,t,n){if(Xf===null){var r=new Map,i=Xf=new Map;i.set(n,r)}else i=Xf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[wt]||a[_t]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Qf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function $f(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function ep(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function tp(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Bf(r.href),a=t.querySelector(Vf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=ip.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,At(a);return}a=t.ownerDocument||t,r=Hf(r),(i=wf.get(i))&&Jf(r,i),a=a.createElement(`link`),At(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Wd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ip.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var np=0;function rp(e,t){return e.stylesheets&&e.count===0&&op(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&op(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&np===0&&(np=62500*qd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&op(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>np?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function ip(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)op(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ap=null;function op(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ap=new Map,t.forEach(sp,e),ap=null,ip.call(e))}function sp(e,t){if(!(t.state.loading&4)){var n=ap.get(e);if(n)var r=n.get(null);else{n=new Map,ap.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=ip.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var cp={$$typeof:te,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function lp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function up(e,t,n,r,i,a,o,s,c,l,u,d){return e=new lp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=_i(3,null,null,t),e.current=a,a.stateNode=e,t=ua(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Va(a),e}function dp(e){return e?(e=hi,e):hi}function fp(e,t,n,r,i,a){i=dp(i),r.context===null?r.context=i:r.pendingContext=i,r=Ua(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Wa(e,r,t),n!==null&&(Cu(n,e,t),Ga(n,e,t))}function pp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mp(e,t){pp(e,t),(e=e.alternate)&&pp(e,t)}function hp(e){if(e.tag===13||e.tag===31){var t=fi(e,67108864);t!==null&&Cu(t,e,67108864),mp(e,67108864)}}function gp(e){if(e.tag===13||e.tag===31){var t=xu();t=ft(t);var n=fi(e,t);n!==null&&Cu(n,e,t),mp(e,t)}}var _p=!0;function vp(e,t,n,r){var i=w.T;w.T=null;var a=T.p;try{T.p=2,bp(e,t,n,r)}finally{T.p=a,w.T=i}}function yp(e,t,n,r){var i=w.T;w.T=null;var a=T.p;try{T.p=8,bp(e,t,n,r)}finally{T.p=a,w.T=i}}function bp(e,t,n,r){if(_p){var i=xp(r);if(i===null)Nd(e,t,r,Sp,n),Np(e,r);else if(Fp(i,e,t,n,r))r.stopPropagation();else if(Np(e,r),t&4&&-1<Mp.indexOf(e)){for(;i!==null;){var a=Dt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=tt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Je(o);s.entanglements[1]|=c,o&=~c}fd(a),!(Wl&6)&&(lu=Ie()+500,pd(0,!1))}}break;case 31:case 13:s=fi(a,2),s!==null&&Cu(s,a,2),Ou(),mp(a,2)}if(a=xp(r),a===null&&Nd(e,t,r,Sp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Nd(e,t,r,null,n)}}function xp(e){return e=fn(e),Cp(e)}var Sp=null;function Cp(e){if(Sp=null,e=Et(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sp=e,null}function wp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Le()){case Re:return 2;case ze:return 8;case Be:case Ve:return 32;case He:return 268435456;default:return 32}default:return 32}}var Tp=!1,Ep=null,Dp=null,Op=null,kp=new Map,Ap=new Map,jp=[],Mp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Np(e,t){switch(e){case`focusin`:case`focusout`:Ep=null;break;case`dragenter`:case`dragleave`:Dp=null;break;case`mouseover`:case`mouseout`:Op=null;break;case`pointerover`:case`pointerout`:kp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Ap.delete(t.pointerId)}}function Pp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dt(t),t!==null&&hp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Fp(e,t,n,r,i){switch(t){case`focusin`:return Ep=Pp(Ep,e,t,n,r,i),!0;case`dragenter`:return Dp=Pp(Dp,e,t,n,r,i),!0;case`mouseover`:return Op=Pp(Op,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return kp.set(a,Pp(kp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Ap.set(a,Pp(Ap.get(a)||null,e,t,n,r,i)),!0}return!1}function Ip(e){var t=Et(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ht(e.priority,function(){gp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ht(e.priority,function(){gp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dn=r,n.target.dispatchEvent(r),dn=null}else return t=Dt(n),t!==null&&hp(t),e.blockedOn=n,!1;t.shift()}return!0}function Rp(e,t,n){Lp(e)&&n.delete(t)}function zp(){Tp=!1,Ep!==null&&Lp(Ep)&&(Ep=null),Dp!==null&&Lp(Dp)&&(Dp=null),Op!==null&&Lp(Op)&&(Op=null),kp.forEach(Rp),Ap.forEach(Rp)}function Bp(e,n){e.blockedOn===n&&(e.blockedOn=null,Tp||(Tp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zp)))}var Vp=null;function Hp(e){Vp!==e&&(Vp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vp===e&&(Vp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(Cp(r||n)===null)continue;break}var a=Dt(n);a!==null&&(e.splice(t,3),t-=3,Ds(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Up(e){function t(t){return Bp(t,e)}Ep!==null&&Bp(Ep,e),Dp!==null&&Bp(Dp,e),Op!==null&&Bp(Op,e),kp.forEach(t),Ap.forEach(t);for(var n=0;n<jp.length;n++){var r=jp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<jp.length&&(n=jp[0],n.blockedOn===null);)Ip(n),n.blockedOn===null&&jp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[vt]||null;if(typeof a==`function`)o||Hp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[vt]||null)s=o.formAction;else if(Cp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Hp(n)}}}function Wp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Gp(e){this._internalRoot=e}Kp.prototype.render=Gp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;fp(n,xu(),e,t,null,null)},Kp.prototype.unmount=Gp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fp(e.current,2,null,e,null,null),Ou(),t[yt]=null}};function Kp(e){this._internalRoot=e}Kp.prototype.unstable_scheduleHydration=function(e){if(e){var t=mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jp.length&&t!==0&&t<jp[n].priority;n++);jp.splice(n,0,e),n===0&&Ip(e)}};var qp=n.version;if(qp!==`19.2.0`)throw Error(i(527,qp,`19.2.0`));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Jp={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:w,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{Ge=Yp.inject(Jp),Ke=Yp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Xs,s=Zs,c=Qs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=up(e,1,!1,null,null,n,r,null,o,s,c,Wp),e[yt]=t.current,jd(e),new Gp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=u(),v=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),y=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),b=e=>{let t=y(e);return t.charAt(0).toUpperCase()+t.slice(1)},x=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),ee=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},te={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},S=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...te,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:x(`lucide`,i),...!a&&!ee(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),C=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(S,{ref:i,iconNode:t,className:x(`lucide-${v(b(e))}`,`lucide-${e}`,n),...r}));return n.displayName=b(e),n},ne=C(`calculator`,[[`rect`,{width:`16`,height:`20`,x:`4`,y:`2`,rx:`2`,key:`1nb95v`}],[`line`,{x1:`8`,x2:`16`,y1:`6`,y2:`6`,key:`x4nwl0`}],[`line`,{x1:`16`,x2:`16`,y1:`14`,y2:`18`,key:`wjye3r`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}]]),re=C(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),ie=C(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),ae=C(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),oe=C(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),se=C(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),ce=C(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),le=C(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),ue=C(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),de=C(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),w=C(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),T=C(`dollar-sign`,[[`line`,{x1:`12`,x2:`12`,y1:`2`,y2:`22`,key:`7eqyqh`}],[`path`,{d:`M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`,key:`1b0p4s`}]]),fe=C(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),pe=C(`grip-vertical`,[[`circle`,{cx:`9`,cy:`12`,r:`1`,key:`1vctgf`}],[`circle`,{cx:`9`,cy:`5`,r:`1`,key:`hp0tcf`}],[`circle`,{cx:`9`,cy:`19`,r:`1`,key:`fkjjf6`}],[`circle`,{cx:`15`,cy:`12`,r:`1`,key:`1tmaij`}],[`circle`,{cx:`15`,cy:`5`,r:`1`,key:`19l28e`}],[`circle`,{cx:`15`,cy:`19`,r:`1`,key:`f4zoj3`}]]),me=C(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),he=C(`layout-list`,[[`rect`,{width:`7`,height:`7`,x:`3`,y:`3`,rx:`1`,key:`1g98yp`}],[`rect`,{width:`7`,height:`7`,x:`3`,y:`14`,rx:`1`,key:`1bb6yr`}],[`path`,{d:`M14 4h7`,key:`3xa0d5`}],[`path`,{d:`M14 9h7`,key:`1icrd9`}],[`path`,{d:`M14 15h7`,key:`1mj8o2`}],[`path`,{d:`M14 20h7`,key:`11slyb`}]]),ge=C(`link`,[[`path`,{d:`M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71`,key:`1cjeqo`}],[`path`,{d:`M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71`,key:`19qd67`}]]),E=C(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),_e=C(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),ve=C(`map`,[[`path`,{d:`M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z`,key:`169xi5`}],[`path`,{d:`M15 5.764v15`,key:`1pn4in`}],[`path`,{d:`M9 3.236v15`,key:`1uimfh`}]]),ye=C(`menu`,[[`path`,{d:`M4 5h16`,key:`1tepv9`}],[`path`,{d:`M4 12h16`,key:`1lakjw`}],[`path`,{d:`M4 19h16`,key:`1djgab`}]]),be=C(`minimize-2`,[[`path`,{d:`m14 10 7-7`,key:`oa77jy`}],[`path`,{d:`M20 10h-6V4`,key:`mjg0md`}],[`path`,{d:`m3 21 7-7`,key:`tjx5ai`}],[`path`,{d:`M4 14h6v6`,key:`rmj7iw`}]]),xe=C(`minus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}]]),Se=C(`pen-line`,[[`path`,{d:`M13 21h8`,key:`1jsn5i`}],[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),Ce=C(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),we=C(`qr-code`,[[`rect`,{width:`5`,height:`5`,x:`3`,y:`3`,rx:`1`,key:`1tu5fj`}],[`rect`,{width:`5`,height:`5`,x:`16`,y:`3`,rx:`1`,key:`1v8r4q`}],[`rect`,{width:`5`,height:`5`,x:`3`,y:`16`,rx:`1`,key:`1x03jg`}],[`path`,{d:`M21 16h-3a2 2 0 0 0-2 2v3`,key:`177gqh`}],[`path`,{d:`M21 21v.01`,key:`ents32`}],[`path`,{d:`M12 7v3a2 2 0 0 1-2 2H7`,key:`8crl2c`}],[`path`,{d:`M3 12h.01`,key:`nlz23k`}],[`path`,{d:`M12 3h.01`,key:`n36tog`}],[`path`,{d:`M12 16v.01`,key:`133mhm`}],[`path`,{d:`M16 12h1`,key:`1slzba`}],[`path`,{d:`M21 12v.01`,key:`1lwtk9`}],[`path`,{d:`M12 21v-1`,key:`1880an`}]]),Te=C(`receipt`,[[`path`,{d:`M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z`,key:`q3az6g`}],[`path`,{d:`M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8`,key:`1h4pet`}],[`path`,{d:`M12 17.5v-11`,key:`1jc1ny`}]]),Ee=C(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),De=C(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),Oe=C(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),ke=C(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),Ae=C(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),je=C(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),Me=C(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Ne=C(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]);const Pe=[];var Fe=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),D=o(((e,t)=>{t.exports=Fe()}))();const Ie=({user:e,trip:t,participants:n,onMenuClick:r,onEdit:i,isMinimized:a,activeTabLabel:o})=>{let s=t.title&&t.title.trim()!==``,c=(()=>{if(!t.startDate||t.startDate===`TBD`)return 0;let e=new Date;e.setHours(0,0,0,0);let n=new Date(t.startDate);n.setHours(0,0,0,0);let r=n.getTime()-e.getTime();return Math.ceil(r/(1e3*60*60*24))})();function l(e,t){let n=new Date(e),r=new Date(t),i=[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],a=n.getDate(),o=n.getMonth(),s=i[o],c=n.getFullYear(),l=r.getDate(),u=r.getMonth(),d=i[u],f=r.getFullYear();return c===f?o===u?`${a} - ${l} ${s} ${f}`:`${a} ${s} - ${l} ${d} ${f}`:`${a} ${s} ${c} - ${l} ${d} ${f}`}return a?(0,D.jsxs)(`div`,{className:`flex-none bg-white px-5 py-3 shadow-sm z-20 flex items-center justify-between h-[60px]`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsx)(`button`,{onClick:r,className:`p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full transition-colors`,children:(0,D.jsx)(ye,{className:`w-6 h-6`})}),(0,D.jsx)(`h1`,{className:`text-lg font-bold text-gray-800`,children:o||``})]}),(0,D.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,D.jsx)(`img`,{src:e.avatar,className:`w-8 h-8 rounded-full border border-gray-200 object-cover`,alt:`avatar`})})]}):(0,D.jsxs)(`div`,{className:`flex-none bg-white p-2 shadow-sm z-20 transition-all duration-300 px-5`,children:[(0,D.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsx)(`button`,{onClick:r,className:`p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full transition-colors`,children:(0,D.jsx)(ye,{className:`w-6 h-6`})}),(0,D.jsxs)(`div`,{className:`flex flex-col`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,D.jsx)(`h1`,{className:`text-2xl font-bold leading-tight max-w-[220px] truncate ${s?`text-gray-800`:`text-gray-400`}`,children:s?t.title:``}),(0,D.jsx)(`button`,{onClick:i,className:`p-1.5 rounded-full bg-gray-50 text-gray-400 hover:text-green-600 hover:bg-green-50 transition-colors`,children:(0,D.jsx)(Se,{className:`w-4 h-4`})})]}),s&&(0,D.jsxs)(`div`,{className:`flex items-center gap-1 mt-1 text-gray-500 text-xs font-medium`,children:[(0,D.jsx)(`span`,{className:`w-2 h-2 rounded-full bg-green-500`}),(0,D.jsx)(`p`,{children:l(t.startDate,t.endDate)})]})]})]}),s&&(0,D.jsxs)(`div`,{className:`px-3 py-1.5 rounded-xl border text-center min-w-[60px] ${c>=0?`bg-green-50 text-green-700 border-green-100`:`bg-gray-100 text-gray-500 border-gray-200`}`,children:[(0,D.jsx)(`span`,{className:`block text-[8px] uppercase opacity-60 font-bold tracking-wider`,children:c>0?`Coming in`:c===0?`Today!`:`Ended`}),c>0&&(0,D.jsxs)(`span`,{className:`text-sm font-extrabold`,children:[c,` `,(0,D.jsx)(`span`,{className:`text-[9px] font-normal`,children:`Days`})]})]})]}),s&&n.length>0&&(0,D.jsx)(`div`,{className:`flex -space-x-2 overflow-hidden pl-1 mt-3`,children:n.slice(0,5).map((e,t)=>(0,D.jsx)(`img`,{src:e.avatar,className:`inline-block h-8 w-8 rounded-full ring-2 ring-white object-cover bg-gray-100`,style:{zIndex:10-t},alt:e.name},e.id))})]})},Le=({isOpen:e,onClose:t,onNavigate:n,activeScreen:r,user:i,onLogout:a,onEditProfile:o})=>(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(`div`,{className:`fixed inset-0 bg-black/60 z-[55] transition-opacity duration-300 ${e?`opacity-100`:`opacity-0 pointer-events-none`}`,onClick:t}),(0,D.jsxs)(`div`,{className:`fixed inset-y-0 left-0 w-[80%] max-w-[300px] bg-white shadow-2xl z-[60] flex flex-col transition-transform duration-300 ease-out rounded-r-3xl overflow-hidden ${e?`translate-x-0`:`-translate-x-full`}`,children:[(0,D.jsx)(`button`,{onClick:t,className:`absolute top-5 right-5 p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-black/5 active:scale-90 transition-all duration-200 z-20`,children:(0,D.jsx)(oe,{className:`w-6 h-6`,strokeWidth:3})}),(0,D.jsx)(`div`,{className:`pt-14 pb-8 px-6 bg-white relative`,children:(0,D.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,D.jsx)(`div`,{className:`relative group cursor-pointer`,children:(0,D.jsx)(`img`,{src:i.avatar,className:`w-16 h-16 drop-shadow-lg hover:scale-110 transition-transform filter hover:brightness-110`,alt:`avatar`})}),(0,D.jsxs)(`div`,{className:`flex-1 overflow-hidden`,children:[(0,D.jsx)(`h2`,{className:`text-xl font-extrabold text-gray-800 leading-tight truncate`,children:i.name}),(0,D.jsx)(`p`,{className:`text-xs text-orange-400 font-bold mt-0.5`})]})]})}),(0,D.jsx)(`div`,{className:`mx-6 border-b border-gray-100 mb-6`}),(0,D.jsxs)(`nav`,{className:`flex-1 px-5 space-y-2 overflow-y-auto`,children:[(0,D.jsxs)(`button`,{onClick:()=>{n(`plan`),t()},className:`w-full flex items-center gap-4 p-3 rounded-2xl transition-all group ${r===`plan`?`bg-green-50 text-green-700`:`text-gray-600 hover:bg-gray-50`}`,children:[(0,D.jsx)(`div`,{className:`w-10 h-10 flex items-center justify-center rounded-xl transition-colors ${r===`plan`?`bg-white shadow-sm text-green-600`:`bg-gray-100 text-gray-400 group-hover:bg-white group-hover:shadow-sm`}`,children:(0,D.jsx)(ve,{className:`w-5 h-5`,strokeWidth:2.5})}),(0,D.jsxs)(`div`,{className:`text-left`,children:[(0,D.jsx)(`div`,{className:`text-sm font-bold`,children:`Plan`}),(0,D.jsx)(`div`,{className:`text-[10px] opacity-70 font-medium`,children:``})]})]}),(0,D.jsxs)(`button`,{onClick:()=>{n(`bill`),t()},className:`w-full flex items-center gap-4 p-3 rounded-2xl transition-all group ${r===`bill`?`bg-blue-50 text-blue-700`:`text-gray-600 hover:bg-gray-50`}`,children:[(0,D.jsx)(`div`,{className:`w-10 h-10 flex items-center justify-center rounded-xl transition-colors ${r===`bill`?`bg-white shadow-sm text-blue-600`:`bg-gray-100 text-gray-400 group-hover:bg-white group-hover:shadow-sm`}`,children:(0,D.jsx)(Te,{className:`w-5 h-5`,strokeWidth:2.5})}),(0,D.jsxs)(`div`,{className:`text-left`,children:[(0,D.jsx)(`div`,{className:`text-sm font-bold`,children:`Bill`}),(0,D.jsx)(`div`,{className:`text-[10px] opacity-70 font-medium`,children:``})]})]})]}),(0,D.jsxs)(`div`,{className:`p-6 mt-auto space-y-2`,children:[(0,D.jsxs)(`button`,{onClick:()=>{confirm(`? ()`)&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-orange-500 bg-orange-50 rounded-xl text-xs font-bold hover:bg-orange-100 transition-colors`,children:[(0,D.jsx)(Ae,{className:`w-4 h-4`}),`  (!)`]}),(0,D.jsxs)(`button`,{disabled:!0,className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-gray-300 bg-gray-50 rounded-xl text-xs font-bold cursor-not-allowed opacity-60`,children:[(0,D.jsx)(E,{className:`w-4 h-4`}),` `]})]})]})]}),Re=({isOpen:e,onClose:t,title:n,children:r,footer:i})=>{let[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{if(e)o(!0),requestAnimationFrame(()=>{c(!0)});else{c(!1);let e=setTimeout(()=>{o(!1)},300);return()=>clearTimeout(e)}},[e]),a?(0,D.jsxs)(`div`,{className:`fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 transition-opacity duration-300 ${s?`opacity-100`:`opacity-0`}`,children:[(0,D.jsx)(`div`,{className:`absolute inset-0 bg-black/60 backdrop-blur-md`,onClick:t}),(0,D.jsxs)(`div`,{className:`
          bg-white w-full max-w-md 
          
          /* Mobile Fix:  */
          h-full max-h-full rounded-none sm:rounded-[2rem] 
          
          shadow-2xl relative flex flex-col 
          transform transition-transform duration-300 cubic-bezier(0.2, 0.8, 0.2, 1)
          
          /* Animation:  */
          ${s?`translate-y-0 scale-100`:`translate-y-full sm:translate-y-10 sm:scale-95`}
        `,children:[(0,D.jsxs)(`div`,{className:`flex-none px-4 py-2 border-b border-gray-50 flex justify-between items-center bg-white`,children:[(0,D.jsx)(`h2`,{className:`text-xl font-extrabold text-gray-800 tracking-tight`,children:n}),(0,D.jsx)(`button`,{onClick:t,className:`p-2 -mr-2 text-gray-400 hover:text-gray-800 hover:bg-gray-50 rounded-full transition-all active:scale-90 bg-gray-50/50`,"aria-label":`Close Modal`,children:(0,D.jsx)(ae,{className:`w-6 h-6`,strokeWidth:3})})]}),(0,D.jsx)(`div`,{className:`flex-1 overflow-y-auto px-5 py-2  custom-scrollbar`,children:r}),i&&(0,D.jsx)(`div`,{className:`flex-none p-6 pt-4 border-t border-gray-50 bg-white pb-8 sm:pb-6`,children:i})]})]}):null};var ze=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),Be=e=>`https://api.dicebear.com/9.x/micah/svg?seed=${e}&mouth=smile,laughing&baseColor=f9c9b6,ac6651&t=${Date.now()}`;const Ve=({isOpen:e,onClose:t,currentUser:n,onSave:r})=>{let[i,a]=(0,_.useState)(n.name),[o,s]=(0,_.useState)(n.avatar),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{e&&(l(!1),d(!1),s(n.avatar))},[e,n]),(0,D.jsxs)(Re,{isOpen:e,onClose:t,title:` `,footer:(0,D.jsx)(`button`,{type:`submit`,form:`edit-profile-form`,className:`w-full bg-green-600 text-white font-bold py-3.5 rounded-2xl shadow-lg shadow-green-200 hover:bg-green-700 active:scale-95 transition-all text-base flex items-center justify-center gap-2`,children:`! `}),children:[(0,D.jsx)(`style`,{children:`
            @keyframes flip-vertical-fast {
                0% { transform: perspective(400px) rotateY(0deg); }
                100% { transform: perspective(400px) rotateY(360deg); }
            }
            .animate-flip-fast {
                animation: flip-vertical-fast 0.4s infinite linear;
            }
        `}),(0,D.jsxs)(`form`,{id:`edit-profile-form`,onSubmit:e=>{if(e.preventDefault(),!i.trim()){navigator.vibrate&&navigator.vibrate(200);return}r({...n,name:i,avatar:o}),t()},className:`space-y-6 py-4`,children:[(0,D.jsx)(`div`,{className:`flex flex-col items-center`,children:(0,D.jsxs)(`div`,{className:`relative group cursor-pointer`,onClick:()=>{if(c||u)return;l(!0),d(!1);let e=Be(ze()),t=new Image;t.src=e,setTimeout(()=>{s(e),l(!1),d(!0),setTimeout(()=>{d(!1)},800)},700)},children:[(0,D.jsxs)(`div`,{className:`
                        w-40 h-40 rounded-[2rem] border-4 overflow-hidden flex items-center justify-center 
                        transform transition-all duration-300 ease-out shadow-xl bg-white
                        ${c?`animate-flip-fast border-green-300 opacity-90`:``} 
                        ${u?`border-yellow-400 scale-110 shadow-yellow-200 ring-4 ring-yellow-100`:`border-green-400 hover:scale-105`}
                    `,children:[(0,D.jsx)(`img`,{src:o,className:`w-full h-full object-cover transform translate-y-2 scale-110`,alt:`Avatar`},o),u&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ke,{className:`absolute top-3 right-3 text-yellow-400 w-6 h-6 animate-bounce drop-shadow-sm`}),(0,D.jsx)(ke,{className:`absolute bottom-5 left-3 text-yellow-300 w-4 h-4 animate-ping`})]})]}),(0,D.jsx)(`div`,{className:`
                        absolute -bottom-3 left-1/2 transform -translate-x-1/2 
                        px-4 py-1.5 rounded-full border shadow-md transition-colors duration-300 
                        flex items-center gap-2 whitespace-nowrap z-10
                        ${u?`bg-yellow-400 text-white border-yellow-500`:`bg-white text-gray-600 border-gray-200 hover:bg-gray-50`}
                    `,children:c?(0,D.jsx)(`span`,{className:`text-[10px] font-bold`,children:`...`}):u?(0,D.jsx)(`span`,{className:`text-[10px] font-bold`,children:`! `}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(`span`,{className:`text-lg leading-none`,children:``}),(0,D.jsx)(`span`,{className:`text-[10px] font-bold`,children:``})]})})]})}),(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-2 uppercase tracking-wider text-center`,children:``}),(0,D.jsx)(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),placeholder:`! ? `,className:`w-full bg-gray-50 border-2 border-gray-100 rounded-2xl p-4 text-center font-bold text-xl text-gray-800 focus:outline-none focus:border-green-500 focus:bg-white transition-all placeholder-gray-300`})]})]})]})},He=({isOpen:e,onClose:t,onSave:n,initialData:r})=>{let[i,a]=(0,_.useState)(`08:00`),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)(`url`);(0,_.useEffect)(()=>{e&&(r?(a(r.time),s(r.title),l(r.note||``),d(r.links||[])):(a(`08:00`),s(``),l(``),d([]),p(``)))},[e,r]);let g=()=>{f.trim()&&(d([...u,{type:m,url:f,title:m===`map`?`Map`:`Link`}]),p(``))},v=e=>{d(t=>t.filter((t,n)=>n!==e))};return(0,D.jsx)(Re,{isOpen:e,onClose:t,title:``,footer:(0,D.jsxs)(`button`,{onClick:()=>{o&&n({time:i,title:o,note:c,links:u})},className:`w-full bg-green-600 text-white font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-transform hover:bg-green-700`,children:[(0,D.jsx)(Ee,{className:`w-5 h-5`}),` `]}),children:(0,D.jsxs)(`div`,{className:`space-y-5`,children:[(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1 uppercase`,children:``}),(0,D.jsx)(`input`,{type:`time`,value:i,onChange:e=>a(e.target.value),className:`w-full bg-gray-50 border border-gray-200 p-3 rounded-xl font-bold text-center outline-none focus:ring-2 ring-green-500/20 focus:bg-white transition-all`})]}),(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1 uppercase`,children:[` `,(0,D.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,D.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),className:`w-full bg-white border-2 border-gray-100 p-3 rounded-xl font-bold outline-none focus:border-green-500 transition-all`,placeholder:`?`,autoFocus:!0})]})]}),(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1 uppercase`,children:``}),(0,D.jsx)(`textarea`,{rows:2,value:c,onChange:e=>l(e.target.value),className:`w-full bg-gray-50 border-none p-3 rounded-xl text-sm outline-none focus:ring-2 ring-green-500/20 resize-none placeholder-gray-300`,placeholder:`Note...`})]}),(0,D.jsxs)(`div`,{className:`bg-blue-50/50 p-4 rounded-xl border border-blue-100/50`,children:[(0,D.jsx)(`label`,{className:`block text-[10px] font-bold text-blue-400 mb-2 uppercase`,children:` / `}),u.length>0&&(0,D.jsx)(`div`,{className:`flex flex-wrap gap-2 mb-3`,children:u.map((e,t)=>(0,D.jsxs)(`div`,{className:`flex items-center gap-1 bg-white border border-blue-100 px-2 py-1.5 rounded-lg text-xs text-gray-600 shadow-sm`,children:[e.type===`map`?(0,D.jsx)(_e,{className:`w-3 h-3 text-red-500`}):(0,D.jsx)(ge,{className:`w-3 h-3 text-blue-500`}),(0,D.jsx)(`span`,{className:`max-w-[120px] truncate font-medium`,children:e.url}),(0,D.jsx)(`button`,{onClick:()=>v(t),className:`text-gray-300 hover:text-red-500 ml-1 p-0.5 rounded hover:bg-red-50`,children:(0,D.jsx)(Ne,{className:`w-3 h-3`})})]},t))}),(0,D.jsxs)(`div`,{className:`flex gap-2`,children:[(0,D.jsxs)(`div`,{className:`flex bg-white rounded-lg border border-gray-200 p-1 shadow-sm`,children:[(0,D.jsx)(`button`,{onClick:()=>h(`url`),className:`p-2 rounded-md transition-all ${m===`url`?`bg-blue-50 text-blue-500 shadow-sm`:`text-gray-400 hover:bg-gray-50`}`,children:(0,D.jsx)(ge,{className:`w-4 h-4`})}),(0,D.jsx)(`button`,{onClick:()=>h(`map`),className:`p-2 rounded-md transition-all ${m===`map`?`bg-red-50 text-red-500 shadow-sm`:`text-gray-400 hover:bg-gray-50`}`,children:(0,D.jsx)(_e,{className:`w-4 h-4`})})]}),(0,D.jsx)(`input`,{type:`text`,value:f,onChange:e=>p(e.target.value),className:`flex-1 bg-white border border-gray-200 rounded-lg px-3 text-xs outline-none focus:border-green-500 shadow-sm`,placeholder:m===`map`?`Google Maps URL...`:`Link URL...`}),(0,D.jsx)(`button`,{onClick:g,className:`bg-gray-800 text-white p-2.5 rounded-lg hover:bg-black shadow-md active:scale-95 transition-transform`,children:(0,D.jsx)(Ce,{className:`w-4 h-4`})})]})]})]})})};var Ue=(...e)=>e.flat().filter(Boolean).join(` `);function We(...e){return Ue(e)}const Ge=_.forwardRef(({className:e,variant:t=`primary`,size:n=`md`,children:r,...i},a)=>(0,D.jsx)(`button`,{ref:a,className:(0,_.useMemo)(()=>We(`font-bold rounded-2xl transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap`,{primary:`bg-green-600 text-white shadow-lg shadow-green-200 hover:bg-green-700`,danger:`bg-red-500 text-white shadow-lg shadow-red-200 hover:bg-red-600`,outline:`bg-white text-gray-600 border-2 border-gray-100 hover:bg-gray-50`,ghost:`bg-transparent text-gray-500 hover:bg-gray-100`}[t],{sm:`py-2 px-3 text-xs w-full`,md:`py-3 px-4 text-sm w-full`,lg:`py-3.5 px-6 text-base w-full`}[n],e),[t,n,e]),...i,children:r}));Ge.displayName=`Button`;const Ke=({isOpen:e,onClose:t,onSave:n,initialTrip:r})=>{let[i,a]=(0,_.useState)(r.title),[o,s]=(0,_.useState)(r.startDate),[c,l]=(0,_.useState)(r.endDate),[u,d]=(0,_.useState)({}),f=()=>new Date().toISOString().split(`T`)[0];return(0,D.jsx)(Re,{isOpen:e,onClose:t,title:` `,footer:(0,D.jsxs)(Ge,{type:`submit`,form:`edit-trip-form`,variant:`primary`,size:`lg`,children:[(0,D.jsx)(`span`,{className:`text-lg`,children:``}),` `]}),children:(0,D.jsxs)(`form`,{id:`edit-trip-form`,onSubmit:e=>{e.preventDefault();let t={},a=!1,s=f();if(i?.trim()||(t.title=``,a=!0),!o||o===`TBD`?(t.startDate=``,a=!0):o<s&&(t.startDate=``,a=!0),!c||c===`TBD`?(t.endDate=``,a=!0):o&&c<o&&(t.endDate=``,a=!0),a){d(t);return}n({title:i?.trim(),startDate:o,endDate:c,participants:r.participants}),d({})},className:`space-y-6 py-2`,children:[(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1.5 uppercase tracking-widest`,children:[` `,(0,D.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,D.jsx)(`input`,{name:`title`,type:`text`,value:i,onChange:e=>{a(e.target.value),d({...u,title:void 0})},className:`w-full bg-white border-2 rounded-2xl p-4 font-bold text-lg text-gray-800 focus:outline-none focus:ring-4 ring-green-500/10 transition-all ${u.title?`border-red-400 bg-red-50`:`border-gray-100 focus:border-green-500`}`,placeholder:` Japan 2025`,autoFocus:!0}),u.title&&(0,D.jsxs)(`div`,{className:`flex items-center gap-1 mt-2 text-red-500 text-[10px] font-bold animate-pulse`,children:[(0,D.jsx)(ce,{className:`w-3 h-3`}),u.title]})]}),(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1.5 uppercase tracking-widest`,children:[` `,(0,D.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,D.jsx)(`input`,{name:`startDate`,type:`date`,value:o===`TBD`?``:o,min:f(),onChange:e=>{s(e.target.value),d({...u,startDate:void 0})},className:`w-full bg-gray-50 border-2 rounded-xl p-3 text-sm font-medium focus:outline-none focus:ring-2 ring-green-500/20 ${u.startDate?`border-red-400 bg-red-50`:`border-gray-100 focus:border-green-500`}`}),u.startDate&&(0,D.jsx)(`div`,{className:`text-red-500 text-[10px] font-bold mt-1 leading-tight`,children:u.startDate})]}),(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1.5 uppercase tracking-widest`,children:[` `,(0,D.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,D.jsx)(`input`,{name:`endDate`,type:`date`,value:c===`TBD`?``:c,min:o===`TBD`?f():o,onChange:e=>{l(e.target.value),d({...u,endDate:void 0})},className:`w-full bg-gray-50 border-2 rounded-xl p-3 text-sm font-medium focus:outline-none focus:ring-2 ring-green-500/20 ${u.endDate?`border-red-400 bg-red-50`:`border-gray-100 focus:border-green-500`}`}),u.endDate&&(0,D.jsx)(`div`,{className:`text-red-500 text-[10px] font-bold mt-1 leading-tight`,children:u.endDate})]})]})})};var qe=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i})=>e?(0,D.jsx)(`div`,{className:`fixed inset-0 z-[150] flex items-center justify-center bg-black/60 backdrop-blur-sm p-6 animate-fade-in`,children:(0,D.jsxs)(`div`,{className:`bg-white w-full max-w-xs rounded-3xl p-6 shadow-2xl text-center relative`,children:[(0,D.jsx)(`div`,{className:`w-14 h-14 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4`,children:(0,D.jsx)(Ae,{className:`w-7 h-7`})}),(0,D.jsx)(`h3`,{className:`text-lg font-bold text-gray-800 mb-2`,children:r}),(0,D.jsx)(`p`,{className:`text-sm text-gray-500 mb-6`,children:i}),(0,D.jsxs)(`div`,{className:`flex gap-3`,children:[(0,D.jsx)(`button`,{onClick:t,className:`flex-1 bg-gray-100 text-gray-600 font-bold py-3 rounded-xl hover:bg-gray-200 transition-colors`,children:``}),(0,D.jsx)(`button`,{onClick:()=>{n(),t()},className:`flex-1 bg-red-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-red-200 hover:bg-red-600 transition-colors`,children:``})]})]})}):null,Je=m();function Ye(){var e=[...arguments];return(0,_.useMemo)(()=>t=>{e.forEach(e=>e(t))},e)}var Xe=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Ze(e){let t=Object.prototype.toString.call(e);return t===`[object Window]`||t===`[object global]`}function Qe(e){return`nodeType`in e}function $e(e){return e?Ze(e)?e:Qe(e)?e.ownerDocument?.defaultView??window:window:window}function et(e){let{Document:t}=$e(e);return e instanceof t}function tt(e){return Ze(e)?!1:e instanceof $e(e).HTMLElement}function nt(e){return e instanceof $e(e).SVGElement}function rt(e){return e?Ze(e)?e.document:Qe(e)?et(e)?e:tt(e)||nt(e)?e.ownerDocument:document:document:document}var it=Xe?_.useLayoutEffect:_.useEffect;function at(e){let t=(0,_.useRef)(e);return it(()=>{t.current=e}),(0,_.useCallback)(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}function ot(){let e=(0,_.useRef)(null);return[(0,_.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,_.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[])]}function st(e,t){t===void 0&&(t=[e]);let n=(0,_.useRef)(e);return it(()=>{n.current!==e&&(n.current=e)},t),n}function ct(e,t){let n=(0,_.useRef)();return(0,_.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function lt(e){let t=at(e),n=(0,_.useRef)(null);return[n,(0,_.useCallback)(e=>{e!==n.current&&t?.(e,n.current),n.current=e},[])]}function ut(e){let t=(0,_.useRef)();return(0,_.useEffect)(()=>{t.current=e},[e]),t.current}var dt={};function ft(e,t){return(0,_.useMemo)(()=>{if(t)return t;let n=dt[e]==null?0:dt[e]+1;return dt[e]=n,e+`-`+n},[e,t])}function pt(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>{let r=Object.entries(n);for(let[n,i]of r){let r=t[n];r!=null&&(t[n]=r+e*i)}return t},{...t})}}var mt=pt(1),ht=pt(-1);function gt(e){return`clientX`in e&&`clientY`in e}function _t(e){if(!e)return!1;let{KeyboardEvent:t}=$e(e.target);return t&&e instanceof t}function vt(e){if(!e)return!1;let{TouchEvent:t}=$e(e.target);return t&&e instanceof t}function yt(e){if(vt(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return gt(e)?{x:e.clientX,y:e.clientY}:null}var bt=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return`translate3d(`+(t?Math.round(t):0)+`px, `+(n?Math.round(n):0)+`px, 0)`}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return`scaleX(`+t+`) scaleY(`+n+`)`}},Transform:{toString(e){if(e)return[bt.Translate.toString(e),bt.Scale.toString(e)].join(` `)}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+` `+n+`ms `+r}}}),xt=`a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]`;function St(e){return e.matches(xt)?e:e.querySelector(xt)}var Ct={display:`none`};function wt(e){let{id:t,value:n}=e;return _.createElement(`div`,{id:t,style:Ct},n)}function Tt(e){let{id:t,announcement:n,ariaLiveType:r=`assertive`}=e;return _.createElement(`div`,{id:t,style:{position:`fixed`,top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:`hidden`,clip:`rect(0 0 0 0)`,clipPath:`inset(100%)`,whiteSpace:`nowrap`},role:`status`,"aria-live":r,"aria-atomic":!0},n)}function Et(){let[e,t]=(0,_.useState)(``);return{announce:(0,_.useCallback)(e=>{e!=null&&t(e)},[]),announcement:e}}var Dt=(0,_.createContext)(null);function Ot(e){let t=(0,_.useContext)(Dt);(0,_.useEffect)(()=>{if(!t)throw Error(`useDndMonitor must be used within a children of <DndContext>`);return t(e)},[e,t])}function kt(){let[e]=(0,_.useState)(()=>new Set),t=(0,_.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,_.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>e[n]?.call(e,r))},[e]),t]}var At={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jt={onDragStart(e){let{active:t}=e;return`Picked up draggable item `+t.id+`.`},onDragOver(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was moved over droppable area `+n.id+`.`:`Draggable item `+t.id+` is no longer over a droppable area.`},onDragEnd(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was dropped over droppable area `+n.id:`Draggable item `+t.id+` was dropped.`},onDragCancel(e){let{active:t}=e;return`Dragging was cancelled. Draggable item `+t.id+` was dropped.`}};function Mt(e){let{announcements:t=jt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=At}=e,{announce:a,announcement:o}=Et(),s=ft(`DndLiveRegion`),[c,l]=(0,_.useState)(!1);if((0,_.useEffect)(()=>{l(!0)},[]),Ot((0,_.useMemo)(()=>({onDragStart(e){let{active:n}=e;a(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&a(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;a(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;a(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;a(t.onDragCancel({active:n,over:r}))}}),[a,t])),!c)return null;let u=_.createElement(_.Fragment,null,_.createElement(wt,{id:r,value:i.draggable}),_.createElement(Tt,{id:s,announcement:o}));return n?(0,Je.createPortal)(u,n):u}var Nt;(function(e){e.DragStart=`dragStart`,e.DragMove=`dragMove`,e.DragEnd=`dragEnd`,e.DragCancel=`dragCancel`,e.DragOver=`dragOver`,e.RegisterDroppable=`registerDroppable`,e.SetDroppableDisabled=`setDroppableDisabled`,e.UnregisterDroppable=`unregisterDroppable`})(Nt||={});function Pt(){}function Ft(e,t){return(0,_.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function It(){var e=[...arguments];return(0,_.useMemo)(()=>[...e].filter(e=>e!=null),[...e])}var Lt=Object.freeze({x:0,y:0});function Rt(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function zt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Bt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Vt(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function O(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}function Ht(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}var Ut=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=Ht(t,t.left,t.top),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=Rt(Ht(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(zt)},Wt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=Vt(t),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=Vt(r),o=i.reduce((e,t,r)=>e+Rt(n[r],t),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(zt)};function Gt(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){let n=t.width*t.height,r=e.width*e.height,i=o*s,a=i/(n+r-i);return Number(a.toFixed(4))}return 0}var Kt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=[];for(let e of r){let{id:r}=e,a=n.get(r);if(a){let n=Gt(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(Bt)};function qt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Jt(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Lt}function Yt(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}var Xt=Yt(1);function Zt(e){if(e.startsWith(`matrix3d(`)){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(`matrix(`)){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Qt(e,t,n){let r=Zt(t);if(!r)return e;let{scaleX:i,scaleY:a,x:o,y:s}=r,c=e.left-o-(1-i)*parseFloat(n),l=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(` `)+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}var $t={ignoreTransform:!1};function en(e,t){t===void 0&&(t=$t);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=$e(e).getComputedStyle(e);t&&(n=Qt(n,t,r))}let{top:r,left:i,width:a,height:o,bottom:s,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:c}}function tn(e){return en(e,{ignoreTransform:!0})}function nn(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function rn(e,t){return t===void 0&&(t=$e(e).getComputedStyle(e)),t.position===`fixed`}function an(e,t){t===void 0&&(t=$e(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return[`overflow`,`overflowX`,`overflowY`].some(e=>{let r=t[e];return typeof r==`string`?n.test(r):!1})}function on(e,t){let n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(et(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!tt(i)||nt(i)||n.includes(i))return n;let a=$e(e).getComputedStyle(i);return i!==e&&an(i,a)&&n.push(i),rn(i,a)?n:r(i.parentNode)}return e?r(e):n}function sn(e){let[t]=on(e,1);return t??null}function cn(e){return!Xe||!e?null:Ze(e)?e:Qe(e)?et(e)||e===rt(e).scrollingElement?window:tt(e)?e:null:null}function ln(e){return Ze(e)?e.scrollX:e.scrollLeft}function un(e){return Ze(e)?e.scrollY:e.scrollTop}function dn(e){return{x:ln(e),y:un(e)}}var fn;(function(e){e[e.Forward=1]=`Forward`,e[e.Backward=-1]=`Backward`})(fn||={});function pn(e){return!Xe||!e?!1:e===document.scrollingElement}function mn(e){let t={x:0,y:0},n=pn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}var hn={x:.2,y:.2};function gn(e,t,n,r,i){let{top:a,left:o,right:s,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=hn);let{isTop:l,isBottom:u,isLeft:d,isRight:f}=mn(e),p={x:0,y:0},m={x:0,y:0},h={height:t.height*i.y,width:t.width*i.x};return!l&&a<=t.top+h.height?(p.y=fn.Backward,m.y=r*Math.abs((t.top+h.height-a)/h.height)):!u&&c>=t.bottom-h.height&&(p.y=fn.Forward,m.y=r*Math.abs((t.bottom-h.height-c)/h.height)),!f&&s>=t.right-h.width?(p.x=fn.Forward,m.x=r*Math.abs((t.right-h.width-s)/h.width)):!d&&o<=t.left+h.width&&(p.x=fn.Backward,m.x=r*Math.abs((t.left+h.width-o)/h.width)),{direction:p,speed:m}}function _n(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function vn(e){return e.reduce((e,t)=>mt(e,dn(t)),Lt)}function yn(e){return e.reduce((e,t)=>e+ln(t),0)}function bn(e){return e.reduce((e,t)=>e+un(t),0)}function xn(e,t){if(t===void 0&&(t=en),!e)return;let{top:n,left:r,bottom:i,right:a}=t(e);sn(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:`center`,inline:`center`})}var Sn=[[`x`,[`left`,`right`],yn],[`y`,[`top`,`bottom`],bn]],Cn=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=on(t),r=vn(n);this.rect={...e},this.width=e.width,this.height=e.height;for(let[e,t,i]of Sn)for(let a of t)Object.defineProperty(this,a,{get:()=>{let t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,`rect`,{enumerable:!1})}},wn=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>this.target?.removeEventListener(...e))},this.target=e}add(e,t,n){var r;(r=this.target)==null||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}};function Tn(e){let{EventTarget:t}=$e(e);return e instanceof t?e:rt(e)}function En(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t==`number`?Math.sqrt(n**2+r**2)>t:`x`in t&&`y`in t?n>t.x&&r>t.y:`x`in t?n>t.x:`y`in t?r>t.y:!1}var Dn;(function(e){e.Click=`click`,e.DragStart=`dragstart`,e.Keydown=`keydown`,e.ContextMenu=`contextmenu`,e.Resize=`resize`,e.SelectionChange=`selectionchange`,e.VisibilityChange=`visibilitychange`})(Dn||={});function On(e){e.preventDefault()}function kn(e){e.stopPropagation()}var k;(function(e){e.Space=`Space`,e.Down=`ArrowDown`,e.Right=`ArrowRight`,e.Left=`ArrowLeft`,e.Up=`ArrowUp`,e.Esc=`Escape`,e.Enter=`Enter`,e.Tab=`Tab`})(k||={});var An={start:[k.Space,k.Enter],cancel:[k.Esc],end:[k.Space,k.Enter,k.Tab]},jn=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case k.Right:return{...n,x:n.x+25};case k.Left:return{...n,x:n.x-25};case k.Down:return{...n,y:n.y+25};case k.Up:return{...n,y:n.y-25}}},Mn=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new wn(rt(t)),this.windowListeners=new wn($e(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Dn.Resize,this.handleCancel),this.windowListeners.add(Dn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Dn.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&xn(n),t(Lt)}handleKeyDown(e){if(_t(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:i=An,coordinateGetter:a=jn,scrollBehavior:o=`smooth`}=r,{code:s}=e;if(i.end.includes(s)){this.handleEnd(e);return}if(i.cancel.includes(s)){this.handleCancel(e);return}let{collisionRect:c}=n.current,l=c?{x:c.left,y:c.top}:Lt;this.referenceCoordinates||=l;let u=a(e,{active:t,context:n.current,currentCoordinates:l});if(u){let t=ht(u,l),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(let n of i){let i=e.code,{isTop:a,isRight:s,isLeft:c,isBottom:l,maxScroll:d,minScroll:f}=mn(n),p=_n(n),m={x:Math.min(i===k.Right?p.right-p.width/2:p.right,Math.max(i===k.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(i===k.Down?p.bottom-p.height/2:p.bottom,Math.max(i===k.Down?p.top:p.top+p.height/2,u.y))},h=i===k.Right&&!s||i===k.Left&&!c,g=i===k.Down&&!l||i===k.Up&&!a;if(h&&m.x!==u.x){let e=n.scrollLeft+t.x,a=i===k.Right&&e<=d.x||i===k.Left&&e>=f.x;if(a&&!t.y){n.scrollTo({left:e,behavior:o});return}a?r.x=n.scrollLeft-e:r.x=i===k.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}else if(g&&m.y!==u.y){let e=n.scrollTop+t.y,a=i===k.Down&&e<=d.y||i===k.Up&&e>=f.y;if(a&&!t.x){n.scrollTo({top:e,behavior:o});return}a?r.y=n.scrollTop-e:r.y=i===k.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,mt(ht(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Mn.activators=[{eventName:`onKeyDown`,handler:(e,t,n)=>{let{keyboardCodes:r=An,onActivation:i}=t,{active:a}=n,{code:o}=e.nativeEvent;if(r.start.includes(o)){let t=a.activatorNode.current;return t&&e.target!==t?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Nn(e){return!!(e&&`distance`in e)}function Pn(e){return!!(e&&`delay`in e)}var Fn=class{constructor(e,t,n){n===void 0&&(n=Tn(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:r}=e,{target:i}=r;this.props=e,this.events=t,this.document=rt(i),this.documentListeners=new wn(this.document),this.listeners=new wn(n),this.windowListeners=new wn($e(i)),this.initialCoordinates=yt(r)??Lt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Dn.Resize,this.handleCancel),this.windowListeners.add(Dn.DragStart,On),this.windowListeners.add(Dn.VisibilityChange,this.handleCancel),this.windowListeners.add(Dn.ContextMenu,On),this.documentListeners.add(Dn.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Pn(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Nn(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Dn.Click,kn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Dn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){let{activated:t,initialCoordinates:n,props:r}=this,{onMove:i,options:{activationConstraint:a}}=r;if(!n)return;let o=yt(e)??Lt,s=ht(n,o);if(!t&&a){if(Nn(a)){if(a.tolerance!=null&&En(s,a.tolerance))return this.handleCancel();if(En(s,a.distance))return this.handleStart()}if(Pn(a)&&En(s,a.tolerance))return this.handleCancel();this.handlePending(a,s);return}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===k.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},In={cancel:{name:`pointercancel`},move:{name:`pointermove`},end:{name:`pointerup`}},Ln=class extends Fn{constructor(e){let{event:t}=e,n=rt(t.target);super(e,In,n)}};Ln.activators=[{eventName:`onPointerDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];var Rn={move:{name:`mousemove`},end:{name:`mouseup`}},zn;(function(e){e[e.RightClick=2]=`RightClick`})(zn||={});var Bn=class extends Fn{constructor(e){super(e,Rn,rt(e.event.target))}};Bn.activators=[{eventName:`onMouseDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===zn.RightClick?!1:(r?.({event:n}),!0)}}];var Vn={cancel:{name:`touchcancel`},move:{name:`touchmove`},end:{name:`touchend`}},Hn=class extends Fn{constructor(e){super(e,Vn)}static setup(){return window.addEventListener(Vn.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Vn.move.name,e)};function e(){}}};Hn.activators=[{eventName:`onTouchStart`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Un;(function(e){e[e.Pointer=0]=`Pointer`,e[e.DraggableRect=1]=`DraggableRect`})(Un||={});var Wn;(function(e){e[e.TreeOrder=0]=`TreeOrder`,e[e.ReversedTreeOrder=1]=`ReversedTreeOrder`})(Wn||={});function Gn(e){let{acceleration:t,activator:n=Un.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=Wn.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:f}=e,p=qn({delta:d,disabled:!a}),[m,h]=ot(),g=(0,_.useRef)({x:0,y:0}),v=(0,_.useRef)({x:0,y:0}),y=(0,_.useMemo)(()=>{switch(n){case Un.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Un.DraggableRect:return i}},[n,i,c]),b=(0,_.useRef)(null),x=(0,_.useCallback)(()=>{let e=b.current;if(!e)return;let t=g.current.x*v.current.x,n=g.current.y*v.current.y;e.scrollBy(t,n)},[]),ee=(0,_.useMemo)(()=>s===Wn.TreeOrder?[...l].reverse():l,[s,l]);(0,_.useEffect)(()=>{if(!a||!l.length||!y){h();return}for(let e of ee){if(r?.(e)===!1)continue;let n=u[l.indexOf(e)];if(!n)continue;let{direction:i,speed:a}=gn(e,n,y,t,f);for(let e of[`x`,`y`])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0){h(),b.current=e,m(x,o),g.current=a,v.current=i;return}}g.current={x:0,y:0},v.current={x:0,y:0},h()},[t,x,r,h,a,o,JSON.stringify(y),JSON.stringify(p),m,l,ee,u,JSON.stringify(f)])}var Kn={x:{[fn.Backward]:!1,[fn.Forward]:!1},y:{[fn.Backward]:!1,[fn.Forward]:!1}};function qn(e){let{delta:t,disabled:n}=e,r=ut(t);return ct(e=>{if(n||!r||!e)return Kn;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[fn.Backward]:e.x[fn.Backward]||i.x===-1,[fn.Forward]:e.x[fn.Forward]||i.x===1},y:{[fn.Backward]:e.y[fn.Backward]||i.y===-1,[fn.Forward]:e.y[fn.Forward]||i.y===1}}},[n,t,r])}function Jn(e,t){let n=t==null?void 0:e.get(t),r=n?n.node.current:null;return ct(e=>t==null?null:r??e??null,[r,t])}function Yn(e,t){return(0,_.useMemo)(()=>e.reduce((e,n)=>{let{sensor:r}=n,i=r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}));return[...e,...i]},[]),[e,t])}var Xn;(function(e){e[e.Always=0]=`Always`,e[e.BeforeDragging=1]=`BeforeDragging`,e[e.WhileDragging=2]=`WhileDragging`})(Xn||={});var Zn;(function(e){e.Optimized=`optimized`})(Zn||={});var Qn=new Map;function $n(e,t){let{dragging:n,dependencies:r,config:i}=t,[a,o]=(0,_.useState)(null),{frequency:s,measure:c,strategy:l}=i,u=(0,_.useRef)(e),d=g(),f=st(d),p=(0,_.useCallback)(function(e){e===void 0&&(e=[]),!f.current&&o(t=>t===null?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,_.useRef)(null),h=ct(t=>{if(d&&!n)return Qn;if(!t||t===Qn||u.current!==e||a!=null){let t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new Cn(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,n,d,c]);return(0,_.useEffect)(()=>{u.current=e},[e]),(0,_.useEffect)(()=>{d||p()},[n,d]),(0,_.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,_.useEffect)(()=>{d||typeof s!=`number`||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},s))},[s,d,p,...r]),{droppableRects:h,measureDroppableContainers:p,measuringScheduled:a!=null};function g(){switch(l){case Xn.Always:return!1;case Xn.BeforeDragging:return n;default:return!n}}}function er(e,t){return ct(n=>e?n||(typeof t==`function`?t(e):e):null,[t,e])}function tr(e,t){return er(e,t)}function nr(e){let{callback:t,disabled:n}=e,r=at(t),i=(0,_.useMemo)(()=>{if(n||typeof window>`u`||window.MutationObserver===void 0)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,_.useEffect)(()=>()=>i?.disconnect(),[i]),i}function rr(e){let{callback:t,disabled:n}=e,r=at(t),i=(0,_.useMemo)(()=>{if(n||typeof window>`u`||window.ResizeObserver===void 0)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,_.useEffect)(()=>()=>i?.disconnect(),[i]),i}function ir(e){return new Cn(en(e),e)}function ar(e,t,n){t===void 0&&(t=ir);let[r,i]=(0,_.useState)(null);function a(){i(r=>{if(!e)return null;if(e.isConnected===!1)return r??n??null;let i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}let o=nr({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if(t===`childList`&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),s=rr({callback:a});return it(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),r}function or(e){return Jt(e,er(e))}var sr=[];function cr(e){let t=(0,_.useRef)(e),n=ct(n=>e?n&&n!==sr&&e&&t.current&&e.parentNode===t.current.parentNode?n:on(e):sr,[e]);return(0,_.useEffect)(()=>{t.current=e},[e]),n}function lr(e){let[t,n]=(0,_.useState)(null),r=(0,_.useRef)(e),i=(0,_.useCallback)(e=>{let t=cn(e.target);t&&n(e=>e?(e.set(t,dn(t)),new Map(e)):null)},[]);return(0,_.useEffect)(()=>{let t=r.current;if(e!==t){a(t);let o=e.map(e=>{let t=cn(e);return t?(t.addEventListener(`scroll`,i,{passive:!0}),[t,dn(t)]):null}).filter(e=>e!=null);n(o.length?new Map(o):null),r.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{cn(e)?.removeEventListener(`scroll`,i)})}},[i,e]),(0,_.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>mt(e,t),Lt):vn(e):Lt,[e,t])}function ur(e,t){t===void 0&&(t=[]);let n=(0,_.useRef)(null);return(0,_.useEffect)(()=>{n.current=null},t),(0,_.useEffect)(()=>{let t=e!==Lt;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?ht(e,n.current):Lt}function dr(e){(0,_.useEffect)(()=>{if(!Xe)return;let t=e.map(e=>{let{sensor:t}=e;return t.setup==null?void 0:t.setup()});return()=>{for(let e of t)e?.()}},e.map(e=>{let{sensor:t}=e;return t}))}function fr(e,t){return(0,_.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e},{}),[e,t])}function pr(e){return(0,_.useMemo)(()=>e?nn(e):null,[e])}var mr=[];function hr(e,t){t===void 0&&(t=en);let[n]=e,r=pr(n?$e(n):null),[i,a]=(0,_.useState)(mr);function o(){a(()=>e.length?e.map(e=>pn(e)?r:new Cn(t(e),e)):mr)}let s=rr({callback:o});return it(()=>{s?.disconnect(),o(),e.forEach(e=>s?.observe(e))},[e]),i}function gr(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return tt(t)?t:e}function _r(e){let{measure:t}=e,[n,r]=(0,_.useState)(null),i=rr({callback:(0,_.useCallback)(e=>{for(let{target:n}of e)if(tt(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[a,o]=lt((0,_.useCallback)(e=>{let n=gr(e);i?.disconnect(),n&&i?.observe(n),r(n?t(n):null)},[t,i]));return(0,_.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}var vr=[{sensor:Ln,options:{}},{sensor:Mn,options:{}}],yr={current:{}},br={draggable:{measure:tn},droppable:{measure:tn,strategy:Xn.WhileDragging,frequency:Zn.Optimized},dragOverlay:{measure:en}},xr=class extends Map{get(e){return e==null?void 0:super.get(e)??void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){return this.get(e)?.node.current??void 0}},Sr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Pt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:br,measureDroppableContainers:Pt,windowRect:null,measuringScheduled:!1},Cr={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:``},dispatch:Pt,draggableNodes:new Map,over:null,measureDroppableContainers:Pt},wr=(0,_.createContext)(Cr),Tr=(0,_.createContext)(Sr);function Er(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xr}}}function Dr(e,t){switch(t.type){case Nt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Nt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Nt.DragEnd:case Nt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Nt.RegisterDroppable:{let{element:n}=t,{id:r}=n,i=new xr(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Nt.SetDroppableDisabled:{let{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;let o=new xr(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Nt.UnregisterDroppable:{let{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new xr(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Or(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:i}=(0,_.useContext)(wr),a=ut(r),o=ut(n?.id);return(0,_.useEffect)(()=>{if(!t&&!r&&a&&o!=null){if(!_t(a)||document.activeElement===a.target)return;let e=i.get(o);if(!e)return;let{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=St(e);if(t){t.focus();break}}})}},[r,t,i,o,a]),null}function kr(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}function Ar(e){return(0,_.useMemo)(()=>({draggable:{...br.draggable,...e?.draggable},droppable:{...br.droppable,...e?.droppable},dragOverlay:{...br.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function jr(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e,a=(0,_.useRef)(!1),{x:o,y:s}=typeof i==`boolean`?{x:i,y:i}:i;it(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;let e=t?.node.current;if(!e||e.isConnected===!1)return;let i=Jt(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){let t=sn(e);t&&t.scrollBy({top:i.y,left:i.x})}},[t,o,s,r,n])}var Mr=(0,_.createContext)({...Lt,scaleX:1,scaleY:1}),Nr;(function(e){e[e.Uninitialized=0]=`Uninitialized`,e[e.Initializing=1]=`Initializing`,e[e.Initialized=2]=`Initialized`})(Nr||={});var Pr=(0,_.memo)(function(e){let{id:t,accessibility:n,autoScroll:r=!0,children:i,sensors:a=vr,collisionDetection:o=Kt,measuring:s,modifiers:c,...l}=e,[u,d]=(0,_.useReducer)(Dr,void 0,Er),[f,p]=kt(),[m,h]=(0,_.useState)(Nr.Uninitialized),g=m===Nr.Initialized,{draggable:{active:v,nodes:y,translate:b},droppable:{containers:x}}=u,ee=v==null?null:y.get(v),te=(0,_.useRef)({initial:null,translated:null}),S=(0,_.useMemo)(()=>v==null?null:{id:v,data:ee?.data??yr,rect:te},[v,ee]),C=(0,_.useRef)(null),[ne,re]=(0,_.useState)(null),[ie,ae]=(0,_.useState)(null),oe=st(l,Object.values(l)),se=ft(`DndDescribedBy`,t),ce=(0,_.useMemo)(()=>x.getEnabled(),[x]),le=Ar(s),{droppableRects:ue,measureDroppableContainers:de,measuringScheduled:w}=$n(ce,{dragging:g,dependencies:[b.x,b.y],config:le.droppable}),T=Jn(y,v),fe=(0,_.useMemo)(()=>ie?yt(ie):null,[ie]),pe=He(),me=tr(T,le.draggable.measure);jr({activeNode:v==null?null:y.get(v),config:pe.layoutShiftCompensation,initialRect:me,measure:le.draggable.measure});let he=ar(T,le.draggable.measure,me),ge=ar(T?T.parentElement:null),E=(0,_.useRef)({activatorEvent:null,active:null,activeNode:T,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=x.getNodeFor(E.current.over?.id),ve=_r({measure:le.dragOverlay.measure}),ye=ve.nodeRef.current??T,be=g?ve.rect??he:null,xe=!!(ve.nodeRef.current&&ve.rect),Se=or(xe?null:he),Ce=pr(ye?$e(ye):null),we=cr(g?_e??T:null),Te=hr(we),Ee=kr(c,{transform:{x:b.x-Se.x,y:b.y-Se.y,scaleX:1,scaleY:1},activatorEvent:ie,active:S,activeNodeRect:he,containerNodeRect:ge,draggingNodeRect:be,over:E.current.over,overlayNodeRect:ve.rect,scrollableAncestors:we,scrollableAncestorRects:Te,windowRect:Ce}),De=fe?mt(fe,b):null,Oe=lr(we),ke=ur(Oe),Ae=ur(Oe,[he]),je=mt(Ee,ke),Me=be?Xt(be,Ee):null,Ne=S&&Me?o({active:S,collisionRect:Me,droppableRects:ue,droppableContainers:ce,pointerCoordinates:De}):null,Pe=O(Ne,`id`),[Fe,D]=(0,_.useState)(null),Ie=qt(xe?Ee:mt(Ee,Ae),Fe?.rect??null,he),Le=(0,_.useRef)(null),Re=(0,_.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(C.current==null)return;let i=y.get(C.current);if(!i)return;let a=e.nativeEvent;Le.current=new n({active:C.current,activeNode:i,event:a,options:r,context:E,onAbort(e){if(!y.get(e))return;let{onDragAbort:t}=oe.current,n={id:e};t?.(n),f({type:`onDragAbort`,event:n})},onPending(e,t,n,r){if(!y.get(e))return;let{onDragPending:i}=oe.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};i?.(a),f({type:`onDragPending`,event:a})},onStart(e){let t=C.current;if(t==null)return;let n=y.get(t);if(!n)return;let{onDragStart:r}=oe.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:te}};(0,Je.unstable_batchedUpdates)(()=>{r?.(i),h(Nr.Initializing),d({type:Nt.DragStart,initialCoordinates:e,active:t}),f({type:`onDragStart`,event:i}),re(Le.current),ae(a)})},onMove(e){d({type:Nt.DragMove,coordinates:e})},onEnd:o(Nt.DragEnd),onCancel:o(Nt.DragCancel)});function o(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=E.current,o=null;if(t&&i){let{cancelDrop:s}=oe.current;o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===Nt.DragEnd&&typeof s==`function`&&await Promise.resolve(s(o))&&(e=Nt.DragCancel)}C.current=null,(0,Je.unstable_batchedUpdates)(()=>{d({type:e}),h(Nr.Uninitialized),D(null),re(null),ae(null),Le.current=null;let t=e===Nt.DragEnd?`onDragEnd`:`onDragCancel`;if(o){let e=oe.current[t];e?.(o),f({type:t,event:o})}})}}},[y]),ze=Yn(a,(0,_.useCallback)((e,t)=>(n,r)=>{let i=n.nativeEvent,a=y.get(r);if(C.current!==null||!a||i.dndKit||i.defaultPrevented)return;let o={active:a};e(n,t.options,o)===!0&&(i.dndKit={capturedBy:t.sensor},C.current=r,Re(n,t))},[y,Re]));dr(a),it(()=>{he&&m===Nr.Initializing&&h(Nr.Initialized)},[he,m]),(0,_.useEffect)(()=>{let{onDragMove:e}=oe.current,{active:t,activatorEvent:n,collisions:r,over:i}=E.current;if(!t||!n)return;let a={active:t,activatorEvent:n,collisions:r,delta:{x:je.x,y:je.y},over:i};(0,Je.unstable_batchedUpdates)(()=>{e?.(a),f({type:`onDragMove`,event:a})})},[je.x,je.y]),(0,_.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=E.current;if(!e||C.current==null||!t||!i)return;let{onDragOver:a}=oe.current,o=r.get(Pe),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};(0,Je.unstable_batchedUpdates)(()=>{D(s),a?.(c),f({type:`onDragOver`,event:c})})},[Pe]),it(()=>{E.current={activatorEvent:ie,active:S,activeNode:T,collisionRect:Me,collisions:Ne,droppableRects:ue,draggableNodes:y,draggingNode:ye,draggingNodeRect:be,droppableContainers:x,over:Fe,scrollableAncestors:we,scrollAdjustedTranslate:je},te.current={initial:be,translated:Me}},[S,T,Ne,Me,y,ye,be,ue,x,Fe,we,je]),Gn({...pe,delta:b,draggingRect:Me,pointerCoordinates:De,scrollableAncestors:we,scrollableAncestorRects:Te});let Be=(0,_.useMemo)(()=>({active:S,activeNode:T,activeNodeRect:he,activatorEvent:ie,collisions:Ne,containerNodeRect:ge,dragOverlay:ve,draggableNodes:y,droppableContainers:x,droppableRects:ue,over:Fe,measureDroppableContainers:de,scrollableAncestors:we,scrollableAncestorRects:Te,measuringConfiguration:le,measuringScheduled:w,windowRect:Ce}),[S,T,he,ie,Ne,ge,ve,y,x,ue,Fe,de,we,Te,le,w,Ce]),Ve=(0,_.useMemo)(()=>({activatorEvent:ie,activators:ze,active:S,activeNodeRect:he,ariaDescribedById:{draggable:se},dispatch:d,draggableNodes:y,over:Fe,measureDroppableContainers:de}),[ie,ze,S,he,d,se,y,Fe,de]);return _.createElement(Dt.Provider,{value:p},_.createElement(wr.Provider,{value:Ve},_.createElement(Tr.Provider,{value:Be},_.createElement(Mr.Provider,{value:Ie},i)),_.createElement(Or,{disabled:n?.restoreFocus===!1})),_.createElement(Mt,{...n,hiddenTextDescribedById:se}));function He(){let e=ne?.autoScrollEnabled===!1,t=typeof r==`object`?r.enabled===!1:r===!1,n=g&&!e&&!t;return typeof r==`object`?{...r,enabled:n}:{enabled:n}}}),Fr=(0,_.createContext)(null),Ir=`button`,Lr=`Draggable`;function Rr(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e,a=ft(Lr),{activators:o,activatorEvent:s,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:f}=(0,_.useContext)(wr),{role:p=Ir,roleDescription:m=`draggable`,tabIndex:h=0}=i??{},g=c?.id===t,v=(0,_.useContext)(g?Mr:Fr),[y,b]=lt(),[x,ee]=lt(),te=fr(o,t),S=st(n);return it(()=>(d.set(t,{id:t,key:a,node:y,activatorNode:x,data:S}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:c,activatorEvent:s,activeNodeRect:l,attributes:(0,_.useMemo)(()=>({role:p,tabIndex:h,"aria-disabled":r,"aria-pressed":g&&p===Ir?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,h,g,m,u.draggable]),isDragging:g,listeners:r?void 0:te,node:y,over:f,setNodeRef:b,setActivatorNodeRef:ee,transform:v}}function zr(){return(0,_.useContext)(Tr)}var Br=`Droppable`,Vr={timeout:25};function Hr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e,a=ft(Br),{active:o,dispatch:s,over:c,measureDroppableContainers:l}=(0,_.useContext)(wr),u=(0,_.useRef)({disabled:n}),d=(0,_.useRef)(!1),f=(0,_.useRef)(null),p=(0,_.useRef)(null),{disabled:m,updateMeasurementsFor:h,timeout:g}={...Vr,...i},v=st(h??r),y=rr({callback:(0,_.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(v.current)?v.current:[v.current]),p.current=null},g)},[g]),disabled:m||!o}),[b,x]=lt((0,_.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),d.current=!1),e&&y.observe(e))},[y])),ee=st(t);return(0,_.useEffect)(()=>{!y||!b.current||(y.disconnect(),d.current=!1,y.observe(b.current))},[b,y]),(0,_.useEffect)(()=>(s({type:Nt.RegisterDroppable,element:{id:r,key:a,disabled:n,node:b,rect:f,data:ee}}),()=>s({type:Nt.UnregisterDroppable,key:a,id:r})),[r]),(0,_.useEffect)(()=>{n!==u.current.disabled&&(s({type:Nt.SetDroppableDisabled,id:r,key:a,disabled:n}),u.current.disabled=n)},[r,a,n,s]),{active:o,rect:f,isOver:c?.id===r,node:b,over:c,setNodeRef:x}}function Ur(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Wr(e,t){return e.reduce((e,n,r)=>{let i=t.get(n);return i&&(e[r]=i),e},Array(e.length))}function Gr(e){return e!==null&&e>=0}function Kr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function qr(e){return typeof e==`boolean`?{draggable:e,droppable:e}:e}var Jr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e,a=Ur(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},Yr={scaleX:1,scaleY:1},Xr=e=>{let{activeIndex:t,activeNodeRect:n,index:r,rects:i,overIndex:a}=e,o=i[t]??n;if(!o)return null;if(r===t){let e=i[a];return e?{x:0,y:t<a?e.top+e.height-(o.top+o.height):e.top-o.top,...Yr}:null}let s=Zr(i,r,t);return r>t&&r<=a?{x:0,y:-o.height-s,...Yr}:r<t&&r>=a?{x:0,y:o.height+s,...Yr}:{x:0,y:0,...Yr}};function Zr(e,t,n){let r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}var Qr=`Sortable`,$r=_.createContext({activeIndex:-1,containerId:Qr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Jr,disabled:{draggable:!1,droppable:!1}});function ei(e){let{children:t,id:n,items:r,strategy:i=Jr,disabled:a=!1}=e,{active:o,dragOverlay:s,droppableRects:c,over:l,measureDroppableContainers:u}=zr(),d=ft(Qr,n),f=s.rect!==null,p=(0,_.useMemo)(()=>r.map(e=>typeof e==`object`&&`id`in e?e.id:e),[r]),m=o!=null,h=o?p.indexOf(o.id):-1,g=l?p.indexOf(l.id):-1,v=(0,_.useRef)(p),y=!Kr(p,v.current),b=g!==-1&&h===-1||y,x=qr(a);it(()=>{y&&m&&u(p)},[y,p,m,u]),(0,_.useEffect)(()=>{v.current=p},[p]);let ee=(0,_.useMemo)(()=>({activeIndex:h,containerId:d,disabled:x,disableTransforms:b,items:p,overIndex:g,useDragOverlay:f,sortedRects:Wr(p,c),strategy:i}),[h,d,x.draggable,x.droppable,b,p,g,c,f,i]);return _.createElement($r.Provider,{value:ee},t)}var ti=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return Ur(n,r,i).indexOf(t)},ni=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:c,transition:l}=e;return!l||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===c},ri={duration:200,easing:`ease`},ii=`transform`,ai=bt.Transition.toString({property:ii,duration:0,easing:`linear`}),oi={roleDescription:`sortable`};function si(e){let{disabled:t,index:n,node:r,rect:i}=e,[a,o]=(0,_.useState)(null),s=(0,_.useRef)(n);return it(()=>{if(!t&&n!==s.current&&r.current){let e=i.current;if(e){let t=en(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)},[t,n,r,i]),(0,_.useEffect)(()=>{a&&o(null)},[a]),a}function ci(e){let{animateLayoutChanges:t=ni,attributes:n,disabled:r,data:i,getNewIndex:a=ti,id:o,strategy:s,resizeObserverConfig:c,transition:l=ri}=e,{items:u,containerId:d,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:h,overIndex:g,useDragOverlay:v,strategy:y}=(0,_.useContext)($r),b=li(r,p),x=u.indexOf(o),ee=(0,_.useMemo)(()=>({sortable:{containerId:d,index:x,items:u},...i}),[d,i,x,u]),te=(0,_.useMemo)(()=>u.slice(u.indexOf(o)),[u,o]),{rect:S,node:C,isOver:ne,setNodeRef:re}=Hr({id:o,data:ee,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:te,...c}}),{active:ie,activatorEvent:ae,activeNodeRect:oe,attributes:se,setNodeRef:ce,listeners:le,isDragging:ue,over:de,setActivatorNodeRef:w,transform:T}=Rr({id:o,data:ee,attributes:{...oi,...n},disabled:b.draggable}),fe=Ye(re,ce),pe=!!ie,me=pe&&!m&&Gr(f)&&Gr(g),he=!v&&ue,ge=me?(he&&me?T:null)??(s??y)({rects:h,activeNodeRect:oe,activeIndex:f,overIndex:g,index:x}):null,E=Gr(f)&&Gr(g)?a({id:o,items:u,activeIndex:f,overIndex:g}):x,_e=ie?.id,ve=(0,_.useRef)({activeId:_e,items:u,newIndex:E,containerId:d}),ye=u!==ve.current.items,be=t({active:ie,containerId:d,isDragging:ue,isSorting:pe,id:o,index:x,items:u,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:l,wasDragging:ve.current.activeId!=null}),xe=si({disabled:!be,index:x,node:C,rect:S});return(0,_.useEffect)(()=>{pe&&ve.current.newIndex!==E&&(ve.current.newIndex=E),d!==ve.current.containerId&&(ve.current.containerId=d),u!==ve.current.items&&(ve.current.items=u)},[pe,E,d,u]),(0,_.useEffect)(()=>{if(_e===ve.current.activeId)return;if(_e!=null&&ve.current.activeId==null){ve.current.activeId=_e;return}let e=setTimeout(()=>{ve.current.activeId=_e},50);return()=>clearTimeout(e)},[_e]),{active:ie,activeIndex:f,attributes:se,data:ee,rect:S,index:x,newIndex:E,items:u,isOver:ne,isSorting:pe,isDragging:ue,listeners:le,node:C,overIndex:g,over:de,setNodeRef:fe,setActivatorNodeRef:w,setDroppableNodeRef:re,setDraggableNodeRef:ce,transform:xe??ge,transition:Se()};function Se(){if(xe||ye&&ve.current.newIndex===x)return ai;if(!(he&&!_t(ae)||!l)&&(pe||be))return bt.Transition.toString({...l,property:ii})}}function li(e,t){return typeof e==`boolean`?{draggable:e,droppable:!1}:{draggable:e?.draggable??t.draggable,droppable:e?.droppable??t.droppable}}function ui(e){if(!e)return!1;let t=e.data.current;return!!(t&&`sortable`in t&&typeof t.sortable==`object`&&`containerId`in t.sortable&&`items`in t.sortable&&`index`in t.sortable)}var di=[k.Down,k.Right,k.Up,k.Left],fi=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(di.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];a.getEnabled().forEach(n=>{if(!n||n!=null&&n.disabled)return;let a=i.get(n.id);if(a)switch(e.code){case k.Down:r.top<a.top&&t.push(n);break;case k.Up:r.top>a.top&&t.push(n);break;case k.Left:r.left>a.left&&t.push(n);break;case k.Right:r.left<a.left&&t.push(n);break}});let c=Wt({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null}),l=O(c,`id`);if(l===o?.id&&c.length>1&&(l=c[1].id),l!=null){let e=a.get(n.id),t=a.get(l),o=t?i.get(t.id):null,c=t?.node.current;if(c&&o&&e&&t){let n=on(c).some((e,t)=>s[t]!==e),i=pi(e,t),a=mi(e,t),l=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},u={x:o.left,y:o.top};return l.x&&l.y?u:ht(u,l)}}}};function pi(e,t){return!ui(e)||!ui(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function mi(e,t){return!ui(e)||!ui(t)||!pi(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const hi=({id:e,children:t,className:n})=>{let{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:s,isDragging:c}=ci({id:e});return(0,D.jsx)(`div`,{ref:a,style:{transform:bt.Translate.toString(o),transition:s,zIndex:c?999:`auto`,opacity:c?.5:1,touchAction:`none`,position:`relative`},...r,...i,className:n,children:t})},gi=({trip:e,onSaveTrip:t})=>{let[n,r]=(0,_.useState)([1]),[i,a]=(0,_.useState)(1),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)(!1),[y,b]=(0,_.useState)(null),[x,ee]=(0,_.useState)(null),[te,S]=(0,_.useState)(n.length),C=e.title!==``,ne=It(Ft(Ln,{activationConstraint:{distance:8}}),Ft(Mn,{coordinateGetter:fi})),ie=()=>{let e=n.length+1;r([...n,e])},ae=e=>{if(n.length<=1||!confirm(` Day ${e} ?`))return;let t=n.filter(t=>t!==e);s(t=>t.filter(t=>t.day!==e)),r(t),i===e&&a(t[0])},oe=()=>{let e=te,t=n.length;if(e<t){if(!confirm(` ${e}? `))return;s(t=>t.filter(t=>t.day<=e)),r(Array.from({length:e},(e,t)=>t+1)),i>e&&a(e)}else if(e>t){let i=Array.from({length:e-t},(e,n)=>t+1+n);r([...n,...i])}h(!1)},se=e=>{let{active:t,over:n}=e;t.id!==n?.id&&r(e=>Ur(e,e.indexOf(Number(t.id)),e.indexOf(Number(n.id))))},ce=e=>{let{active:t,over:n}=e;if(!n||t.id===n.id)return;let r=o.filter(e=>e.day===i),a=r.findIndex(e=>e.id===t.id),c=r.findIndex(e=>e.id===n.id),l=r.map(e=>e.time),u=Ur(r,a,c).map((e,t)=>({...e,time:l[t]}));s(e=>[...e.filter(e=>e.day!==i),...u])},le=(e,t)=>{if(y)s(t=>t.map(t=>t.id===y.id?{...t,...e}:t));else{let t=Date.now().toString()+Math.random().toString(36).substr(2,9);s(n=>[...n,{id:t,day:i,...e}])}t&&l(!1)},ue=(e,t)=>{t.stopPropagation(),ee(e),v(!0)},de=()=>{x&&s(e=>e.filter(e=>e.id!==x))},w=o.filter(e=>e.day===i).sort((e,t)=>e.time.localeCompare(t.time));return C?(0,D.jsxs)(`div`,{className:`flex flex-col h-full bg-F3F4F6 relative`,children:[(0,D.jsxs)(`div`,{className:`flex-none px-4 py-2 bg-F3F4F6 z-10 shadow-sm`,children:[(0,D.jsxs)(`div`,{className:`flex justify-between items-center animate-fade-in`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,D.jsx)(`h2`,{className:`text-lg font-bold text-gray-800`,children:`Timeline`}),(0,D.jsx)(`button`,{onClick:()=>p(!f),className:`p-1.5 rounded-full transition-colors ${f?`bg-green-100 text-green-600`:`bg-gray-100 text-gray-500 hover:bg-gray-200`}`,children:(0,D.jsx)(Oe,{className:`w-4 h-4`})})]}),(0,D.jsxs)(`div`,{className:`text-xs text-gray-400 font-medium`,children:[`Total `,n.length,` Days`]})]}),(0,D.jsx)(`div`,{className:`relative`,children:f?(0,D.jsx)(Pr,{sensors:ne,collisionDetection:Ut,onDragEnd:se,children:(0,D.jsx)(ei,{items:n,strategy:Jr,children:(0,D.jsxs)(`div`,{className:`flex flex-wrap gap-2 py-1`,children:[n.map((e,t)=>(0,D.jsx)(hi,{id:e,className:``,children:(0,D.jsxs)(`div`,{className:`relative group`,children:[(0,D.jsxs)(`button`,{className:`px-5 py-2 rounded-xl text-sm font-bold whitespace-nowrap border border-green-200 bg-green-50 text-green-700 cursor-grab active:cursor-grabbing`,children:[`D-`,t+1]}),(0,D.jsx)(`button`,{onClick:t=>{t.stopPropagation(),ae(e)},className:`absolute -top-1.5 -right-1.5 bg-red-500 text-white rounded-full p-0.5 shadow-sm hover:bg-red-600 z-20`,children:(0,D.jsx)(Ne,{className:`w-3 h-3`})})]})},e)),(0,D.jsx)(`button`,{onClick:ie,className:`w-10 h-9 flex-shrink-0 flex items-center justify-center bg-white rounded-xl text-green-500 border border-dashed border-green-300 hover:bg-green-50 transition-colors`,children:(0,D.jsx)(Ce,{className:`w-4 h-4`})})]})})}):(0,D.jsxs)(`div`,{className:`flex gap-2 no-scrollbar touch-pan-x py-1 overflow-x-auto hide-scrollbar-completely`,style:{WebkitOverflowScrolling:`touch`},children:[n.map((e,t)=>(0,D.jsxs)(`button`,{onClick:()=>a(e),className:`px-5 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-all border 
                                ${i===e?`bg-green-600 text-white border-green-600 ring-green-200`:`bg-white text-gray-500 border-gray-200`}
                            `,children:[`D-`,t+1]},e)),(0,D.jsx)(`button`,{onClick:()=>{let e=Math.max(...n,0);r([...n,e+1]),a(e+1)},className:`w-10 h-9 flex-shrink-0 flex items-center justify-center bg-white rounded-xl text-green-500 border border-dashed border-green-300 hover:bg-green-50 transition-colors`,children:(0,D.jsx)(Ce,{className:`w-4 h-4`})})]})})]}),(0,D.jsx)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar px-4 pb-24 relative`,children:(0,D.jsxs)(`div`,{className:`space-y-3 min-h-[100px] pt-2`,children:[w.length===0?(0,D.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 mt-4 opacity-60`,children:[(0,D.jsx)(_e,{className:`w-10 h-10 text-gray-300 mb-2`}),(0,D.jsxs)(`p`,{className:`text-xs text-gray-400`,children:[`Day `,n.indexOf(i)+1,` `]}),(0,D.jsxs)(`button`,{onClick:()=>{b(null),l(!0)},className:`mt-4 text-green-600 text-sm font-bold flex items-center gap-1 hover:underline`,children:[(0,D.jsx)(Ce,{className:`w-4 h-4`}),` `]})]}):(0,D.jsx)(Pr,{sensors:ne,collisionDetection:Ut,onDragEnd:ce,children:(0,D.jsx)(ei,{items:w.map(e=>e.id),strategy:Xr,children:w.map(e=>(0,D.jsx)(hi,{id:e.id,children:(0,D.jsxs)(`div`,{onClick:()=>{b(e),l(!0)},className:`bg-white p-3 rounded-2xl shadow-sm border border-gray-100 flex gap-3 items-start group cursor-pointer hover:border-green-200 active:scale-[0.98] transition-all`,children:[(0,D.jsx)(`div`,{className:`mt-2 text-gray-300 cursor-grab active:cursor-grabbing p-1 -ml-2`,children:(0,D.jsx)(pe,{className:`w-4 h-4`})}),(0,D.jsxs)(`div`,{className:`flex flex-col items-center min-w-[45px] border-r border-gray-100 pr-3`,children:[(0,D.jsx)(`span`,{className:`text-sm font-bold text-gray-800`,children:e.time}),(0,D.jsx)(`div`,{className:`h-full w-[2px] bg-gray-100 mt-2 rounded-full group-hover:bg-green-100 transition-colors`})]}),(0,D.jsxs)(`div`,{className:`flex-1 pt-0.5 overflow-hidden`,children:[(0,D.jsx)(`h4`,{className:`font-bold text-gray-800 text-sm truncate`,children:e.title}),e.note&&(0,D.jsx)(`p`,{className:`text-xs text-gray-400 mt-0.5 line-clamp-1`,children:e.note}),(0,D.jsx)(`div`,{className:`flex gap-2 mt-1.5`,children:e.links&&e.links.length>0&&(0,D.jsxs)(`div`,{className:`inline-flex items-center gap-1 text-[10px] bg-blue-50 text-blue-500 px-1.5 py-0.5 rounded`,children:[(0,D.jsx)(ge,{className:`w-3 h-3`}),` `,e.links.length,` Links`]})})]}),e.image&&(0,D.jsx)(`img`,{src:e.image,className:`w-14 h-14 rounded-lg object-cover border border-gray-100`}),(0,D.jsx)(`button`,{onClick:t=>ue(e.id,t),className:`text-gray-300 hover:text-red-500 p-1 -mr-1 z-10`,children:(0,D.jsx)(Ae,{className:`w-4 h-4`})})]})},e.id))})}),(0,D.jsx)(`div`,{className:`h-20`})]})}),C&&w.length>0&&!f&&(0,D.jsx)(`button`,{onClick:()=>{b(null),l(!0)},className:`fixed bottom-24 right-6 w-14 h-14 bg-green-600 text-white rounded-full shadow-xl shadow-green-200 flex items-center justify-center hover:bg-green-700 active:scale-90 transition-all z-30`,children:(0,D.jsx)(Ce,{className:`w-8 h-8`})}),(0,D.jsx)(He,{isOpen:c,onClose:()=>l(!1),onSave:le,initialData:y}),(0,D.jsx)(qe,{isOpen:g,onClose:()=>v(!1),onConfirm:de,title:`?`,message:`  ?`}),m&&(0,D.jsx)(`div`,{className:`fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-6 animate-fade-in`,children:(0,D.jsxs)(`div`,{className:`bg-white w-full max-w-xs rounded-3xl p-6 shadow-2xl relative text-center`,children:[(0,D.jsx)(`button`,{onClick:()=>h(!1),className:`absolute top-4 right-4 bg-gray-100 p-1.5 rounded-full text-gray-500 hover:bg-gray-200`,children:(0,D.jsx)(Ne,{className:`w-4 h-4`})}),(0,D.jsx)(`h3`,{className:`text-lg font-bold text-gray-800 mb-2`,children:` `}),(0,D.jsxs)(`div`,{className:`flex items-center justify-center gap-4 mb-8 mt-6`,children:[(0,D.jsx)(`button`,{onClick:()=>S(Math.max(1,te-1)),className:`w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-red-100 hover:text-red-500 active:scale-90`,children:(0,D.jsx)(xe,{className:`w-6 h-6`})}),(0,D.jsx)(`div`,{className:`text-4xl font-bold text-gray-800 w-16`,children:te}),(0,D.jsx)(`button`,{onClick:()=>S(te+1),className:`w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-green-100 hover:text-green-600 active:scale-90`,children:(0,D.jsx)(Ce,{className:`w-6 h-6`})})]}),(0,D.jsx)(`button`,{onClick:oe,className:`w-full bg-gray-800 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-black active:scale-95 transition-all`,children:``})]})})]}):(0,D.jsxs)(`div`,{className:`flex flex-col h-full bg-F3F4F6 relative p-6 justify-center items-center overflow-hidden`,children:[(0,D.jsxs)(`div`,{className:`bg-white w-full rounded-[2.5rem] p-8 text-center shadow-sm border-2 border-dashed border-gray-200 flex flex-col items-center justify-center py-20 animate-fade-in`,children:[(0,D.jsx)(`div`,{className:`w-24 h-24 bg-green-50 rounded-full flex items-center justify-center mb-6 shadow-inner`,children:(0,D.jsx)(re,{className:`text-green-500 w-10 h-10`,strokeWidth:1.5})}),(0,D.jsx)(`h3`,{className:`text-xl font-extrabold text-gray-800 mb-2 tracking-tight`,children:``}),(0,D.jsx)(`p`,{className:`text-gray-400 text-sm mb-8 font-medium`,children:` Timeline `}),(0,D.jsxs)(Ge,{size:`lg`,type:`submit`,variant:`primary`,onClick:()=>d(!0),children:[(0,D.jsx)(Ce,{className:`w-6 h-6`,strokeWidth:3}),(0,D.jsx)(`span`,{children:``})]})]}),(0,D.jsx)(Ke,{isOpen:u,onClose:()=>d(!1),onSave:t,initialTrip:e})]})};var _i=({currentTab:e,onTabChange:t})=>(0,D.jsxs)(`div`,{className:`flex bg-gray-200 p-1 rounded-xl mb-2`,children:[(0,D.jsx)(`button`,{onClick:()=>t(`ACTIVE`),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${e===`ACTIVE`?`bg-white shadow-sm text-blue-600`:`text-gray-500`}`,children:` `}),(0,D.jsx)(`button`,{onClick:()=>t(`HISTORY`),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${e===`HISTORY`?`bg-white shadow-sm text-green-600`:`text-gray-500`}`,children:`  ()`})]}),vi=({bill:e,currentUser:t,allUsers:n,isOpen:r,onToggle:i,onVerifySlip:a,onUploadSlip:o,onEdit:s})=>{let c=(0,_.useRef)(null),l=[...e.debtors].sort((e,t)=>{let n={SLIP_SENT:1,UNPAID:2,REJECTED:2,VERIFIED:3};return n[e.status]-n[t.status]}),u=e.debtors.filter(e=>e.status===`VERIFIED`).length,d=e.debtors.length,f=e.payerId===t.id,p=t=>{t.stopPropagation(),setPreviewImage({url:e.paymentValue,title:`QR Code `,showDownload:!0})},m=(e,t,n)=>{e.stopPropagation(),setPreviewImage({url:t,title:` ${n}`,showDownload:!0})},h=t=>{t.stopPropagation(),navigator.clipboard.writeText(e.paymentValue),alert(`!`)},g=t=>{t.target.files&&t.target.files[0]&&o(e.id,t.target.files[0])};return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mb-3 transition-all relative group`,children:[f&&(0,D.jsx)(`button`,{onClick:e=>{e.stopPropagation(),s()},className:`absolute top-3 right-3 text-gray-300 hover:text-blue-500 p-1 z-10`,children:(0,D.jsx)(Se,{className:`w-4 h-4`})}),(0,D.jsxs)(`div`,{onClick:i,className:`p-4 cursor-pointer active:bg-gray-50`,children:[(0,D.jsxs)(`div`,{className:`flex justify-between items-start mb-2 pr-6`,children:[(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`h4`,{className:`font-bold text-gray-800 text-base`,children:e.title}),(0,D.jsxs)(`div`,{className:`flex items-center gap-2 text-xs text-gray-400 mt-1`,children:[(0,D.jsxs)(`span`,{children:[`: `,n.find(t=>t.id===e.payerId)?.name||`Unknown`]}),(0,D.jsxs)(`span`,{className:`ml-2 ${u===d?`text-green-500 font-bold`:``}`,children:[` `,u,`/`,d]})]})]}),(0,D.jsx)(`div`,{className:`text-right`,children:(0,D.jsxs)(`div`,{className:`text-lg font-bold text-blue-600`,children:[``,e.totalAmount.toLocaleString()]})})]}),(0,D.jsxs)(`div`,{className:`flex items-center justify-between mt-3 pt-3 border-t border-dashed border-gray-100`,children:[(0,D.jsx)(`div`,{className:`flex items-center gap-2 text-xs text-gray-500`,children:e.paymentType===`QR`?(0,D.jsxs)(`button`,{onClick:p,className:`flex items-center gap-1 bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg font-bold hover:bg-blue-100 transition-colors`,children:[(0,D.jsx)(me,{className:`w-3 h-3`}),(0,D.jsx)(`span`,{children:` QR Code`})]}):(0,D.jsxs)(`button`,{onClick:h,className:`flex items-center gap-1 bg-orange-50 text-orange-600 px-3 py-1.5 rounded-lg font-bold hover:bg-orange-100 transition-colors`,children:[(0,D.jsx)(w,{className:`w-3 h-3`}),(0,D.jsx)(`span`,{children:e.paymentValue})]})}),(0,D.jsx)(`div`,{className:`text-gray-300`,children:r?(0,D.jsx)(se,{className:`w-5 h-5`}):(0,D.jsx)(ae,{className:`w-5 h-5`})})]})]}),r&&(0,D.jsx)(`div`,{className:`bg-gray-50 p-3 border-t border-gray-100 space-y-2`,children:l.map(r=>{let i=n.find(e=>e.id===r.userId);if(!i)return null;let o=i.id===t.id;return(0,D.jsxs)(`div`,{className:`flex flex-col p-3 rounded-xl border bg-white border-gray-200 shadow-sm ${r.status===`VERIFIED`?`opacity-60`:``}`,children:[(0,D.jsxs)(`div`,{className:`flex items-center justify-between w-full`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsxs)(`div`,{className:`relative`,children:[(0,D.jsx)(`img`,{src:i.avatar,className:`w-10 h-10 rounded-full border-2 ${r.status===`VERIFIED`?`border-green-500 grayscale`:`border-gray-100`}`}),r.status===`UNPAID`&&(0,D.jsx)(`div`,{className:`absolute -bottom-1 -right-1 bg-gray-400 text-white text-[8px] px-1.5 rounded-full border border-white`,children:``}),r.status===`REJECTED`&&(0,D.jsx)(`div`,{className:`absolute -bottom-1 -right-1 bg-red-500 text-white text-[8px] px-1.5 rounded-full border border-white`,children:``})]}),(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`div`,{className:`text-sm font-bold text-gray-700`,children:[i.name,` `,o&&(0,D.jsx)(`span`,{className:`text-blue-500`,children:`()`})]}),(0,D.jsxs)(`div`,{className:`text-[10px] mt-0.5`,children:[r.status===`UNPAID`&&(0,D.jsx)(`span`,{className:`text-gray-400`,children:``}),r.status===`REJECTED`&&(0,D.jsxs)(`span`,{className:`text-red-500 font-bold flex items-center gap-1`,children:[(0,D.jsx)(ue,{className:`w-3 h-3`}),` `]}),r.status===`SLIP_SENT`&&(0,D.jsxs)(`span`,{className:`text-orange-500 font-bold flex items-center gap-1`,children:[(0,D.jsx)(de,{className:`w-3 h-3`}),` `]}),r.status===`VERIFIED`&&(0,D.jsxs)(`span`,{className:`text-green-600 font-bold flex items-center gap-1`,children:[(0,D.jsx)(le,{className:`w-3 h-3`}),` `]})]})]})]}),(0,D.jsxs)(`div`,{className:`text-sm font-bold text-gray-700`,children:[``,Math.ceil(r.amount).toLocaleString()]})]}),(0,D.jsxs)(`div`,{className:`mt-3 flex justify-end w-full border-t border-dashed border-gray-100 pt-2`,children:[o&&(r.status===`UNPAID`||r.status===`REJECTED`)&&(0,D.jsxs)(`div`,{className:`w-full`,children:[(0,D.jsx)(`input`,{type:`file`,accept:`image/*`,ref:c,onChange:g,className:`hidden`}),(0,D.jsxs)(`button`,{onClick:()=>c.current?.click(),className:`w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded-lg text-xs font-bold hover:bg-blue-700 transition-all`,children:[(0,D.jsx)(je,{className:`w-4 h-4`}),` `,r.status===`REJECTED`?``:` / `]})]}),r.status===`SLIP_SENT`&&r.slipUrl&&(0,D.jsxs)(`div`,{className:`flex gap-3 w-full items-center justify-between`,children:[(0,D.jsxs)(`button`,{onClick:e=>m(e,r.slipUrl,i.name),className:`flex items-center gap-2 bg-gray-100 px-3 py-2 rounded-lg text-xs text-gray-600 hover:bg-gray-200 flex-1`,children:[(0,D.jsx)(me,{className:`w-4 h-4`}),` `]}),f&&(0,D.jsxs)(`div`,{className:`flex gap-2`,children:[(0,D.jsx)(`button`,{onClick:()=>a(e.id,r.userId,!1),className:`bg-red-50 text-red-500 px-3 py-2 rounded-lg text-xs font-bold border border-red-100`,children:``}),(0,D.jsx)(`button`,{onClick:()=>a(e.id,r.userId,!0),className:`bg-green-500 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-sm`,children:` `})]}),o&&(0,D.jsx)(`span`,{className:`text-[10px] text-orange-400 font-bold`,children:`...`})]})]})]},r.userId)})})]})})},yi=({onClick:e})=>(0,D.jsx)(`button`,{onClick:e,className:`fixed bottom-24 right-4 w-14 h-14 bg-blue-600 text-white rounded-full shadow-xl shadow-blue-200 flex items-center justify-center hover:bg-blue-700 active:scale-90 transition-all z-30`,children:(0,D.jsx)(Ce,{className:`w-8 h-8`})}),bi=({isOpen:e,onClose:t,users:n,currentUser:r,onSave:i,initialData:a})=>{let[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(`QR`),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)([]),[g,v]=(0,_.useState)(`EQUAL`),[y,b]=(0,_.useState)({});(0,_.useEffect)(()=>{if(e)if(a){s(a.title),l(a.totalAmount.toString()),d(a.paymentType),p(a.paymentValue),h(a.debtors.map(e=>e.userId));let e=a.debtors[0]?.amount||0;if(a.debtors.every(t=>Math.abs(t.amount-e)<.01))v(`EQUAL`);else{v(`CUSTOM`);let e={};a.debtors.forEach(t=>e[t.userId]=t.amount.toString()),b(e)}}else s(``),l(``),d(`QR`),p(``),h(n.filter(e=>e.id!==r.id).map(e=>e.id)),v(`EQUAL`),b({})},[e,a,n,r]);let x=(0,_.useMemo)(()=>{let e=parseFloat(c)||0,t=0;return g===`CUSTOM`?m.forEach(e=>{t+=parseFloat(y[e]||`0`)}):t=e,{total:e,currentSum:t,diff:e-t,isValid:Math.abs(e-t)<.1}},[c,y,m,g]);(0,_.useEffect)(()=>{g===`CUSTOM`&&m.length},[m.length]);let ee=e=>{if(!(a&&a.debtors.find(t=>t.userId===e)?.status===`VERIFIED`))if(m.includes(e)){h(t=>t.filter(t=>t!==e));let t={...y};delete t[e],b(t)}else h(t=>[...t,e]),b(t=>({...t,[e]:`0`}))},te=(e,t)=>{b(n=>({...n,[e]:t}))},S=e=>{if(e.preventDefault(),!o||!c||m.length===0)return;if(g===`CUSTOM`&&!x.isValid){alert(`! ${x.diff>0?``:``} ${Math.abs(x.diff).toLocaleString()} `);return}let t=[];if(g===`EQUAL`){let e=parseFloat(c)/m.length;t=m.map(t=>({userId:t,amount:e}))}else t=m.map(e=>({userId:e,amount:parseFloat(y[e]||`0`)}));i({title:o,totalAmount:parseFloat(c),paymentType:u,paymentValue:f||`QR_CODE_URL`,debtors:t},!!a)},C=(0,D.jsxs)(`div`,{className:`space-y-3`,children:[g===`CUSTOM`&&Math.abs(x.diff)>.1&&(0,D.jsx)(`div`,{className:`text-xs font-bold text-center ${x.diff>0?`text-orange-500`:`text-red-500`}`,children:x.diff>0?` ${x.diff.toLocaleString()} `:` ${Math.abs(x.diff).toLocaleString()} `}),(0,D.jsx)(`button`,{type:`submit`,form:`create-bill-form`,disabled:g===`CUSTOM`&&!x.isValid,className:`w-full text-white font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center active:scale-95 transition-all 
                    ${g===`CUSTOM`&&!x.isValid?`bg-gray-300 cursor-not-allowed`:`bg-blue-600 hover:bg-blue-700`}`,children:a?``:``})]});return(0,D.jsx)(Re,{isOpen:e,onClose:t,title:a?` `:` `,footer:C,children:(0,D.jsxs)(`form`,{id:`create-bill-form`,onSubmit:S,className:`space-y-5`,children:[(0,D.jsxs)(`div`,{className:`space-y-3`,children:[(0,D.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),placeholder:`? ( )`,className:`w-full bg-gray-50 border-2 border-transparent focus:border-blue-500 rounded-xl p-3 font-bold outline-none transition-all`,autoFocus:!0}),(0,D.jsxs)(`div`,{className:`relative`,children:[(0,D.jsx)(T,{className:`absolute top-3.5 left-3 text-gray-400 w-4 h-4`}),(0,D.jsx)(`input`,{type:`number`,value:c,onChange:e=>l(e.target.value),placeholder:`0.00`,className:`w-full bg-gray-50 border-2 border-transparent focus:border-blue-500 rounded-xl pl-9 p-3 font-bold text-blue-600 outline-none text-lg transition-all`})]})]}),(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`label`,{className:`text-[10px] font-bold text-gray-400 uppercase mb-2 block flex justify-between`,children:[(0,D.jsxs)(`span`,{children:[`? (`,m.length,`)`]}),(0,D.jsx)(`span`,{className:`text-blue-500 cursor-pointer`,onClick:()=>h(n.filter(e=>e.id!==r.id).map(e=>e.id)),children:``})]}),(0,D.jsx)(`div`,{className:`flex gap-3 overflow-x-auto pb-2 no-scrollbar`,children:n.map(e=>{if(e.id===r.id)return null;let t=m.includes(e.id),n=a?.debtors.find(t=>t.userId===e.id)?.status===`VERIFIED`;return(0,D.jsxs)(`div`,{onClick:()=>ee(e.id),className:`cursor-pointer flex flex-col items-center space-y-1 min-w-[56px] transition-all ${t?`opacity-100`:`opacity-50 scale-90`}`,children:[(0,D.jsxs)(`div`,{className:`w-12 h-12 rounded-full border-2 p-0.5 relative ${t?`border-green-500`:`border-gray-200`}`,children:[(0,D.jsx)(`img`,{src:e.avatar,className:`w-full h-full rounded-full bg-gray-100 object-cover`}),t&&(0,D.jsx)(`div`,{className:`absolute -bottom-1 -right-1 bg-green-500 rounded-full p-0.5 border-2 border-white`,children:(0,D.jsx)(ie,{className:`w-2.5 h-2.5 text-white`,strokeWidth:4})}),n&&(0,D.jsx)(`div`,{className:`absolute inset-0 bg-black/30 rounded-full flex items-center justify-center`,children:(0,D.jsx)(ie,{className:`text-white`})})]}),(0,D.jsx)(`span`,{className:`text-[10px] font-bold truncate w-full text-center`,children:e.name})]},e.id)})})]}),(0,D.jsxs)(`div`,{className:`bg-gray-50 p-3 rounded-xl border border-gray-100`,children:[(0,D.jsxs)(`div`,{className:`flex gap-2 text-xs`,children:[(0,D.jsx)(`button`,{type:`button`,onClick:()=>d(`QR`),className:`flex-1 py-2 rounded-lg font-bold transition-colors ${u===`QR`?`bg-blue-500 text-white shadow`:`bg-white text-gray-500 border`}`,children:`QR Code`}),(0,D.jsx)(`button`,{type:`button`,onClick:()=>d(`BANK_ACCOUNT`),className:`flex-1 py-2 rounded-lg font-bold transition-colors ${u===`BANK_ACCOUNT`?`bg-blue-500 text-white shadow`:`bg-white text-gray-500 border`}`,children:``})]}),(0,D.jsx)(`div`,{className:`mt-2`,children:u===`QR`?(0,D.jsxs)(`div`,{className:`h-10 border border-dashed border-blue-300 rounded bg-blue-50 flex items-center justify-center text-blue-400 text-xs cursor-pointer`,children:[(0,D.jsx)(we,{className:`w-3 h-3 mr-1`}),`  QR (Coming Soon)`]}):(0,D.jsx)(`input`,{type:`text`,value:f,onChange:e=>p(e.target.value),placeholder:` / `,className:`w-full p-2 text-xs bg-white border rounded outline-none focus:border-blue-500`})})]}),(0,D.jsxs)(`div`,{className:`pt-2`,children:[(0,D.jsxs)(`div`,{className:`flex bg-gray-100 p-1 rounded-lg mb-3`,children:[(0,D.jsxs)(`button`,{type:`button`,onClick:()=>v(`EQUAL`),className:`flex-1 py-1.5 rounded-md text-xs font-bold flex items-center justify-center gap-1 transition-all ${g===`EQUAL`?`bg-white shadow text-green-600`:`text-gray-400`}`,children:[(0,D.jsx)(Me,{className:`w-3 h-3`}),` `]}),(0,D.jsxs)(`button`,{type:`button`,onClick:()=>v(`CUSTOM`),className:`flex-1 py-1.5 rounded-md text-xs font-bold flex items-center justify-center gap-1 transition-all ${g===`CUSTOM`?`bg-white shadow text-blue-600`:`text-gray-400`}`,children:[(0,D.jsx)(ne,{className:`w-3 h-3`}),` `]})]}),(0,D.jsxs)(`div`,{className:`space-y-2 max-h-[200px] overflow-y-auto pr-1 custom-scrollbar`,children:[m.length===0&&(0,D.jsx)(`div`,{className:`text-center text-gray-300 text-xs py-4`,children:``}),m.map(e=>{let t=n.find(t=>t.id===e);return t?(0,D.jsxs)(`div`,{className:`flex items-center justify-between bg-white border border-gray-100 p-2 rounded-lg`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,D.jsx)(`img`,{src:t.avatar,className:`w-8 h-8 rounded-full bg-gray-100`}),(0,D.jsx)(`span`,{className:`text-xs font-bold text-gray-700`,children:t.name})]}),g===`EQUAL`?(0,D.jsxs)(`div`,{className:`text-xs font-bold text-gray-400 bg-gray-50 px-2 py-1 rounded`,children:[``,(parseFloat(c||`0`)/m.length).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):(0,D.jsxs)(`div`,{className:`relative w-24`,children:[(0,D.jsx)(`span`,{className:`absolute left-2 top-1.5 text-gray-400 text-xs`,children:``}),(0,D.jsx)(`input`,{type:`number`,value:y[e]||``,onChange:t=>te(e,t.target.value),className:`w-full pl-5 pr-2 py-1 text-right text-sm font-bold border rounded focus:border-blue-500 outline-none bg-blue-50/30 text-blue-700`,placeholder:`0`})]})]},e):null})]})]})]})})};let xi=function(e){return e.UNPAID=`UNPAID`,e.SLIP_SENT=`SLIP_SENT`,e.VERIFIED=`VERIFIED`,e.REJECTED=`REJECTED`,e}({});var Si=[{id:`u1`,name:`Me`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Felix`},{id:`u2`,name:`Jane`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Jane`},{id:`u3`,name:`Max`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Max`},{id:`u4`,name:`Bob`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Bob`},{id:`u5`,name:`Alice`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Alice`}],Ci=()=>{let[e,t]=(0,_.useState)(`ACTIVE`),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(null),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(`ALL`),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)([{id:`b1`,title:` Osaka `,totalAmount:12e3,paymentType:`QR`,paymentValue:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=PromptPay`,payerId:`u1`,createdAt:Date.now(),isCompleted:!1,debtors:[{userId:`u1`,amount:3e3,status:xi.VERIFIED},{userId:`u3`,amount:3e3,status:xi.SLIP_SENT,slipUrl:`https://via.placeholder.com/300x500?text=Slip+Image`},{userId:`u4`,amount:3e3,status:xi.UNPAID},{userId:`u5`,amount:3e3,status:xi.VERIFIED}]}]),m=(e,t)=>{let n=(e,t=[])=>e.map(e=>{let n=t.find(t=>t.userId===e.userId),r=n?n.status:xi.UNPAID;return e.userId===`u1`&&(r=xi.VERIFIED),{userId:e.userId,amount:e.amount,status:r,slipUrl:n?.slipUrl}});if(t&&i)p(t=>t.map(t=>t.id===i.id?{...t,title:e.title,totalAmount:e.totalAmount,paymentType:e.paymentType,paymentValue:e.paymentValue,debtors:n(e.debtors,t.debtors)}:t));else{let t={id:Date.now().toString(),title:e.title,totalAmount:e.totalAmount,paymentType:e.paymentType,paymentValue:e.paymentValue,payerId:`u1`,debtors:n(e.debtors),createdAt:Date.now(),isCompleted:!1};p(e=>[t,...e]),d(e=>[...e,t.id])}r(!1),a(null)},h=(e,t,n)=>{p(r=>r.map(r=>{if(r.id!==e)return r;let i=r.debtors.map(e=>e.userId===t?{...e,status:n?`VERIFIED`:`REJECTED`}:e),a=i.every(e=>e.status===`VERIFIED`);return{...r,debtors:i,isCompleted:a}}))},g=(e,t)=>{let n=URL.createObjectURL(t);p(t=>t.map(t=>{if(t.id!==e)return t;let r=t.debtors.map(e=>e.userId===`u1`?{...e,status:`SLIP_SENT`,slipUrl:n}:e);return{...t,debtors:r}}))},v=e=>{a(e),r(!0)},y=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},b=()=>{u.length===x.length?d([]):d(x.map(e=>e.id))},x=(0,_.useMemo)(()=>f.filter(t=>!(e===`ACTIVE`&&t.isCompleted||e===`HISTORY`&&!t.isCompleted||!t.title.toLowerCase().includes(o.toLowerCase())||c!==`ALL`&&!t.debtors.some(e=>e.userId===c&&e.status!==`VERIFIED`))),[f,e,o,c]);return(0,D.jsxs)(`div`,{className:`h-full flex flex-col bg-F3F4F6 relative`,children:[(0,D.jsxs)(`div`,{className:`flex-none px-4 py-2 bg-F3F4F6 z-10`,children:[(0,D.jsx)(_i,{currentTab:e,onTabChange:t}),(0,D.jsxs)(`div`,{className:`flex gap-2`,children:[(0,D.jsxs)(`div`,{className:`flex-1 relative`,children:[(0,D.jsx)(De,{className:`absolute top-2.5 left-3 w-4 h-4 text-gray-400`}),(0,D.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),placeholder:`...`,className:`w-full bg-white border border-gray-200 pl-9 pr-3 py-2 rounded-xl text-xs outline-none focus:border-blue-500`})]}),(0,D.jsxs)(`div`,{className:`relative`,children:[(0,D.jsxs)(`select`,{value:c,onChange:e=>l(e.target.value),className:`appearance-none bg-white border border-gray-200 text-gray-600 text-xs font-bold py-2 pl-3 pr-8 rounded-xl outline-none focus:border-blue-500`,children:[(0,D.jsx)(`option`,{value:`ALL`,children:``}),Si.map(e=>e.id!==`u1`&&(0,D.jsx)(`option`,{value:e.id,children:e.name},e.id))]}),(0,D.jsx)(fe,{className:`absolute top-2.5 right-2.5 w-3 h-3 text-gray-400 pointer-events-none`})]}),(0,D.jsx)(`button`,{onClick:b,className:`bg-white border border-gray-200 w-9 h-9 rounded-xl flex items-center justify-center text-gray-500 hover:bg-gray-50`,children:u.length===x.length&&x.length>0?(0,D.jsx)(be,{className:`w-4 h-4`}):(0,D.jsx)(he,{className:`w-4 h-4`})})]})]}),(0,D.jsx)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar px-4 pb-24 min-h-0`,children:(0,D.jsxs)(`div`,{className:`space-y-1`,children:[x.map(e=>(0,D.jsx)(vi,{bill:e,currentUser:Si[0],allUsers:Si,isOpen:u.includes(e.id),onToggle:()=>y(e.id),onVerifySlip:h,onUploadSlip:g,onEdit:()=>v(e)},e.id)),x.length===0&&(0,D.jsx)(`div`,{className:`text-center py-12 text-gray-400 text-xs`,children:e===`ACTIVE`?` `:``})]})}),(0,D.jsx)(yi,{onClick:()=>{a(null),r(!0)}}),(0,D.jsx)(bi,{isOpen:n,onClose:()=>r(!1),users:Si,currentUser:Si[0],onSave:m,initialData:i})]})},wi=typeof globalThis<`u`&&globalThis||typeof self<`u`&&self||typeof global<`u`&&global||{},Ti={searchParams:`URLSearchParams`in wi,iterable:`Symbol`in wi&&`iterator`in Symbol,blob:`FileReader`in wi&&`Blob`in wi&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:`FormData`in wi,arrayBuffer:`ArrayBuffer`in wi};function Ei(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Ti.arrayBuffer)var Di=[`[object Int8Array]`,`[object Uint8Array]`,`[object Uint8ClampedArray]`,`[object Int16Array]`,`[object Uint16Array]`,`[object Int32Array]`,`[object Uint32Array]`,`[object Float32Array]`,`[object Float64Array]`],Oi=ArrayBuffer.isView||function(e){return e&&Di.indexOf(Object.prototype.toString.call(e))>-1};function ki(e){if(typeof e!=`string`&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e===``)throw TypeError(`Invalid character in header field name: "`+e+`"`);return e.toLowerCase()}function Ai(e){return typeof e!=`string`&&(e=String(e)),e}function ji(e){var t={next:function(){var t=e.shift();return{done:t===void 0,value:t}}};return Ti.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Mi(e){this.map={},e instanceof Mi?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(e.length!=2)throw TypeError(`Headers constructor: expected name/value pair to be length 2, found`+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Mi.prototype.append=function(e,t){e=ki(e),t=Ai(t);var n=this.map[e];this.map[e]=n?n+`, `+t:t},Mi.prototype.delete=function(e){delete this.map[ki(e)]},Mi.prototype.get=function(e){return e=ki(e),this.has(e)?this.map[e]:null},Mi.prototype.has=function(e){return this.map.hasOwnProperty(ki(e))},Mi.prototype.set=function(e,t){this.map[ki(e)]=Ai(t)},Mi.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Mi.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),ji(e)},Mi.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),ji(e)},Mi.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),ji(e)},Ti.iterable&&(Mi.prototype[Symbol.iterator]=Mi.prototype.entries);function Ni(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError(`Already read`));e.bodyUsed=!0}}function Pi(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Fi(e){var t=new FileReader,n=Pi(t);return t.readAsArrayBuffer(e),n}function Ii(e){var t=new FileReader,n=Pi(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:`utf-8`;return t.readAsText(e,i),n}function Li(e){for(var t=new Uint8Array(e),n=Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join(``)}function Ri(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function zi(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e==`string`?this._bodyText=e:Ti.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Ti.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Ti.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Ti.arrayBuffer&&Ti.blob&&Ei(e)?(this._bodyArrayBuffer=Ri(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ti.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Oi(e))?this._bodyArrayBuffer=Ri(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=``),this.headers.get(`content-type`)||(typeof e==`string`?this.headers.set(`content-type`,`text/plain;charset=UTF-8`):this._bodyBlob&&this._bodyBlob.type?this.headers.set(`content-type`,this._bodyBlob.type):Ti.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set(`content-type`,`application/x-www-form-urlencoded;charset=UTF-8`))},Ti.blob&&(this.blob=function(){var e=Ni(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error(`could not read FormData body as blob`);return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return Ni(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(Ti.blob)return this.blob().then(Fi);throw Error(`could not read as ArrayBuffer`)},this.text=function(){var e=Ni(this);if(e)return e;if(this._bodyBlob)return Ii(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Li(this._bodyArrayBuffer));if(this._bodyFormData)throw Error(`could not read FormData body as text`);return Promise.resolve(this._bodyText)},Ti.formData&&(this.formData=function(){return this.text().then(Ui)}),this.json=function(){return this.text().then(JSON.parse)},this}var Bi=[`CONNECT`,`DELETE`,`GET`,`HEAD`,`OPTIONS`,`PATCH`,`POST`,`PUT`,`TRACE`];function Vi(e){var t=e.toUpperCase();return Bi.indexOf(t)>-1?t:e}function Hi(e,t){if(!(this instanceof Hi))throw TypeError(`Please use the "new" operator, this DOM object constructor cannot be called as a function.`);t||={};var n=t.body;if(e instanceof Hi){if(e.bodyUsed)throw TypeError(`Already read`);this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Mi(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||`same-origin`,(t.headers||!this.headers)&&(this.headers=new Mi(t.headers)),this.method=Vi(t.method||this.method||`GET`),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if(`AbortController`in wi)return new AbortController().signal}(),this.referrer=null,(this.method===`GET`||this.method===`HEAD`)&&n)throw TypeError(`Body not allowed for GET or HEAD requests`);if(this._initBody(n),(this.method===`GET`||this.method===`HEAD`)&&(t.cache===`no-store`||t.cache===`no-cache`)){var r=/([?&])_=[^&]*/;r.test(this.url)?this.url=this.url.replace(r,`$1_=`+new Date().getTime()):this.url+=(/\?/.test(this.url)?`&`:`?`)+`_=`+new Date().getTime()}}Hi.prototype.clone=function(){return new Hi(this,{body:this._bodyInit})};function Ui(e){var t=new FormData;return e.trim().split(`&`).forEach(function(e){if(e){var n=e.split(`=`),r=n.shift().replace(/\+/g,` `),i=n.join(`=`).replace(/\+/g,` `);t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function A(e){var t=new Mi;return e.replace(/\r?\n[\t ]+/g,` `).split(`\r`).map(function(e){return e.indexOf(`
`)===0?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(`:`),r=n.shift().trim();if(r){var i=n.join(`:`).trim();try{t.append(r,i)}catch(e){console.warn(`Response `+e.message)}}}),t}zi.call(Hi.prototype);function Wi(e,t){if(!(this instanceof Wi))throw TypeError(`Please use the "new" operator, this DOM object constructor cannot be called as a function.`);if(t||={},this.type=`default`,this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw RangeError(`Failed to construct 'Response': The status provided (0) is outside the range [200, 599].`);this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?``:``+t.statusText,this.headers=new Mi(t.headers),this.url=t.url||``,this._initBody(e)}zi.call(Wi.prototype),Wi.prototype.clone=function(){return new Wi(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Mi(this.headers),url:this.url})},Wi.error=function(){var e=new Wi(null,{status:200,statusText:``});return e.ok=!1,e.status=0,e.type=`error`,e};var Gi=[301,302,303,307,308];Wi.redirect=function(e,t){if(Gi.indexOf(t)===-1)throw RangeError(`Invalid status code`);return new Wi(null,{status:t,headers:{location:e}})};var Ki=wi.DOMException;try{new Ki}catch{Ki=function(e,t){this.message=e,this.name=t,this.stack=Error(e).stack},Ki.prototype=Object.create(Error.prototype),Ki.prototype.constructor=Ki}function qi(e,t){return new Promise(function(n,r){var i=new Hi(e,t);if(i.signal&&i.signal.aborted)return r(new Ki(`Aborted`,`AbortError`));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var e={statusText:a.statusText,headers:A(a.getAllResponseHeaders()||``)};i.url.indexOf(`file://`)===0&&(a.status<200||a.status>599)?e.status=200:e.status=a.status,e.url=`responseURL`in a?a.responseURL:e.headers.get(`X-Request-URL`);var t=`response`in a?a.response:a.responseText;setTimeout(function(){n(new Wi(t,e))},0)},a.onerror=function(){setTimeout(function(){r(TypeError(`Network request failed`))},0)},a.ontimeout=function(){setTimeout(function(){r(TypeError(`Network request timed out`))},0)},a.onabort=function(){setTimeout(function(){r(new Ki(`Aborted`,`AbortError`))},0)};function s(e){try{return e===``&&wi.location.href?wi.location.href:e}catch{return e}}if(a.open(i.method,s(i.url),!0),i.credentials===`include`?a.withCredentials=!0:i.credentials===`omit`&&(a.withCredentials=!1),`responseType`in a&&(Ti.blob?a.responseType=`blob`:Ti.arrayBuffer&&(a.responseType=`arraybuffer`)),t&&typeof t.headers==`object`&&!(t.headers instanceof Mi||wi.Headers&&t.headers instanceof wi.Headers)){var c=[];Object.getOwnPropertyNames(t.headers).forEach(function(e){c.push(ki(e)),a.setRequestHeader(e,Ai(t.headers[e]))}),i.headers.forEach(function(e,t){c.indexOf(t)===-1&&a.setRequestHeader(t,e)})}else i.headers.forEach(function(e,t){a.setRequestHeader(t,e)});i.signal&&(i.signal.addEventListener(`abort`,o),a.onreadystatechange=function(){a.readyState===4&&i.signal.removeEventListener(`abort`,o)}),a.send(i._bodyInit===void 0?null:i._bodyInit)})}qi.polyfill=!0,wi.fetch||(wi.fetch=qi,wi.Headers=Mi,wi.Request=Hi,wi.Response=Wi);var Ji=function(e,t){return Ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ji(e,t)};function j(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);Ji(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Yi=function(){return Yi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yi.apply(this,arguments)};function M(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator==`function`?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Xi(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)}function P(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Zi(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Qi(e,t){return Object.defineProperty?Object.defineProperty(e,`raw`,{value:t}):e.raw=t,e}var $i;(function(e){e[e.DEBUG=1]=`DEBUG`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`})($i||={});var F=new(function(){function e(e){e===void 0&&(e=$i.INFO),this.logLevel=e,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){var e=[...arguments];this.logLevel<=$i.DEBUG&&(e.unshift(`[DEBUG]`),this._debug.apply(this,Zi([],P(e),!1)))},e.prototype.info=function(){var e=[...arguments];this.logLevel<=$i.INFO&&(e.unshift(`[INFO]`),this._info.apply(this,Zi([],P(e),!1)))},e.prototype.warn=function(){var e=[...arguments];this.logLevel<=$i.WARN&&(e.unshift(`[WARN]`),this._warn.apply(this,Zi([],P(e),!1)))},e.prototype.error=function(){var e=[...arguments];this.logLevel<=$i.ERROR&&(e.unshift(`[ERROR]`),this._error.apply(this,Zi([],P(e),!1)))},e}())(3),ea=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},ta=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks},na=function(){function e(e,t){this.pluginCtx=new ta(e,t),this.moduleCtx=new ea(e,t)}return Object.defineProperty(e.prototype,`pluginContext`,{get:function(){return this.pluginCtx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`moduleContext`,{get:function(){return this.moduleCtx},enumerable:!1,configurable:!0}),e}(),ra=function(){function e(){this.modules=new Map,this.hooks={},this.internalHooks={}}return e.prototype.addModule=function(e,t){this.modules.set(e,t),t.hooks&&(this.hooks[e]=Object.entries(t.hooks).reduce((function(e,t){var n,r=P(t,2),i=r[0],a=r[1];return Yi(Yi({},e),((n={})[i]=a.on.bind(a),n))}),{})),`internalHooks`in t&&t.internalHooks&&(this.internalHooks[e]=Object.entries(t.internalHooks).reduce((function(e,t){var n,r=P(t,2),i=r[0],a=r[1];return Yi(Yi({},e),((n={})[i]=a.on.bind(a),n))}),{}))},e.prototype.hasModule=function(e){return this.modules.has(e)},e}(),I=function(){},ia=function(e){return e instanceof I},aa=function(e){function t(t,n,r){var i=e.call(this)||this;return i.driver=t,i.contextHolder=n,i.option=r,i}return j(t,e),t.prototype.install=function(){return this.factory(this.driver,this.contextHolder)},Object.defineProperty(t.prototype,`name`,{get:function(){return`use`},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`defaultOption`,{get:function(){return{namespacePrefix:`$`}},enumerable:!1,configurable:!0}),t.prototype.factory=function(e,t){var n=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(r,i){if(!r||typeof r.install!=`function`||typeof r.name!=`string`)return F.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var a=ia(r)?r.name:`${n}${r.name}`;if(e.hasModule(a))return this;var o=ia(r)?r.install.call(r,t.moduleContext,i):r.install.call(r,t.pluginContext,i);return this[`${a}`]?(F.warn(`There is a duplicate plugin name. \`${a}\` plugin namespace will be override.`),this[`${a}`]=o):o!==void 0&&(this[`${a}`]=o),e.addModule(a,r),this}},t}(I),oa,sa=new Promise((function(e){oa=e})),ca=`UNKNOWN`,la=`UNAUTHORIZED`,L=`INVALID_ARGUMENT`,ua=`INIT_FAILED`,da=`FORBIDDEN`,fa=`INVALID_CONFIG`,pa=`INVALID_ID_TOKEN`,ma=`CREATE_SUBWINDOW_FAILED`,ha=`EXCEPTION_IN_SUBWINDOW`,ga=`liffEvent`,_a=`LIFF_STORE`,va=`https://liff.line.me/`,ya=`https://miniapp.line.me/`,R={ACCESS_TOKEN:`accessToken`,ID_TOKEN:`IDToken`,DECODED_ID_TOKEN:`decodedIDToken`,FEATURE_TOKEN:`featureToken`,LOGIN_TMP:`loginTmp`,CONFIG:`config`,CONTEXT:`context`,EXPIRES:`expires`,RAW_CONTEXT:`rawContext`,CLIENT_ID:`clientId`,IS_SUBSEQUENT_LIFF_APP:`isSubsequentLiffApp`,MST_CHALLENGE:`mstChallenge`,MSIT:`msit`,MST:`mst`,MST_VERIFIER:`mstVerifier`,APP_DATA:`appData`},ba=[`context_token`,`feature_token`,`access_token`,`id_token`,`client_id`,`mst_verifier`,`mst_challenge`,`msit`],xa=[`liff.ref.source`,`liff.ref.medium`,`liff.ref.campaign`,`liff.ref.term`,`liff.ref.content`],Sa=`liff://subwindow`,Ca={INIT:`init`,SUBMIT:`submit`,CANCEL:`cancel`,CLOSE:`close`,ERROR:`error`},wa=`liff.subwindow`,Ta=`healthCheck`,Ea=[`profile`,`chat_message.write`,`openid`,`email`];function Da(e){return window.atob(e.replace(/-/g,`+`).replace(/_/g,`/`))}var Oa={decode:Da,encode:function(e){return window.btoa(e).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)},decodeUnicode:function(e){var t=Da(e).split(``).map((function(e){return`%`+(`00`+e.charCodeAt(0).toString(16)).slice(-2)})).join(``);return decodeURIComponent(t)}};function ka(e,t){if(e===t)return 0;for(var n=e.split(`.`),r=t.split(`.`),i=Math.max(n.length,r.length),a=0;a<i;a++){n[a]||(n[a]=`0`),r[a]||(r[a]=`0`);var o=parseInt(n[a])-parseInt(r[a]);if(o!==0)return o>0?1:-1}return 0}function Aa(e){var t=e.replace(`#`,``).match(/.{2}/g)||[];if(t.length!==4)return F.warn(`convertArgbToRgba: Received invalid ARGB color`),``;var n=function(e){var t=ja(e);return Math.round(t/255*100)/100}(t[0]);return`rgba(${ja(t[1])}, ${ja(t[2])}, ${ja(t[3])}, ${n})`}function ja(e){return parseInt(e,16)}function Ma(e){var t=e.replace(`#`,``).match(/.{2}/g)||[];return t.length===3?`${ja(t[0])}, ${ja(t[1])}, ${ja(t[2])}`:(F.warn(`convertArgbToRgba: Received invalid hex color`),``)}function Na(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}var Pa={get:function(e){var t=RegExp(`(?:(?:^|.*;\\s*)${e}\\s*\\=\\s*([^;]*).*\$)|^.*\$`);return document.cookie.replace(t,`$1`)},set:function(e,t,n){var r=e+`=`+t;if(n)for(var i in n){var a=n[i]?`=${n[i]}`:``;r+=`; ${i}${a}`}F.debug(`set cookie`,r),document.cookie=r},remove:function(e,t){var n=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT`;if(t)for(var r in t)n+=`; ${r}=${t[r]}`;document.cookie=n}},Fa=new Set([`400`,`401`,`403`,`404`,`429`,`500`]),Ia=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.code=t,i}return j(t,e),t}(Error);function z(e,t,n){return n!=null&&n.cause&&console.error(`This is the cause of LiffError described below.`,n.cause),new Ia(e,t||``,n||{})}function La(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function Ra(e){var t=``;return e.replace(/\r|\n/g,``).replace(/([\da-fA-F]{2}) ?/g,`0x$1 `).replace(/ +$/,``).split(` `).forEach((function(e){t+=String.fromCharCode(parseInt(e))})),window.btoa(t)}var za=function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(e){var t=this.map[e];return t===void 0?null:t},e.prototype.setItem=function(e,t){this.map[e]=t},e.prototype.removeItem=function(e){delete this.map[e]},e.prototype.key=function(e){var t=Object.keys(this.map)[e];return t===void 0?null:t},Object.defineProperty(e.prototype,`length`,{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),e}(),Ba,Va={parse:function(e){return e.replace(/^\?/,``).replace(/^#\/?/,``).split(/&+/).filter((function(e){return e.length>0})).reduce((function(e,t){var n=P(t.split(`=`).map(decodeURIComponent),2),r=n[0],i=n[1],a=e[r];return Array.isArray(a)?a.push(i):Object.prototype.hasOwnProperty.call(e,r)?e[r]=[a,i]:e[r]=i,e}),{})},stringify:function(e){return Object.keys(e).map((function(t){var n=e[t],r=function(e){return e===void 0?encodeURIComponent(t):`${encodeURIComponent(t)}=${encodeURIComponent(e)}`};return Array.isArray(n)?n.map((function(e){return r(e)})).join(`&`):r(n)})).join(`&`)}},Ha=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`;function Ua(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function Wa(e){for(var t=``,n=0;n<e;n++)t+=Ha[Math.floor(Ua()*Ha.length)];return t}function Ga(e){var t=new URL(e);return t.hash=t.hash.slice(1).split(`&`).filter((function(e){return!ba.some((function(t){return e.startsWith(`${t}=`)}))})).join(`&`),t.toString()}function Ka(e){var t=new URL(e);return t.toString().replace(new RegExp(String.raw(Ya||=Qi([`^`,``],[`^`,``]),t.origin)),``)}var qa=function(e){var t=Ga(e);if(t!==e){var n=Ka(t);window.history.replaceState(history.state,``,n)}};function Ja(e,t){if(!e)throw Error(`addParamsToUrl: invalid URL`);var n=new URL(e);return Object.entries(t).forEach((function(e){var t=P(e,2),r=t[0],i=t[1];n.searchParams.set(r,i)})),n.toString()}var Ya,Xa=((Ba={})[va]=function(){var e=Qa(va);return RegExp(`^${e}(\\d+-\\w+)`)},Ba[ya]=function(){var e=Qa(ya);return RegExp(`^${e}((\\d+-\\w+)|(\\w+\$))`)},Ba);function Za(e){for(var t in Xa){var n=e.match(Xa[t]());if(n)return n[1]}return null}function Qa(e){return e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}function $a(e){var t=e.match(/^(https?:\/\/.*?)\//);return t&&t[1]||``}function eo(e){return e.startsWith(`line:`)}function to(e){return e===void 0&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}function no(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(e)}function ro(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(e)}function io(e){return e===void 0&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e)}var ao=function(){return typeof window>`u`},oo=null;function so(){return oo===null&&(oo=ro()||no()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem(`LIFF_STORE:isInClient`)===`1`,sessionStorage.setItem(`LIFF_STORE:isInClient`,oo?`1`:`0`)),!!oo}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isInClient`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return so()}},t})(I);function co(){return window.__liffConfig??{}}function lo(e){window.__liffConfig=e}function uo(e,t){if(!t)throw z(fa,`liffId is necessary for liff.init()`);var n=(so()?sessionStorage:localStorage).getItem(`${_a}:${t}:${e}`);try{return n===null?null:JSON.parse(n)}catch{return null}}function fo(e){return uo(e,co().liffId)}function po(e,t){var n=co().liffId;if(!n)throw z(fa,`liffId is necessary for liff.init()`);(so()?sessionStorage:localStorage).setItem(`${_a}:${n}:${e}`,JSON.stringify(t))}function B(){return fo(R.CONTEXT)}function mo(e){po(R.CONTEXT,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getContext`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return B()}},t})(I);function ho(){return((B()||{}).d||{}).aId}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getAId`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ho()}},t})(I);function go(){return((B()||{}).d||{}).autoplay||!1}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getIsVideoAutoPlay`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return go()}},t})(I);function _o(){return(B()||{}).profilePlus}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getProfilePlus`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return _o()}},t})(I);function vo(){return!!fo(R.IS_SUBSEQUENT_LIFF_APP)}function yo(e){po(R.IS_SUBSEQUENT_LIFF_APP,e)}function bo(){return fo(R.APP_DATA)}function xo(e){po(R.APP_DATA,e)}function So(){return fo(R.MST_VERIFIER)}function Co(e){po(R.MST_VERIFIER,e)}function wo(){return fo(R.MSIT)}function To(e){po(R.MSIT,e)}function Eo(){return fo(R.MST)}function Do(e){po(R.MST,e)}function Oo(){return fo(R.MST_CHALLENGE)}function ko(e){po(R.MST_CHALLENGE,e)}function Ao(){return fo(R.CLIENT_ID)}function jo(e){po(R.CLIENT_ID,e)}function Mo(){return fo(R.RAW_CONTEXT)}function No(){return fo(R.FEATURE_TOKEN)}function Po(e){po(R.FEATURE_TOKEN,e)}function Fo(){return fo(R.ID_TOKEN)}function Io(e){po(R.ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getIDToken`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Fo()}},t})(I);function Lo(){return fo(R.ACCESS_TOKEN)}function Ro(e){po(R.ACCESS_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getAccessToken`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Lo()}},t})(I);function zo(e){var t=co().liffId;if(!t)throw z(fa,`liffId is necessary for liff.init()`);(so()?sessionStorage:localStorage).removeItem(`${_a}:${t}:${e}`)}function Bo(){return fo(R.LOGIN_TMP)}function Vo(e){po(R.LOGIN_TMP,e)}function Ho(){zo(R.LOGIN_TMP)}function Uo(e){var t=co();Pa.set(`${_a}:${R.EXPIRES}:${t.liffId}`,e.getTime(),{expires:e.toUTCString(),path:`/`,secure:null})}function Wo(){var e=co();return Pa.get(`${_a}:${R.EXPIRES}:${e.liffId}`)}function Go(){var e=co();Pa.remove(`${_a}:${R.EXPIRES}:${e.liffId}`,{path:`/`})}function Ko(){return fo(R.DECODED_ID_TOKEN)}function qo(e){po(R.DECODED_ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getDecodedIDToken`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Ko()}},t})(I);function Jo(){Object.keys(R).forEach((function(e){zo(R[e])})),Go()}function Yo(){return!!Lo()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isLoggedIn`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Yo()}},t})(I);function Xo(){return`2.27.3`}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getVersion`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return`2.27.3`}},t})(I);var Zo=function(){function e(){}return e.prototype.invoke=function(){return io()},e}(),Qo=function(){function e(e){this.storage=e}return Object.defineProperty(e,`IN_SUB_WINDOW_KEY`,{get:function(){return`inSubWindow`},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){return new URLSearchParams(window.location.search).has(`liff.subwindow`)&&this.setInSubWindow(!0),!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())},e.prototype.getInSubWindow=function(){var t=this.storage.getItem(`${_a}:${this.getLiffId()}:${e.IN_SUB_WINDOW_KEY}`);return t!==null&&JSON.parse(t)},e.prototype.getSubWindowIdentifier=function(){var e,t,n=`liff.subwindow.identifier`,r=new URLSearchParams(window.location.search);return r.get(n)||(e=n,(t=r.get(`liff.state`))?new URLSearchParams(t).get(e):null)||null},e.prototype.setInSubWindow=function(t){this.storage.setItem(`${_a}:${this.getLiffId()}:${e.IN_SUB_WINDOW_KEY}`,String(t))},e.prototype.getLiffId=function(){var e=co().liffId;if(!e)throw z(fa,`liffId is necessary for liff.init()`);return e},e}(),$o=new(function(e){function t(){var t=e.call(this)||this;return ao()?t.impl={invoke:function(){return!1}}:so()?t.impl=new Zo:t.impl=new Qo(window.sessionStorage),t}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isSubWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.impl.invoke.bind(this.impl)},t}(I)),es=$o.install();function ts(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getLineVersion`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ts()}},t})(I);var ns;function rs(){if(!ns){var e=window.navigator.userAgent.toLowerCase();ns=/iphone|ipad|ipod/.test(e)?`ios`:/android/.test(e)?`android`:`web`}return ns}(function(e){function t(){return e.call(this)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getOS`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return rs()}},t})(I);function is(e){return B()?.availability?.[e]}function as(e,t,n){var r=is(e),i=n||e;if(!r)return{available:!1,error:{code:da,message:`${i} is not allowed in this LIFF app`}};var a=r.minVer,o=r.unsupportedFromVer,s=!a||function(e,t){var n=ts();return!!n&&!(t&&ka(n,t)>0)&&ka(n,e)>=0}(a,o),c=so();return c&&!s?{available:!1,error:{code:da,message:`${i} is unavailable in this client version.`}}:r.permission?c&&s||t?{available:!0}:{available:!1,error:{code:da,message:`${i} is not allowed in external browser`}}:{available:!1,error:{code:da,message:`${i} is not allowed in this LIFF app`}}}var os=function(){return Yo()?!ro()&&no()?{available:!1,error:{code:da,message:`Subwindow is not supported in this browser`}}:es()?{available:!1,error:{code:da,message:`this api can be only called in parent window`}}:as(`subwindowOpen`,!0):{available:!1,error:{code:la,message:`Need access_token for api call, Please login first`}}},ss=[`subwindowOpen`,`shareTargetPicker`,`multipleLiffTransition`,`scanCode`,`scanCodeV2`,`getAdvertisingId`,`addToHomeScreen`,`bluetoothLeFunction`,`skipChannelVerificationScreen`,`createShortcutOnHomeScreen`,`internalCreateShortcutOnHomeScreen`,`iap`],cs={scanCode:function(){return as(`scanCode`)},getAdvertisingId:function(){return as(`getAdvertisingId`)},bluetoothLeFunction:function(){return as(`bluetoothLeFunction`)},shareTargetPicker:function(){return es()?{available:!1,error:{code:da,message:`this api can be only called in parent window`}}:Yo()?as(`shareTargetPicker`,!0):{available:!1,error:{code:la,message:`Need access_token for api call, Please login first`}}},multipleLiffTransition:function(){var e=is(`multipleLiffTransition`);return e&&e.permission?so()?{available:!0}:{available:!1,error:{code:da,message:`multipleLiffTransition is available only in the LINE App browser`}}:{available:!1,error:{code:da,message:`multipleLiffTransition is not allowed in this LIFF app`}}},subwindowOpen:os,scanCodeV2:function(){if(!Yo())return{available:!1,error:{code:la,message:`Need access_token for api call, Please login first`}};var e=os();return e.available?as(`scanCodeV2`,!0):e},addToHomeScreen:function(){return es()?{available:!1,error:{code:da,message:`this api can be only called in parent window`}}:as(`addToHomeScreen`)},skipChannelVerificationScreen:function(){var e=B();return e?e.type===`square_chat`?{available:!1,error:{code:da,message:`skipChannelVerificationScreen is not allowed in OpenChat`}}:as(`skipChannelVerificationScreen`):{available:!1,error:{code:da,message:`Context is not found`}}},createShortcutOnHomeScreen:function(){if(es())return{available:!1,error:{code:da,message:`this api can be only called in parent window`}};if(!Yo())return{available:!1,error:{code:la,message:`Need access_token for api call, Please login first`}};var e=rs();return e!==`android`&&e!==`ios`?{available:!1,error:{code:da,message:`this api can be only called in mobile device`}}:as(`addToHomeV2`,!0,`createShortcutOnHomeScreen`)},internalCreateShortcutOnHomeScreen:function(){if(es())return{available:!1,error:{code:da,message:`this api can be only called in parent window`}};if(!Yo())return{available:!1,error:{code:la,message:`Need access_token for api call, Please login first`}};var e=rs();if(e!==`android`&&e!==`ios`)return{available:!1,error:{code:da,message:`this api can be only called in mobile device`}};var t=as(`addToHomeV2`,!0,`internalCreateShortcutOnHomeScreen`);return t.available?as(`addToHomeLineScheme`,!0,`internalCreateShortcutOnHomeScreen`):t},iap:function(){return so()?Yo()?es()?{available:!1,error:{code:da,message:`this api can be only called in parent window`}}:as(`iap`,!1,`In-App Purchase`):{available:!1,error:{code:la,message:`Need access_token for api call, Please login first`}}:{available:!1,error:{code:da,message:`In-App Purchase is not allowed in external browser`}}}},ls=function(e){return function(){var t=e();if(!t.available)throw z(t.error.code,t.error.message)}},us={scanCode:ls(cs.scanCode),getAdvertisingId:ls(cs.getAdvertisingId),bluetoothLeFunction:ls(cs.bluetoothLeFunction),shareTargetPicker:ls(cs.shareTargetPicker),multipleLiffTransition:ls(cs.multipleLiffTransition),subwindowOpen:ls(cs.subwindowOpen),scanCodeV2:ls(cs.scanCodeV2),addToHomeScreen:ls(cs.addToHomeScreen),skipChannelVerificationScreen:ls(cs.skipChannelVerificationScreen),createShortcutOnHomeScreen:ls(cs.createShortcutOnHomeScreen),internalCreateShortcutOnHomeScreen:ls(cs.internalCreateShortcutOnHomeScreen),iap:ls(cs.iap)};function ds(e){if(!function(e){return ss.some((function(t){return t===e}))}(e))throw z(L,`Unexpected API name.`);var t=cs[e];return!t||t().available}(function(e){function t(){var t=e.apply(this,Zi([],P(arguments),!1))||this;return t.hooks={},t}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isApiAvailable`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return ds(e)}},t})(I);var fs=function(){function e(){}return e.prototype.invoke=function(e){var t=us[e];return!!t&&(t(),!0)},e}(),ps=function(){function e(e){this.liff=e}return e.prototype.invoke=function(e){return this.liff.checkFeature(e)},e}(),ms=function(){function e(t){ka(Xo(),e.SDK_VERSION_SUPPORTING_NEW)>=0?this.impl=new fs:this.impl=new ps(t)}return Object.defineProperty(e,`SDK_VERSION_SUPPORTING_NEW`,{get:function(){return`2.11.0`},enumerable:!1,configurable:!0}),e.prototype.invoke=function(e){return this.impl.invoke(e)},e}(),hs=function(e,t){return hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},hs(e,t)};function gs(e,t,n,r){return new(n||=Promise)((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function _s(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw TypeError(`Generator is already executing.`);for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(a[0]===6&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var vs=!1,ys=function(){return vs},bs=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return function(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);function n(){this.constructor=e}hs(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`_legacyExtensionsEnabled`},enumerable:!1,configurable:!0}),t.prototype.install=function(){vs=!0},t}(I);function xs(){var e;return rs()===`ios`?(e=ts())&&ka(e,`9.19.0`)<0?`https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js`:`https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js`:`https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js`}function Ss(){return ys()?function(){return gs(this,void 0,void 0,(function(){return _s(this,(function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise((function(e,t){var n=document.createElement(`script`),r=xs();n.onload=function(){var n=window.liffClientExtension;n?e(n):t(z(ua,`Unable to load client features. (Extension is empty)`))},n.onerror=function(e){t(z(ua,`Unable to load client features.`,{cause:e}))},n.src=r,n.type=`text/javascript`,document.body.appendChild(n)}))]}}))}))}():Promise.resolve(void 0)}function Cs(){Jo()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`logout`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Cs()}},t})(I);var ws=/([\x90\x9D\x81\x8D\x8F<"{|}>\\^`]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/,Ts=function(e){if(ws.test(e))throw z(L,`invalid URL.`);var t=new URL(e),n=t.username,r=t.password,i=t.hash,a=t.search;return{username:n,password:r,pathname:t.pathname,hash:i,origin:t.origin,search:a}},Es=function(e){return e.substring(1).split(`&`).filter((function(e){return!/^liff\./.test(e)&&!!e}))},Ds=function(e,t){var n=e.substring(t.length);return n===`/`?``:(n.length>0&&n[0]!==`/`&&(n=`/`+n),n)},Os=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return`%`+e.charCodeAt(0).toString(16).toUpperCase()}))},ks=function(e,t){var n=function(e,t){for(var n=Zi([],P(e),!1),r=0;r<t.length;r++){var i=t[r],a=n.indexOf(i);a>-1&&n.splice(a,1)}return n}(function(e){var t,n,r=e.replace(/\+/g,`%2B`),i=new URLSearchParams(r),a=[];try{for(var o=Xi(i.entries()),s=o.next();!s.done;s=o.next()){var c=P(s.value,2),l=c[0],u=c[1];a.push(`${Os(l)}=${Os(u)}`)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}if(a.length===0)return[``];var d=e.split(`&`);return a.map((function(e,t){return e.endsWith(`=`)&&!d[t].endsWith(`=`)?e.slice(0,-1):e}))}(Es(e).join(`&`)),Es(t)).join(`&`);return n===``?``:`?${n}`},As=function(e){var t=RegExp(`^${ba.join(`|`)}`),n=e.substring(1).split(`&`).filter((function(e){return!t.test(e)&&!!e})).join(`&`);return n?`#${n}`:``},js=function(e,t){return t.indexOf(e)===0&&(e.endsWith(`/`)&&(e=e.substring(0,e.length-1)),t[e.length]===void 0||t[e.length]===`/`)},Ms=function(e,t){var n=Ts(e),r=new URL(t);if(n.username!==r.username||n.password!==r.password||r.origin!==n.origin||!js(r.pathname,n.pathname))throw z(L,`invalid URL.`)},Ns=new(function(e){function t(){var t=e.apply(this,Zi([],P(arguments),!1))||this;return t.extraParams=``,t.getAndValidateContext=function(){var e=B();if(!e)throw z(ua,`Could not get Context from server.`);if(!e.endpointUrl)throw z(ua,`Could not get endpointUrl from server.`);if(!e.permanentLinkPattern)throw z(ua,`Could not get permanentLinkPattern from server.`);return e},t.createUrl=function(){var e=t.getAndValidateContext(),n=window.location,r=n.pathname,i=n.search,a=n.hash,o=n.origin,s=new URL(e.endpointUrl);if(s.origin!==o||!js(s.pathname,r))throw z(fa,`Current page is not under entrypoint.`);var c=r.substring(s.pathname.length);c.length>0&&c[0]!==`/`&&(c=`/`+c);var l=RegExp(`^${ba.join(`|`)}`),u=a.substring(1).split(`&`).filter((function(e){return!l.test(e)&&!!e})).join(`&`),d=u===s.hash.substring(1)?``:u,f=function(e){return e.substring(1).split(`&`).filter((function(e){return!/liff\.state/.test(e)&&!!e}))},p=f(i),m=f(s.search);t.extraParams&&p.push(t.extraParams);for(var h=0;h<m.length;h++){var g=m[h],_=p.indexOf(g);_>-1&&p.splice(_,1)}var v=p.join(`&`),y=`${c}${v===``?``:`?${v}`}${d?`#${d}`:``}`;return`${va}${co().liffId}${y}`},t.createUrlBy=function(e){return M(t,void 0,void 0,(function(){var t,n,r,i,a,o;return N(this,(function(s){if(!(t=co().liffId))throw z(ua,`Should run after liff init.`);return n=this.getAndValidateContext(),Ms(e,n.endpointUrl),r=Ts(e),i=new URL(n.endpointUrl),a=n.miniDomainAllowed?ya:va,o=n.miniDomainAllowed&&n.miniAppId?n.miniAppId:t,[2,a.concat(o,Ds(r.pathname,i.pathname),ks(r.search,i.search),As(r.hash))]}))}))},t.setExtraQueryParam=function(e){t.extraParams=e},t.install=function(){return{createUrl:t.createUrl,createUrlBy:t.createUrlBy,setExtraQueryParam:t.setExtraQueryParam}},t}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`permanentLink`},enumerable:!1,configurable:!0}),t}(I));function Ps(e){return M(this,void 0,void 0,(function(){var t,n,r;return N(this,(function(i){switch(i.label){case 0:if(!e.ok)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,i.sent()];case 3:return i.sent(),[2,e];case 4:return t=String(e.status),n=Fa.has(t)?t:ca,[4,e.json().catch((function(){throw z(n,e.statusText)}))];case 5:throw r=i.sent(),z(r.error||r.errorCode||n,r.error_description||r.message)}}))}))}function Fs(e){var t=function(e){if(e)return e;var t=Lo();if(!t)throw z(la,`Need access_token for api call, Please login first`);return{"Content-Type":`application/json`,Accept:`application/json`,Authorization:`Bearer ${t}`}}(e&&e.headers);return Yi(Yi({},e),{headers:t})}function Is(e,t){var n;try{n=Fs(t)}catch(e){return Promise.reject(e)}return fetch(e,n).then(Ps)}function Ls(e,t){var n;try{n=Fs(t)}catch(e){return Promise.reject(e)}return fetch(e,n)}function Rs(e){var t=e.subdomain;return`https://${t===void 0?`api`:t}.line.me/${e.pathname}`}var zs={token:Rs({pathname:`oauth2/v2.1/token`}),certs:Rs({pathname:`oauth2/v2.1/certs`}),"openid-configuration":Rs({subdomain:`access`,pathname:`.well-known/openid-configuration`}),authorize:Rs({subdomain:`access`,pathname:`liff/v1/authorize`}),profile:Rs({pathname:`v2/profile`}),message:Rs({pathname:`message/v3/share`}),friendship:Rs({pathname:`friendship/v1/status`}),shareTargetPicker:Rs({subdomain:`access`,pathname:`oauth2/v2.1/liff/shareTargetPicker`}),shareTargetPickerOtt:Rs({pathname:`liff/v2/apps`}),shareTargetPickerResult:Rs({subdomain:`access`,pathname:`oauth2/v2.1/liff/shareTargetPicker/result`}),apps:Rs({pathname:`liff/v2/apps`}),subWindowGetMSIT:Rs({pathname:`liff/v2/sub/msit`}),subWindowGetMSTByMSIT:Rs({pathname:`liff/v2/sub/mst`}),subWindowSubscribe:Rs({subdomain:`liff`,pathname:`liff/v2/sub/waitResult`}),subWindowPost:Rs({pathname:`liff/v2/sub/result`}),subWindowGetAppData:Rs({pathname:`liff/v2/sub/appData`}),subWindowGetOrigin:function(e){return Rs({pathname:`liff/v2/sub/${e}/origin`})},accessTokenVerify:Rs({pathname:`oauth2/v2.1/verify`}),unauthorizedPermissions:Rs({subdomain:`liff`,pathname:`liff/v2/incrementalAgreement/unauthorizedPermissions`}),permanentLink:Rs({subdomain:`liff`,pathname:`liff/v2/permanentLink`}),createShortcutOnHomeScreen:Rs({subdomain:`liff-shortcut`,pathname:`api/shortcut`}),iapVirtualConfirm:Rs({pathname:`iap/v1/product/virtualConfirm`})};function Bs(e){return zs[e]}function Vs(e){return Is(`${Bs(`accessTokenVerify`)}?access_token=${encodeURIComponent(e)}`,{headers:{"Content-Type":`application/json`,Accept:`application/json`}})}var Hs=`liff.subwindow.identifier`,Us=`liff.subwindow.cryptokey`,Ws=Yi(Yi({},Ca),{GET_DATA:`getData`,SET_DATA:`setData`,NOT_FOUND:`notFound`,TEARDOWN:`teardown`}),Gs={BROADCAST:`broadcast`,COMMAND:`command`},Ks={MAIN:`main`,SUB:`sub`},qs=function(e){return M(void 0,void 0,void 0,(function(){var t;return N(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey(`jwk`,{kty:`oct`,k:e,alg:`A128GCM`,ext:!0},{name:`AES-GCM`},!1,[`encrypt`,`decrypt`])];case 1:return[2,n.sent()];case 2:throw t=n.sent(),z(ca,t);case 3:return[2]}}))}))},Js=function(e,t,n){return M(void 0,void 0,void 0,(function(){var r,i,a,o;return N(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,qs(t)];case 1:return i=s.sent(),[4,window.crypto.subtle.encrypt({name:`AES-GCM`,iv:r},i,new TextEncoder().encode(n))];case 2:return a=s.sent(),[2,btoa(new Uint8Array(a).reduce((function(e,t){return e+String.fromCharCode(t)}),``))];case 3:throw o=s.sent(),z(ca,o);case 4:return[2]}}))}))},Ys=function(e,t,n){return M(void 0,void 0,void 0,(function(){var r,i,a,o,s,c,l;return N(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,qs(t)];case 1:for(i=u.sent(),a=atob(n),o=new Uint8Array(a.length),s=0;s<a.length;s++)o[s]=a.charCodeAt(s);return[4,window.crypto.subtle.decrypt({name:`AES-GCM`,iv:r},i,o.buffer)];case 2:return c=u.sent(),[2,new TextDecoder().decode(new Uint8Array(c))];case 3:throw l=u.sent(),z(ca,l);case 4:return[2]}}))}))},Xs=function(e,t){return Zs(e)===Zs(t)},Zs=function(e){return`${e.identifier}-${e.action}-${e.timestamp}`},Qs=function(e){return Object.keys(Ca).map((function(e){return Ca[e]})).includes(e)?Gs.BROADCAST:Gs.COMMAND};function $s(){var e=document.createElement(`form`);e.method=`POST`,e.action=`$MESSAGE_HANDLER_URL`;var t=document.createElement(`input`);t.type=`hidden`,t.name=`identifier`,t.value=`$IDENTIFIER`,e.appendChild(t),document.body.appendChild(e),e.submit()}var ec=function(e){e===void 0&&(e=Ks.MAIN);var t=this;this.identification={identifier:``,cryptoKey:``},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return M(t,void 0,void 0,(function(){var e,t,n,r,i;return N(this,(function(a){switch(a.label){case 0:return e=new URLSearchParams(window.location.search),t=function(t){var n=e.get(`liff.state`);return n?new URLSearchParams(n).get(t):null},n=this,i={identifier:this.windowType===Ks.MAIN?Wa(12):e.get(`liff.subwindow.identifier`)||t(`liff.subwindow.identifier`)||``},this.windowType===Ks.MAIN?[4,M(void 0,void 0,void 0,(function(){var e,t,n;return N(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:`AES-GCM`,length:128},!0,[`encrypt`,`decrypt`])];case 1:return e=r.sent(),[4,window.crypto.subtle.exportKey(`jwk`,e)];case 2:if(!(t=r.sent())||!t.k)throw z(ca,`failed to generate key`);return[2,t.k];case 3:throw n=r.sent(),z(ca,n);case 4:return[2]}}))}))]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=e.get(`liff.subwindow.cryptokey`)||t(`liff.subwindow.cryptokey`)||``,a.label=3;case 3:return n.identification=(i.cryptoKey=r,i),[2]}}))}))},this.hasIdentification=function(){var e=t.identification,n=e.identifier,r=e.cryptoKey;return typeof n==`string`&&typeof r==`string`&&n.length>0&&r.length>0},this.isReady=function(){return t.hasIdentification()&&!!t.messageHandlerInstance},this.setup=function(){return M(t,void 0,void 0,(function(){var e,t,n,r,i,a=this;return N(this,(function(o){switch(o.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(o.sent(),!(e=this.identification.identifier))return[2];if(t=/^[a-zA-Z0-9]+$/gm,!e.match(t))throw z(ca,`Invalid identifier`);return(n=document.createElement(`iframe`)).style.display=`none`,n.src=`about:blank`,document.body.appendChild(n),(i=n?.contentWindow)==null||i.window.eval(`(${$s.toString().replace(`$MESSAGE_HANDLER_URL`,`https://liff-subwindow.line.me/liff/v2/sub/messageHandler`).replace(`$IDENTIFIER`,e.split(`'`)[0])})()`),r=`iframe-${e}-ready`,[4,new Promise((function(e){var t=function(i){i.data[r]&&(a.messageHandlerInstance=n,window.addEventListener(`message`,a.proxyToListeners),e(),document.removeEventListener(`message`,t))};window.addEventListener(`message`,t)}))];case 2:return[2,o.sent()]}}))}))},this.teardown=function(){return M(t,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return this.isReady()?[4,this.send({eventName:Ws.TEARDOWN})]:[3,2];case 1:t.sent(),window.removeEventListener(`message`,this.proxyToListeners),this.listeners.clear(),(e=this.messageHandlerInstance?.parentNode)==null||e.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,t.label=2;case 2:return[2]}}))}))},this.listen=function(e){t.listeners.set(e,e)},this.listenRepliedEvent=function(e,n){var r=function(i){i.replyTarget&&Xs(i.replyTarget,e)&&(n(i),t.listeners.delete(r))};t.listeners.set(r,r)},this.send=function(e){return M(t,void 0,void 0,(function(){var t,n,r,i=this;return N(this,(function(a){switch(a.label){case 0:if(!this.isReady())throw z(`message bus is not ready to send message`);return n={action:Qs(e.eventName),identifier:this.identification.identifier||``,timestamp:new Date().getTime()},[4,this.getEncryptedContext(e)];case 1:return n.context=a.sent(),t=n,(r=this.messageHandlerInstance?.contentWindow)==null||r.postMessage({messageBusEvent:t},`*`),this.sentMessages.push(Zs(t)),[4,new Promise((function(e){i.listenRepliedEvent(t,(function(t){e(t.context)}))}))];case 2:return[2,a.sent()]}}))}))},this.reply=function(e,n){return M(t,void 0,void 0,(function(){var t,r,i;return N(this,(function(a){switch(a.label){case 0:if(!this.isReady())throw z(`message bus is not ready to send message`);if(!e.identifier||!e.timestamp)throw z(ca,`target message is not valid`);return r={action:Gs.BROADCAST},[4,this.getEncryptedContext(n)];case 1:return r.context=a.sent(),r.identifier=this.identification.identifier||``,r.timestamp=new Date().getTime(),r.replyTarget={action:e.action,identifier:e.identifier,timestamp:e.timestamp},t=r,(i=this.messageHandlerInstance?.contentWindow)==null||i.postMessage({messageBusEvent:t},`*`),this.sentMessages.push(Zs(t)),[2]}}))}))},this.setData=function(e,n){e===void 0&&(e=`appData`),t.send({eventName:Ws.SET_DATA,key:e,data:n})},this.getData=function(){return M(t,Zi([],P([...arguments]),!1),void 0,(function(e){return e===void 0&&(e=`appData`),N(this,(function(t){switch(t.label){case 0:return[4,this.send({eventName:Ws.GET_DATA,key:e})];case 1:return[2,t.sent()]}}))}))},this.proxyToListeners=function(e){return M(t,void 0,void 0,(function(){var t,n=this;return N(this,(function(r){return t=e.data.messageBusEvent,e.origin===`https://liff-subwindow.line.me`&&t&&(this.sentMessages.includes(Zs(t))||t.identifier!==this.identification.identifier||t.action!==Gs.BROADCAST&&!t.replyTarget||this.listeners.forEach((function(e){return M(n,void 0,void 0,(function(){var n,r,i;return N(this,(function(a){switch(a.label){case 0:return n=e,r=[Yi({},t)],i={},[4,this.getDecryptedContext(t.context)];case 1:return n.apply(void 0,[Yi.apply(void 0,r.concat([(i.context=a.sent(),i)]))]),[2]}}))}))}))),[2]}))}))},this.getEncryptedContext=function(e){return M(t,void 0,void 0,(function(){var t,n,r,i,a,o,s;return N(this,(function(c){switch(c.label){case 0:return t=this.identification,n=t.identifier,r=t.cryptoKey,a=(i=JSON).stringify,s={eventName:e.eventName,key:e.key?e.key:void 0},e.data?[4,Js(n,r,JSON.stringify(e.data))]:[3,2];case 1:return o=c.sent(),[3,3];case 2:o=void 0,c.label=3;case 3:return[2,a.apply(i,[(s.data=o,s)])]}}))}))},this.getDecryptedContext=function(e){return M(t,void 0,void 0,(function(){var t,n,r,i,a,o,s,c;return N(this,(function(l){switch(l.label){case 0:return t=this.identification,n=t.identifier,r=t.cryptoKey,(i=JSON.parse(e)).data&&typeof i.data==`string`?(c=(s=JSON).parse,[4,Ys(n,r,i.data)]):[3,2];case 1:return o=c.apply(s,[l.sent()]),[3,3];case 2:o=void 0,l.label=3;case 3:return a=o,[2,Yi(Yi({},i),{data:a})]}}))}))},this.windowType=e};function tc(e){return new CustomEvent(ga,{detail:e})}(function(){if(typeof window<`u`&&typeof window.CustomEvent!=`function`){function e(e,t){var n=t||{},r=n.bubbles,i=r!==void 0&&r,a=n.cancelable,o=a!==void 0&&a,s=n.detail,c=s===void 0?void 0:s,l=document.createEvent(`CustomEvent`);return l.initCustomEvent(e,i,o,c),l}e.prototype=Event.prototype,window.CustomEvent=e}})();var nc={},rc=!1;function ic(e,t){rc||(rc=!0,window.addEventListener(`liffEvent`,(function(e){e&&e.detail&&e.detail.type&&nc[e.detail.type]&&nc[e.detail.type].forEach((function(t){return t(e)}))}))),nc[e]?nc[e].push(t):nc[e]=[t]}function ac(e,t){var n=nc[e];if(n&&Array.isArray(n)){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function oc(e){var t={};try{t=JSON.parse(e)}catch(e){throw z(L,e.message)}var n=tc(t);F.debug(`[client dispatchEvent to js]`,{type:n.type,detail:n.detail}),window.dispatchEvent(n)}function sc(e,t,n){t===void 0&&(t={}),n===void 0&&(n=``);var r=No();if(!r)throw z(da,`Invalid featureToken for client features`);if(!window._liff||!window._liff.postMessage)throw z(L,`postMessage is not available from client`);F.debug(`[js postMessage to client]`,e,n,t),window._liff.postMessage(e,r,n,JSON.stringify(t))}function cc(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={once:!0}),No()?(n=Yi({callbackId:Wa(12),once:!0},n),new Promise((function(r,i){var a=function(t){if(t&&t.detail){var o=t.detail.callbackId===n.callbackId,s=typeof t.detail.callbackId!=`string`;(o||s)&&(n.once&&ac(e,a),F.debug(`[callback detail]`,t.detail),t.detail.error?i(t.detail.error):t.detail.data?r(t.detail.data):i(t.detail))}i()};ic(e,a),sc(e,t,n.callbackId)}))):Promise.reject(z(da,`Invalid featureToken for client features`))}function lc(){var e=ts();e!==null&&(rs()===`ios`&&ka(e,`9.19`)>=0||rs()===`android`&&ka(e,`11.6.0`)>=0)?location.href=`liff://close`:window._liff&&window._liff.postMessage?e!==null&&ka(e,`10.15.0`)>=0?rs()===`ios`?window._liff.postMessage(`closeWindow`,``):window._liff.postMessage(`closeWindow`,``,``,``):cc(`closeWindow`):window.close()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`closeWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return lc()}},t})(I);function uc(e){return Is(Bs(`subWindowGetOrigin`)(e))}var dc={};function fc(e,t){e&&dc[e]&&dc[e].forEach((function(e){e(t)}))}function pc(e,t){dc[e]||(dc[e]=[]),dc[e].push(t)}function mc(e,t){if(dc[e]){var n=dc[e].indexOf(t);n>=0&&dc[e].splice(n,1)}}var hc,gc,_c,vc,yc,bc=function(){function e(e){this.storage=e}return e.prototype.getItem=function(e){return this.storage.getItem(`${this.getKeyPrefix()}:${e}`)},e.prototype.setItem=function(e,t){this.storage.setItem(`${this.getKeyPrefix()}:${e}`,t)},e.prototype.removeItem=function(e){this.storage.removeItem(`${this.getKeyPrefix()}:${e}`)},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return`${_a}:${this.getLiffId()}`},e.prototype.getLiffId=function(){var e=co().liffId;if(!e)throw z(fa,`liffId is necessary for liff.init()`);return e},e}(),xc=new bc(new za);function Sc(){var e=xc.getItem(`subWindowStatusUpdated`);return e!==null&&JSON.parse(e)}function Cc(e){xc.setItem(`subWindowStatusUpdated`,String(e))}function wc(e){hc=e}function Tc(){return hc}function Ec(){return _c}function Dc(){return vc}function Oc(){return M(this,arguments,void 0,(function(e){return e===void 0&&(e=Ks.MAIN),N(this,(function(t){switch(t.label){case 0:return[4,(yc=new ec(e)).setup()];case 1:return t.sent(),[2,yc]}}))}))}function kc(){return yc}var Ac=new za,jc=new bc(ao()?Ac:window.sessionStorage);function Mc(e){jc.setItem(`mainWindowOrigin`,e)}function Nc(){return jc.getItem(`mainWindowOrigin`)}function Pc(e){return M(this,arguments,void 0,(function(e,t){var n,r,i,a,o,s,c,l;return t===void 0&&(t={}),N(this,(function(u){switch(u.label){case 0:if((n=kc())?.isReady())return[3,5];if(r=JSON.stringify(t),i=co().liffId,a=Nc(),!window.opener||!a||!i)throw z(ha);o=!1,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,uc(i)];case 2:return s=u.sent(),o=s.subwindowCommonModule,[3,4];case 3:throw c=u.sent(),F.debug(c),z(ha);case 4:return l=o?a:location.origin,[2,new Promise((function(t){window.addEventListener(`message`,(function n(i){Fc(i)&&(window.removeEventListener(`message`,n),t({status:e,result:r}))})),window.opener.postMessage({status:e,result:r},l)}))];case 5:return n.send({eventName:e,data:t}),[4,new Promise((function(e){setTimeout(e,500)}))];case 6:return u.sent(),[2,{status:e,result:JSON.stringify(t)}]}}))}))}function Fc(e){return!(!e.data||typeof e.data.type!=`string`||![Ca.SUBMIT,Ca.CANCEL].includes(e.data.type))}function Ic(e){var t,n=Dc();if(e.origin===n){var r=e.data;if(r){var i,a=r.status,o=r.result;try{i=JSON.parse(o||`{}`)}catch{i={}}switch(a){case Ta:window.clearInterval(Ec()),Bc();break;case Ca.CANCEL:case Ca.SUBMIT:Cc(!0),window.clearInterval(Ec()),window.removeEventListener(`message`,Ic),fc(a,i),(t=Tc())==null||t.postMessage({type:a},Dc());break;default:F.debug(`unexpected message`)}}}}var Lc=function(e){return M(void 0,void 0,void 0,(function(){var t,n,r,i;return N(this,(function(a){if(Sc())return[2];switch(t=e.context,n=t.eventName,r=t.data,i=kc(),n){case Ca.INIT:zc(!r.hasOpener);break;case Ca.CANCEL:case Ca.SUBMIT:Cc(!0),fc(n,r),i?.reply(e,{eventName:n});break;case Ca.CLOSE:!1===Sc()&&(Cc(!0),fc(Ca.CLOSE,{})),Bc()}return[2]}))}))};function Rc(){window.clearInterval(gc),window.clearInterval(Ec()),window.removeEventListener(`message`,Ic)}function zc(e){if(e===void 0&&(e=!1),Rc(),Cc(!1),e){var t=Tc();t&&(t.close(),wc(null))}}function Bc(){return M(this,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return(e=kc())?[4,e.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}function Vc(e){return M(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,c,l,u,d;return N(this,(function(f){switch(f.label){case 0:return(t=Za(e.url))?(zc(!0),[4,Bc()]):[2,Promise.reject(z(L,`params.url must be liff url or mini url`))];case 1:return f.sent(),wc(rs()!==`ios`||to()?window.open(``,`liffsubwindow`,`width=480, height=640, menubar=no, toolbar=no, scrollbars=yes`):window.open()),n=e.url,r=e.appData,(i=new URL(n)).searchParams.append(wa,`true`),[4,Oc()];case 2:return a=f.sent(),i.searchParams.append(Hs,a.identification.identifier),i.searchParams.append(Us,a.identification.cryptoKey),i.hostname=function(e){var t=P(e.split(`.`)),n=t[0],r=t.slice(1);return Zi([`${n}-ext`],P(r),!1).join(`.`)}(i.hostname),o=i.toString(),[4,uc(t)];case 3:if(s=f.sent(),c=s.origin,l=s.subwindowCommonModule,!(u=Tc()))throw z(ma);if(!l)return u.close(),[2];(function(e){vc=e})(c),a.listen(Lc),a.setData(`appData`,r),window.addEventListener(`message`,Ic),f.label=4;case 4:return f.trys.push([4,6,,7]),[4,e.onBeforeTransition?.call(e)];case 5:return f.sent(),[3,7];case 6:throw d=f.sent(),u.close(),d;case 7:return u.location.href=o,p=function(e,t){var n=Tc(),r={type:Ta};return t&&(r.message=JSON.stringify(t)),window.setInterval((function(){n?.postMessage(r,e)}),100)}(c,r),_c=p,function(e){gc=e}(window.setInterval((function(){var e=Tc();e&&e.closed&&(Rc(),wc(null),!1===Sc()&&(Cc(!0),fc(Ca.CLOSE,{})))}),100)),[2]}var p}))}))}var Hc=null;function Uc(e){return M(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,c,l,u,d,f,p,m,h=this;return N(this,(function(g){switch(g.label){case 0:if(t=e.msit,n=e.mstChallenge,r=e.reconnectCount,i=r===void 0?0:r,a=function(){return M(h,void 0,void 0,(function(){return N(this,(function(r){switch(r.label){case 0:return[4,(a=1e3,new Promise((function(e){return setTimeout(e,a)})))];case 1:return r.sent(),[4,Uc({msit:t,mstChallenge:n,onSuccess:e.onSuccess,onError:e.onError,reconnectCount:i+1})];case 2:return r.sent(),[2]}var a}))}))},o=function(){var t=[...arguments];Hc=null,e.onSuccess.apply(e,Zi([],P(t),!1))},s=function(){var t=[...arguments];Hc=null,e.onError.apply(e,Zi([],P(t),!1))},c=Date.now(),Hc===null&&(Hc=c),l=c-Hc,i>=10||l>6e5)return s(z(ca,`Failed to connect`)),[2];g.label=1;case 1:return g.trys.push([1,3,,5]),[4,Ls(Bs(`subWindowSubscribe`),{method:`POST`,body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return u=g.sent(),[3,5];case 3:return g.sent(),[4,a()];case 4:return g.sent(),[2];case 5:return u.status>=500?[4,a()]:[3,7];case 6:return g.sent(),[3,17];case 7:return u.status>=400&&500>u.status?[4,Wc(u)]:[3,9];case 8:return f=g.sent(),d=f?z(L,f.errorDetail):z(ca,`Some error happened in the server`),s(d),[3,17];case 9:return u.status===200?[4,Wc(u)]:[3,16];case 10:if(!(f=g.sent()))return s(z(ca,`Some error happened in the server`)),[2];switch(p=f.status,m=f.result,p){case Ca.ERROR:return[3,11];case Ca.CLOSE:case Ca.CANCEL:case Ca.SUBMIT:return[3,13]}return[3,14];case 11:return[4,a()];case 12:return g.sent(),[3,15];case 13:return o(p,m),[3,15];case 14:s(z(ca,`Some error happened in the server`)),g.label=15;case 15:return[3,17];case 16:s(z(ca,`Some error happened in the server`)),g.label=17;case 17:return[2]}}))}))}function Wc(e){return M(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function Gc(e){var t={};return Object.keys(e).forEach((function(n){n===`closeButtonColor`?e[n]===`white`?t[n]=`#ffffff`:t[n]=`#000000`:t[n]=e[n]})),t}var Kc={height:`full`,closeButtonPosition:`right`,closeButtonColor:`black`,closeButtonLabel:``};function qc(e){var t=e.appData,n=e.native,r=co().liffId,i=Oo(),a=Za(e.url);return r?i?a?function(e){var t=e.mainLiffId,n=e.subLiffId,r=e.mstChallenge,i=e.appData,a=e.view;return t&&r?Is(Bs(`subWindowGetMSIT`),{method:`POST`,body:JSON.stringify({mainLiffId:t,subLiffId:n,mstChallenge:r,appData:i,view:a})}):Promise.reject(z(L,`no proper argument`))}({mainLiffId:r,subLiffId:a,mstChallenge:i,appData:t,view:Gc(Object.assign({},Kc,n))}).then((function(e){var t=e.msit;return Uc({msit:t,mstChallenge:i,onSuccess:function(e,t){fc(e,t)},onError:function(e){fc(Ca.ERROR,e)}}),t})).then((function(t){return function(e,t){return M(this,void 0,void 0,(function(){var n,r;return N(this,(function(i){switch(i.label){case 0:return n=e.url,(r=new URLSearchParams).set(`msit`,t),[4,e.onBeforeTransition?.call(e)];case 1:return i.sent(),location.href=`${Sa}?url=${encodeURIComponent(n)}&${r.toString()}`,[2]}}))}))}(e,t)})):Promise.reject(z(L,`params.url must be liff url or mini url`)):Promise.reject(z(la,`mst_challenge is invalid`)):Promise.reject(z(la,`liffId is invalid`))}function Jc(e){return us.subwindowOpen(),so()?qc(e):Vc(e)}function Yc(e){if(!e.mst||!e.status)return Promise.reject(z(L,`no proper argument`));var t=JSON.stringify(e);return Is(Bs(`subWindowPost`),{method:`POST`,body:t})}function Xc(){if(!es())throw z(la,`this api can be only called in child window`)}function Zc(e){return e===void 0&&(e={}),Xc(),so()?function(){return M(this,arguments,void 0,(function(e){var t,n;return e===void 0&&(e={}),N(this,(function(r){switch(r.label){case 0:return(t=Eo())?[4,Yc({mst:t,status:Ca.CANCEL,result:e})]:[2,Promise.reject(z(la,`mst is invalid`))];case 1:return n=r.sent(),Cc(!0),[2,n]}}))}))}(e):function(e){return e===void 0&&(e={}),Pc(Ca.CANCEL,e)}(e)}function Qc(e){return e===void 0&&(e={}),Xc(),so()?function(){return M(this,arguments,void 0,(function(e){var t,n;return e===void 0&&(e={}),N(this,(function(r){switch(r.label){case 0:return(t=Eo())?[4,Yc({mst:t,status:Ca.SUBMIT,result:e})]:[2,Promise.reject(z(la,`mst is invalid`))];case 1:return n=r.sent(),Cc(!0),[2,n]}}))}))}(e):function(e){return e===void 0&&(e={}),Pc(Ca.SUBMIT,e)}(e)}function $c(){return Xc(),so()?function(){return M(this,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return!1===Sc()?(e=Eo())?[4,Yc({mst:e,status:Ca.CLOSE,result:{}})]:[2,Promise.reject(z(la,`mst is invalid`))]:[3,2];case 1:t.sent(),t.label=2;case 2:return lc(),[2]}}))}))}():function(){return M(this,void 0,void 0,(function(){var e;return N(this,(function(t){return(e=kc())?.isReady()?(e.send({eventName:Ca.CLOSE}),[2,new Promise((function(e){setTimeout((function(){lc(),e()}),100)}))]):(lc(),[2,Promise.resolve()])}))}))}()}function el(){return Xc(),function(){var e,t=bo();try{e=t?JSON.parse(t):{}}catch{e={}}return Promise.resolve(e)}()}function tl(e){var t=e.msit,n=e.mstVerifier;return t&&n?Is(Bs(`subWindowGetMSTByMSIT`),{method:`POST`,body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject(z(L,`no proper argument`))}function nl(e){var t=e.mst;return t?Is(Bs(`subWindowGetAppData`),{method:`POST`,body:JSON.stringify({mst:t})}):Promise.reject(z(L,`no proper argument`))}var rl={on:pc,off:mc,open:Jc,cancel:Zc,submit:Qc,close:$c,getAppData:el};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`subWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){var e=this;return{on:pc.bind(this),off:mc.bind(this),open:function(t){return Jc.call(e,Yi(Yi({},t),{onBeforeTransition:void 0}))},cancel:Zc.bind(this),submit:Qc.bind(this),close:$c.bind(this),getAppData:el.bind(this)}},t})(I);var il=c(o(((e,t)=>{(function(e,n){typeof define==`function`&&define.amd?define([],n):t!==void 0&&t.exports?t.exports=n():e.sha256=n()})(e,function(){var e=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r=Math.pow,i=r(2,32),a=`length`,o,s,c=``,l=[],u=t[a]*8,d=e.h=e.h||[],f=e.k=e.k||[],p=f[a],m={},h=2;p<64;h++)if(!m[h]){for(o=0;o<313;o+=h)m[o]=h;d[p]=r(h,.5)*i|0,f[p++]=r(h,1/3)*i|0}for(t+=``;t[a]%64-56;)t+=`\0`;for(o=0;o<t[a];o++){if(s=t.charCodeAt(o),s>>8)return;l[o>>2]|=s<<(3-o)%4*8}for(l[l[a]]=u/i|0,l[l[a]]=u,s=0;s<l[a];){var g=l.slice(s,s+=16),_=d;for(d=d.slice(0,8),o=0;o<64;o++){o+s;var v=g[o-15],y=g[o-2],b=d[0],x=d[4],ee=d[7]+(n(x,6)^n(x,11)^n(x,25))+(x&d[5]^~x&d[6])+f[o]+(g[o]=o<16?g[o]:g[o-16]+(n(v,7)^n(v,18)^v>>>3)+g[o-7]+(n(y,17)^n(y,19)^y>>>10)|0);d=[ee+((n(b,2)^n(b,13)^n(b,22))+(b&d[1]^b&d[2]^d[1]&d[2]))|0].concat(d),d[4]=d[4]+ee|0}for(o=0;o<8;o++)d[o]=d[o]+_[o]|0}for(o=0;o<8;o++)for(s=3;s+1;s--){var te=d[o]>>s*8&255;c+=(te<16?0:``)+te.toString(16)}return c};return e.code=`var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};`,e})}))()),al=function(){var e=this;this.type=`sync`,this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var a=Xi(e.fns),o=a.next();!o.done;o=a.next())o.value.apply(void 0,Zi([],P(r),!1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},ol=function(){var e=this;this.type=`async`,this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){var t=[...arguments];return M(e,void 0,void 0,(function(){var e,n,r,i,a,o;return N(this,(function(s){switch(s.label){case 0:e=[];try{for(n=Xi(this.fns),r=n.next();!r.done;r=n.next())i=r.value,e.push(i.apply(void 0,Zi([],P(t),!1)))}catch(e){a={error:e}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(a)throw a.error}}return[4,Promise.all(e)];case 1:return s.sent(),[2]}}))}))}},sl=function(e){var t=Wa(43),n=Ra((0,il.default)(t)).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=/g,``),r=co();if(!r||!r.liffId)throw z(fa,"You need to define `liffId` for liff.login()");var i={app_id:r.liffId,state:Wa(12),response_type:`code`,code_challenge_method:`S256`,code_challenge:n,liff_sdk_version:Xo()};e&&e.redirectUri&&(i.redirect_uri=e.redirectUri),es()&&!so()&&(kc()?.isReady()?i.redirect_uri=window.location.href:i.disable_auto_login=`true`),Vo({codeVerifier:t});var a=Bs(`authorize`)+`?`+Va.stringify(i);F.debug(`[Redirect] ${a}`),window.location.href=a},cl=function(e){function t(){var t=e.apply(this,Zi([],P(arguments),!1))||this;return t.hooks={before:new al},t}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`login`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this._login.bind(this)},t.prototype._login=function(e){this.hooks.before.call(e),sl(e)},t}(I),ll=typeof navigator>`u`?`en`:navigator.language??`en`,ul=null;function dl(e){return M(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return ll=e,[4,fl()];case 1:return t.sent(),[2]}}))}))}function fl(){return M(this,void 0,void 0,(function(){var e,t;return N(this,(function(n){switch(n.label){case 0:return[4,Is(`https://liffsdk.line-scdn.net/xlt/manifest.json`,{method:`GET`,headers:{Accept:`application/json`}})];case 1:return e=n.sent(),t=`${ll}`,!e.languages[t]&&ll.includes(`-`)&&(t=ll.split(`-`)[0]),e.languages[t]||(t=`en`),[4,Is(`https://liffsdk.line-scdn.net/xlt/${e.languages[t]}`,{method:`GET`,headers:{Accept:`application/json`}})];case 2:return ul=n.sent(),[2]}}))}))}function pl(e){if(ul===null)throw z(ua,`please call xlt after liff.init`);return ul[e]}var ml=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`i18n`},enumerable:!1,configurable:!0}),t.prototype.install=function(e){return e.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)),{setLang:dl}},t.prototype.beforeInitFinished=function(){return M(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,fl()];case 1:return e.sent(),[2]}}))}))},t}(I)),hl={iconColor:`#111111`,statusBarColor:`BLACK`,titleTextColor:`#111111`,titleSubtextColor:`#B7B7B7`,titleButtonColor:`#111111`,titleBackgroundColor:`#FFFFFF`,progressBarColor:`#06C755`,progressBackgroundColor:`#FFFFFF`,titleButtonAreaBackgroundColor:`#1FFFFFFF`,titleButtonAreaBorderColor:`#26000000`,baseBackgroundColor:`#FFFFFF`,baseTextColor:`#000000`,lightButtonBorderColor:`rgba(0, 0, 0, 0.15)`},gl={iconColor:`#FFFFFF`,statusBarColor:`WHITE`,titleTextColor:`#FFFFFF`,titleSubtextColor:`#949494`,titleButtonColor:`#FFFFFF`,titleBackgroundColor:`#111111`,progressBarColor:`#06C755`,progressBackgroundColor:`#111111`,titleButtonAreaBackgroundColor:`#1FFFFFFF`,titleButtonAreaBorderColor:`#26000000`,baseBackgroundColor:`#000000`,baseTextColor:`#FFFFFF`,lightButtonBorderColor:`rgba(255, 255, 255, 0.5)`};function _l(){bl(`color-scheme`,(B()?.menuColorSetting||{adaptableColorSchemes:[`light`]}).adaptableColorSchemes.join(` `));var e=window.matchMedia(`(prefers-color-scheme: dark)`);vl({matches:e?.matches,media:e?.media}),e.addEventListener?e.addEventListener(`change`,vl):e.addListener&&e.addListener(vl)}function vl(e){var t=B()?.menuColorSetting||{adaptableColorSchemes:[`light`],lightModeColor:hl,darkModeColor:gl},n=t.adaptableColorSchemes,r=t.lightModeColor,i=t.darkModeColor,a=n.includes(`dark`);e.matches&&a?yl(Yi(Yi({},gl),i)):yl(Yi(Yi({},hl),r))}function yl(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,i=e.titleSubtextColor,a=e.titleButtonColor,o=e.titleBackgroundColor,s=e.progressBarColor,c=e.progressBackgroundColor,l=e.titleButtonAreaBackgroundColor,u=e.titleButtonAreaBorderColor,d=e.baseBackgroundColor,f=e.baseTextColor,p=e.lightButtonBorderColor;bl(`--liff-base-background-color`,d),bl(`--liff-base-text-color`,f),bl(`--liff-base-background-rgb-color`,Ma(d)),bl(`--liff-base-text-rgb-color`,Ma(f)),bl(`--liff-light-button-border-color`,p),bl(`--liff-title-text-color`,r),bl(`--liff-title-background-color`,o),bl(`--liff-title-button-color`,a),bl(`--liff-icon-color`,t),bl(`--liff-status-bar-color`,n),bl(`--liff-title-subtext-color`,i),bl(`--liff-progress-bar-color`,s),bl(`--liff-progress-background-color`,c),bl(`--liff-title-button-area-background-color`,Aa(l)),bl(`--liff-title-button-area-border-color`,Aa(u))}function bl(e,t){document.documentElement.style.setProperty(e,t)}var xl={addToHomeScreen:function(e){if(!new ms(e).invoke(`addToHomeScreen`))throw z(da,`No permission for liff.addToHomeScreen()`)},scanCode:function(e){if(!new ms(e).invoke(`scanCode`))return Promise.reject(z(da,`No permission for liff.scanCode()`))},getAdvertisingId:function(e){if(!new ms(e).invoke(`getAdvertisingId`))return Promise.reject(z(da,`No permission for liff.getAdvertisingId()`))},initPlugins:function(){}};function Sl(e){return M(this,void 0,void 0,(function(){var t;return N(this,(function(n){switch(n.label){case 0:return[4,Ss()];case 1:return(t=n.sent())&&t.install(e,xl),[2]}}))}))}function Cl(){return M(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,Is(Bs(`certs`))];case 1:return[2,e.sent()]}}))}))}function wl(e,t,n){return M(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return[4,crypto.subtle.importKey(`jwk`,e,{name:`ECDSA`,namedCurve:`P-256`},!1,[`verify`])];case 1:return r=i.sent(),[4,crypto.subtle.verify({name:`ECDSA`,hash:{name:`SHA-256`}},r,n,t)];case 2:return[2,i.sent()]}}))}))}function Tl(e,t){return M(this,void 0,void 0,(function(){var n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_;return N(this,(function(v){switch(v.label){case 0:return n=e.split(`.`),r=P(n,3),i=r[0],a=r[1],o=r[2],s=JSON.parse(Oa.decode(i)),c=JSON.parse(Oa.decodeUnicode(a)),l=Na(Oa.decode(o)),u=Na(`${i}.${a}`),[4,Cl()];case 1:if(d=v.sent(),!(f=d.keys.find((function(e){return e.kid===s.kid}))))return[3,6];if(delete f.alg,s.alg!==`ES256`)throw z(pa,`Invalid "alg" value in ID_TOKEN`);p=void 0,v.label=2;case 2:return v.trys.push([2,4,,5]),[4,wl(f,u,l)];case 3:return p=v.sent(),[3,5];case 4:throw m=v.sent(),z(pa,`Failed to use Crypto API to verify ID_TOKEN: ${m}`);case 5:if(p){if(h=c.iss!==`https://access.line.me`,g=c.aud!==t,_=1e3*c.exp<Date.now(),h)throw z(pa,`Invalid "iss" value in ID_TOKEN`);if(g)throw z(pa,`Invalid "aud" value in ID_TOKEN`);if(_)throw z(pa,`Invalid "exp" value in ID_TOKEN`);return[2,c]}throw z(pa,`Invalid signature in ID_TOKEN`);case 6:throw z(pa,`Invalid "kid" value in ID_TOKEN`);case 7:return[2]}}))}))}function El(e){var t=e.split(`.`);if(t[1])try{var n=t[1].replace(/-/g,`+`).replace(/_/g,`/`);return JSON.parse(window.atob(n))}catch{return null}return null}function Dl(e){var t=e.pathname,n=e.query,r=`liff://${t}${n?`?${Va.stringify(n)}`:``}`;location.href=r}var Ol=null;function kl(){typeof Ol==`boolean`&&F.warn(`liff.init is not expected to be called more than once`),Ol=!!vo()||!(!so()||Va.parse(window.location.hash).feature_token||No())&&(yo(!0),!0)}function Al(){return!!Ol}function jl(e,t){return M(this,void 0,void 0,(function(){var n;return N(this,(function(r){switch(r.label){case 0:return(n=Eo())?[2,n]:e&&t?[4,tl({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}}))}))}function Ml(e){return Is(`${Bs(`apps`)}/${e}/featureToken`)}function Nl(e){return M(this,void 0,void 0,(function(){var t,n,r,i;return N(this,(function(a){switch(a.label){case 0:return t=Va.parse(window.location.hash),n=function(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=function(t){Object.keys(t).filter((function(e){return t[e]!==null&&t[e]!==void 0})).forEach((function(n){e[n]=t[n]}))};try{for(var o=Xi(r),s=o.next();!s.done;s=o.next())a(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return e}({access_token:Lo(),context_token:Mo(),feature_token:No(),id_token:Fo(),client_id:Ao(),mst_challenge:Oo(),mst_verifier:So(),msit:wo()},t),Al()?Yo()?[4,Ml(e)]:[3,2]:[3,3];case 1:r=a.sent().featureToken,n.feature_token||=r,a.label=2;case 2:(i=La(e))&&(n.client_id=i),a.label=3;case 3:return[2,n]}}))}))}function Pl(e){if(e.persisted&&ds(`multipleLiffTransition`))if(rs()===`ios`)window.location.reload();else{var t=co().liffId,n=No();if(!t)throw z(ua,`Invalid LIFF ID.`);if(!n)throw z(da,`Invalid featureToken for client features`);Dl({pathname:`app/${t}`,query:{feature_token:n}})}}function Fl(e){return M(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_;return N(this,(function(v){switch(v.label){case 0:return[4,new Promise((function(e){var t=ts();if(!t||ka(t,`9.5.0`)<0)e();else if(window._liff&&window._liff.features)e();else{F.debug(`cannot find window._liff.features, listen to ready event`);var n=function(){F.debug(`ready event is fired`),ac(`ready`,n),e()};ic(`ready`,n)}}))];case 1:return v.sent(),kl(),[4,Nl(e.liffId)];case 2:if(t=v.sent(),n=t.access_token,r=t.context_token,i=t.feature_token,a=t.id_token,o=t.client_id,s=t.mst_verifier,c=t.mst_challenge,l=t.msit,r){if(typeof r!=`string`)throw z(ua,`Cannot get context token, perhaps there is an incorrect parameter in permanent link`);mo(El(r))}if(B()?.liffId!==void 0&&B()?.liffId!==e.liffId)throw z(ua,`Invalid LIFF ID`);return!es()&&i&&(function(e,t){ds(`multipleLiffTransition`)&&Dl({pathname:`app/${e}`,query:{feature_token:t}})}(e.liffId,i),Al()&&Po(i)),c&&ko(c),s&&Co(s),o&&jo(o),l&&To(l),window.addEventListener(`pageshow`,Pl),Yo()||i&&n?[3,5]:Al()?(u=Ja(location.href,{"liff.hback":`2`}),sl({redirectUri:u}),[4,new Promise((function(){}))]):[3,4];case 3:v.sent(),v.label=4;case 4:throw sl(),z(ua,`Failed to parse feature_token or access_token`);case 5:return n&&i?[4,Vs(n)]:[3,7];case 6:if(d=v.sent(),f=d.client_id,p=d.expires_in,m=La(e.liffId),f!==m)throw sl(),z(ua,`Failed to verify access_token`);Po(i),Uo(new Date(Date.now()+1e3*p)),Ro(n),v.label=7;case 7:return[4,jl(l,s)];case 8:return(h=v.sent())?(Do(h),[4,nl({mst:h})]):[3,10];case 9:(g=v.sent().data)&&xo(JSON.stringify(g)),v.label=10;case 10:return a&&!Fo()&&Io(a),a&&o&&!Ko()?[4,Tl(a,o)]:[3,12];case 11:(_=v.sent())&&qo(_),v.label=12;case 12:return[2]}}))}))}function Il(e){return M(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return N(this,(function(c){switch(c.label){case 0:return t=Bs(`apps`),n=`${t}/${e}/contextToken`,r=Lo(),i={"Content-Type":`application/json`,Accept:`application/json`},r&&(i.Authorization=`Bearer ${r}`),[4,Is(n,{headers:i})];case 1:if(a=c.sent(),!(o=a.contextToken))throw z(ua,`Can not get context from server.`);if(!(s=El(o)))throw z(ua,`Invalid context token.`);return[2,s]}}))}))}function Ll(){return M(this,void 0,void 0,(function(){var e,t;return N(this,(function(n){switch(n.label){case 0:if(!(e=co().liffId))throw z(ua,`Invalid LIFF ID.`);return[4,Il(e)];case 1:return t=n.sent(),mo(t),[2]}}))}))}function Rl(e){return M(this,void 0,void 0,(function(){var t,n,r,i=this;return N(this,(function(a){switch(a.label){case 0:t=function(){return M(i,void 0,void 0,(function(){var t,n,r,i,a,o;return N(this,(function(s){switch(s.label){case 0:return[4,(c=co(),l=Va.parse(window.location.search),u=Bo(),d={grant_type:`authorization_code`,client_id:l.liffClientId,appId:c.liffId,code:l.code,code_verifier:u.codeVerifier,redirect_uri:c.redirectUri||l.liffRedirectUri,id_token_key_type:`JWK`},f=Va.stringify(d),Is(Bs(`token`),{method:`POST`,headers:{"Content-Type":`application/x-www-form-urlencoded;charset=UTF-8`},body:f}))];case 1:return t=s.sent(),n=t.access_token,r=t.id_token,i=t.expires_in,jo(e),Ro(n),Uo(new Date(Date.now()+1e3*i)),Ho(),r?(Io(r),[4,Tl(r,e)]):[3,3];case 2:(a=s.sent())&&qo(a),s.label=3;case 3:return(o=Va.parse(location.hash).context_token)?(mo(El(o)),[3,6]):[3,4];case 4:return[4,Ll()];case 5:s.sent(),s.label=6;case 6:return[2]}var c,l,u,d,f}))}))},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t()];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),r=n,Ho(),r;case 4:return[2]}}))}))}function zl(){return M(this,void 0,void 0,(function(){var e,t,n,r,i,a,o=this;return N(this,(function(s){switch(s.label){case 0:return(t=kc())?[3,2]:[4,Oc(Ks.SUB)];case 1:t=s.sent(),s.label=2;case 2:return(e=t).isReady()?(n=Wa(8),[4,e.getData(`appData`)]):[3,8];case 3:return r=s.sent(),i=r.eventName,a=r.data,i===Ws.NOT_FOUND?[4,e.teardown()]:[3,6];case 4:return s.sent(),[4,zl()];case 5:return[2,s.sent()];case 6:a&&xo(JSON.stringify(a)),s.label=7;case 7:return e.listen((function(t){return M(o,void 0,void 0,(function(){var r,i;return N(this,(function(a){return r=t.context,i=r.data,r.eventName===Ca.INIT&&i?.subWindowId!==n&&lc(),r.eventName!==Ca.CANCEL&&r.eventName!==Ca.SUBMIT||e.teardown(),[2]}))}))})),Yo()&&e.send({eventName:Ca.INIT,data:{subWindowId:n,hasOpener:!!window.opener}}),[3,10];case 8:return Nc()?[3,10]:[4,new Promise((function(e){window.addEventListener(`message`,function(e){return function t(n){var r=n.data,i=n.source,a=n.origin;if(r){var o=r.type,s=r.message;o===`healthCheck`&&(window.removeEventListener(`message`,t),s&&xo(s),Mc(a),i&&i.postMessage&&i.postMessage({status:`healthCheck`},a),e())}}}(e))}))];case 9:return[2,s.sent()];case 10:return[2]}}))}))}var Bl=new(function(){function e(){var e=this;this.getAndValidateContext=function(){var e=B();if(!e)throw z(ua,`Could not get Context from server.`);if(!e.endpointUrl)throw z(ua,`Could not get endpointUrl from server.`);if(!e.permanentLinkPattern)throw z(ua,`Could not get permanentLinkPattern from server.`);return e},this.decodeState=function(t){var n=e.getAndValidateContext();t=t.replace(/\n/g,`%0D%0A`);var r=e.hasTrailingSlash(n.endpointUrl)||e.hasTrailingSlash(t),i=new URL(n.endpointUrl),a=i.origin,o=i.pathname,s=i.search,c=new URL(`${a}${e.attachSlashAtStart(t)}`),l=c.pathname,u=c.search,d=c.hash,f=`${s}${s?u.replace(/\?/g,`&`):u}`,p=`${o}${e.attachSlashAtStart(l)}`.replace(`//`,`/`);return(p=e.attachSlashAtStart(`${p}`)).endsWith(`/`)&&!r&&(p=p.substring(0,p.length-1)),`${a}${p}${f}${d}`.replace(/%0D%0A/g,`
`)}}return e.prototype.attachSlashAtStart=function(e){return`${e&&e.length>0&&!e.startsWith(`/`)?`/`:``}${e}`},e.prototype.hasTrailingSlash=function(e){var t=e.indexOf(`?`),n=e.indexOf(`#`),r=-1;return(r=t===-1&&n===-1?e.length:t===-1?n:n===-1?t:Math.min(t,n))>0&&e[r-1]===`/`},e.prototype.invoke=function(){return M(this,void 0,void 0,(function(){var e,t,n,r,i;return N(this,(function(a){switch(a.label){case 0:if(e=Va.parse(window.location.search),typeof(t=e[`liff.state`])!=`string`)return[2];a.label=1;case 1:return a.trys.push([1,4,,5]),n=location.href,(r=this.decodeState(t))===n?[3,3]:(e[`liff.hback`]?location.replace(Ja(r,{"liff.hback":e[`liff.hback`]})):location.replace(r),[4,new Promise((function(){}))]);case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if((i=a.sent()).code===`INIT_FAILED`)throw i;return F.debug(i),[3,5];case 5:return[2]}}))}))},e}());function Vl(e,t){return M(this,void 0,void 0,(function(){var n,r;return N(this,(function(i){switch(i.label){case 0:if(!e.liffId)throw z(fa,`liffId is necessary for liff.init()`);return lo(e),!so()&&Yo()&&(Wo()||Cs()),n=Va.parse(window.location.search),!es()||so()?[3,2]:[4,zl()];case 1:i.sent(),i.label=2;case 2:if(n.error&&n.liffOAuth2Error)throw s=n.error,c=n.error_description,l=c.replace(/\+/g,` `),u=`${s}: ${l}`,z(ua,u);return a=n.code,o=Bo(),a&&!Yo()&&o&&o.codeVerifier?[4,Rl(n.liffClientId)]:[3,4];case 3:i.sent(),i.label=4;case 4:return so()?[4,Fl(e)]:[3,6];case 5:return i.sent(),[3,8];case 6:return Yo()?[3,8]:[4,Ll()];case 7:i.sent(),i.label=8;case 8:return[4,Bl.invoke()];case 9:if(i.sent(),r=B())try{Ms(location.href,r.endpointUrl)}catch{F.warn(`liff.init() was called with a current URL that is not related to the endpoint URL.
${location.href} is not under ${r.endpointUrl}`)}return[4,t()];case 10:return i.sent(),qa(window.location.href),[2]}var a,o,s,c,l,u}))}))}var Hl=function(e,t){return new Promise((function(n,r){if(e){var i=document.createElement(`script`);i.type=`module`,i.onload=function(){n()},i.src=e,document.head.appendChild(i)}else r(z(fa,t))}))},Ul=function(e){var t=`https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js`;return t&&e&&(t=t.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/,e)),Hl(t,`LUI_ALERT_URL is not defined`)},Wl=function(){return M(void 0,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return e=function(){var e=document.querySelector(`script[src*="luivendor.js"]`);if(e&&e.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)?.length)return e.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0]}(),e?[3,2]:[4,Hl(`https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js`,`LUI_VENDOR_URL is not defined`)];case 1:t.sent(),t.label=2;case 2:return[4,Ul(e)];case 3:return t.sent(),[4,(n=Wa(6),new Promise((function(){var e=document.createElement(`div`);e.innerHTML=`<lui-alert id="liffAlert-${n}" shown title="${pl(`alert.android.extBrowser.autoLoginWorkaround.title`)}" message="${pl(`alert.android.extBrowser.autoLoginWorkaround.desc`)}" button="${pl(`alert.android.extBrowser.autoLoginWorkaround.button.text`)}"></lui-alert>`,document.body.appendChild(e);var t=document.getElementById(`liffAlert-${n}`);t&&t.addEventListener(`lui-button-click`,(function(){var e=window.open(Ja(window.location.href,{liffIsEscapedFromApp:`true`}),`_blank`);e&&(e.location.href=Ja(window.location.href,{liffIsEscapedFromApp:`true`}),window.close())}))})))];case 4:return t.sent(),[2]}var n}))}))},Gl=function(e){try{return new URL(e).searchParams.get(`lineAppVersion`)}catch{return null}};function V(){return M(this,void 0,void 0,(function(){var e,t;return N(this,(function(n){switch(n.label){case 0:return e=Gl(window.location.href)??Gl(window.document.referrer),e&&ka(e,`13.10.0`)>=0||so()||rs()!==`android`||(t=Va.parse(window.location.search))[`liff.subwindow.identifier`]||t.liffIsEscapedFromApp?[2]:t.liffClientId&&document.referrer.includes(`access.line.me`)?(window.location.href=Ja(window.location.href,{liffIsEscapedFromApp:`true`}),[2]):t.liffClientId&&document.referrer.includes(`android-app://`)?[4,Wl()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.liffClientId&&document.referrer===``&&window.history.length===1?[4,Wl()]:[3,4];case 3:n.sent(),n.label=4;case 4:return!document.referrer.includes(`liffClientId`)||document.referrer.includes(`liffIsEscapedFromApp`)?[3,6]:[4,Wl()];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))}var H=function(e){function t(){var t=e.apply(this,Zi([],P(arguments),!1))||this;return t.hooks={before:new ol,after:new ol},t.internalHooks={beforeFinished:new ol,beforeSuccess:new ol,error:new ol},t}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`init`},enumerable:!1,configurable:!0}),t.prototype.install=function(e){return this.liffForWindow=e.liff,this.init.bind(this)},t.prototype.init=function(e,t,n){return M(this,void 0,void 0,(function(){var r;return N(this,(function(i){switch(i.label){case 0:return[4,this.hooks.before.call()];case 1:i.sent(),a=this.liffForWindow,window&&!window.liff&&(window.liff=a),i.label=2;case 2:return i.trys.push([2,9,,11]),[4,Promise.all([Sl(this.liffForWindow),Vl(e,this.internalHooks.beforeFinished.call)])];case 3:return i.sent(),_l(),[4,this.internalHooks.beforeSuccess.call()];case 4:return i.sent(),!e.withLoginOnExternalBrowser||Yo()?[3,6]:(sl(),[4,new Promise((function(){}))]);case 5:i.sent(),i.label=6;case 6:return[4,V()];case 7:return i.sent(),[4,this.hooks.after.call()];case 8:return i.sent(),typeof t==`function`&&t(),oa(),[3,11];case 9:return r=i.sent(),[4,this.internalHooks.error.call(r)];case 10:throw i.sent(),typeof n==`function`&&n(r),r;case 11:return[2]}var a}))}))},t}(I);function Kl(){return{liffApp:`https://liff.line.me`,liffServer:`https://api.line.me`,miniApp:`https://miniapp.line.me`}}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getOrigins`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Kl()}},t})(I);function ql(){return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getLanguage`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return ql()}},t})(I);function Jl(){var e=ts();if(!e||!so()||rs()!==`ios`)return navigator.language;if(ka(e,`14.11.0`)>=0){var t=window.prompt(`LIFF:GET_APP_LANGUAGE`);if(t)return t}return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getAppLanguage`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Jl()}},t})(I);function Yl(e){return M(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return N(this,(function(c){switch(c.label){case 0:return function(e){if(!Ea.includes(e))throw z(`INVALID_ARGUMENT`,`Unexpected permission name.`);return!!B()?.scope.includes(e)}(e)?(t=Lo())?[4,Vs(t)]:[3,2]:[2,{state:`unavailable`}];case 1:n=c.sent(),r=unescape(n.scope).split(` `);try{for(i=Xi(r),a=i.next();!a.done;a=i.next())if(a.value.includes(e))return[2,{state:`granted`}]}catch(e){o={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}return[2,{state:`prompt`}];case 2:throw z(la,`Need access_token for api call, Please login first`)}}))}))}function Xl(){var e=B();return!!e&&e.type!==`square_chat`&&(ds(`skipChannelVerificationScreen`)||!so()&&e.availability?.skipChannelVerificationScreen?.permission)}function Zl(){var e=co().liffId;if(e)return Is(`${Bs(`unauthorizedPermissions`)}?liffId=${e}`,{headers:{"Content-Type":`application/json`,Accept:`application/json`,Authorization:`Bearer ${Lo()}`}});throw z(la,`liffId is required`)}var Ql,$l=rl.on,eu=rl.off,tu=rl.open,nu=function(){function e(e,t){var n=this;this.onSubmit=function(e){return M(n,[e],void 0,(function(e){var t=e.newAccessToken,n=e.ICA_ERROR;return N(this,(function(e){return t?this.resolve({newAccessToken:t}):n&&this.reject(z(`UNKNOWN`,n)),this.teardown(),[2]}))}))},this.onClose=function(){return M(n,void 0,void 0,(function(){return N(this,(function(e){return this.reject(z(la,`user didn't allow the agreement`)),this.teardown(),[2]}))}))},this.onCancel=function(){return M(n,void 0,void 0,(function(){return N(this,(function(e){return this.reject(z(la,`user didn't allow the agreement`)),this.teardown(),[2]}))}))},this.onError=function(e){return M(n,void 0,void 0,(function(){return N(this,(function(t){return this.reject(e),this.teardown(),[2]}))}))},this.resolve=e,this.reject=t,this.setup()}return e.prototype.setup=function(){$l(`submit`,this.onSubmit),$l(`close`,this.onClose),$l(`cancel`,this.onCancel),$l(`error`,this.onError)},e.prototype.teardown=function(){eu(`submit`,this.onSubmit),eu(`close`,this.onClose),eu(`cancel`,this.onCancel),eu(`error`,this.onError),Ql=void 0},e.prototype.open=function(e){var t=co().liffId;t?tu({url:`https://liff.line.me/1656032314-Xgrw5Pmk`,appData:{liffId:t,channelId:La(t),accessToken:Lo()},onBeforeTransition:e}).catch(this.reject):this.reject(z(la,`liffId is required`))},e}();function ru(){return M(this,void 0,void 0,(function(){var e,t,n=this;return N(this,(function(r){switch(r.label){case 0:if(!Xl())throw z(da,`SkipChannelVerificationScreen is unavailable.`);return Ql&&Ql.teardown(),e=function(){return M(n,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return[4,Zl()];case 1:if(e=t.sent(),(so()?e:e.filter((function(e){return e!==`chat_message.write`}))).length<=0)throw z(da,`All permissions have already been approved.`);return[2]}}))}))},[4,new Promise((function(t,n){(Ql=new nu(t,n)).open(e)}))];case 1:return t=r.sent().newAccessToken,Ro(t),[2]}}))}))}function iu(){return M(this,void 0,void 0,(function(){var e,t;return N(this,(function(n){switch(n.label){case 0:if(!(e=Lo()))throw z(la,`Need access_token for api call, Please login first`);return[4,Vs(e)];case 1:return t=n.sent(),[2,decodeURIComponent(t.scope).split(` `).filter((function(e){return e!==``}))]}}))}))}function au(e,t){var n=this;return function(){var r=[...arguments];return M(n,void 0,void 0,(function(){var n,i,a;return N(this,(function(o){switch(o.label){case 0:return n=(r.length>0?r[r.length-1]:{}).ignorePermissionCheck,i=n!==void 0&&n,[4,Yl(t)];case 1:if((a=o.sent().state)!==`unavailable`)return[3,2];throw z(da,`The permission is not in LIFF app scope.`);case 2:return a!==`prompt`||!Xl()||i||!so()&&t===`chat_message.write`?[3,4]:[4,ru()];case 3:return o.sent(),[3,5];case 4:i&&r.pop(),o.label=5;case 5:return[4,e.apply(void 0,Zi([],P(r),!1))];case 6:return[2,o.sent()]}}))}))}}var ou=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`permission`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return{query:Yl,requestAll:ru,getGrantedAll:iu}},t}(I));function su(){return Is(Bs(`profile`))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getProfile`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return au(su,`profile`)},t})(I);var cu=function(e,t){return e?`&${e.split(`&`).filter((function(e){return e.indexOf(`is_liff_external_open_window`)===-1})).join(`&`).concat(`${t?`#${t}`:``}`)}`:`${t?`#${t}`:``}`};function lu(e){if(!function(e){if(!e||typeof e!=`object`)return!1;var t=e,n=t.url,r=t.external,i=P([typeof n,typeof r],2),a=i[0],o=i[1];return a===`string`&&n!==``&&(o===`undefined`||o===`boolean`)}(e))throw z(L,`Invalid parameters for liff.openWindow()`);var t=ts();if(so())if(t!==null&&rs()===`ios`&&ka(t,`9.19`)>=0||!window._liff.postMessage){var n=e.url,r=e.external,i=r!==void 0&&r;window.open(function(e,t){var n,r,i,a,o,s,c,l,u;(function(e){return e.indexOf(`#`)!==-1&&e.indexOf(`?`)!==-1&&e.indexOf(`#`)<e.indexOf(`?`)})(e)||function(e){return e.indexOf(`?`)===-1&&e.indexOf(`#`)!==-1}(e)?(c=(n=P(e.split(`#`),2))[0],r=n[1],l=(i=P((r===void 0?``:r).split(`?`),2))[0],u=i[1]):(c=(a=P(e.split(`?`),2))[0],o=a[1],u=(s=P((o===void 0?``:o).split(`#`),2))[0],l=s[1]);var d=cu(u,l);return`${c}?is_liff_external_open_window=${!!t}${d}`}(n,i))}else cc(`openWindow`,e);else window.open(e.url,`_blank`)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`openWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return lu(e)}},t})(I);var uu=function(e){return typeof e==`object`&&!!e&&function(e){return typeof e==`string`||e instanceof String}(e.type)};function du(e){return Promise.reject(z(L,e))}function fu(e){if(!function(e){return Array.isArray(e)&&e.every(uu)}(e))return du(`Parameter 'messages' must be an array of { type, ... }`);var t=e.length;return t<1||t>5?du(`Number of messages should be in range 1 to 5.`):Is(Bs(`message`),{method:`POST`,body:JSON.stringify({messages:e})}).catch(pu)}var pu=function(e){if(e.code===`403`){var t=ts()===`12.0.0`,n=rs()===`ios`,r=to();t&&(n||r)&&window.alert(`LINELINE 12.0.1
Please update your LINE app to LINE 12.0.1 or later.`)}throw e};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`sendMessages`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return au(fu,`chat_message.write`)},t})(I);function mu(){return Is(Bs(`friendship`))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getFriendship`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return au(mu,`profile`)},t})(I);function hu(){return M(this,void 0,void 0,(function(){var e,t;return N(this,(function(n){switch(n.label){case 0:if(!Yo())return[3,6];n.label=1;case 1:return n.trys.push([1,5,,6]),(e=Ko())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,su()];case 3:if((t=n.sent())&&t.userId)return[2,t.userId];n.label=4;case 4:return[3,6];case 5:return n.sent(),F.debug(`can't retrieve Mid/Uid because of something wrong`),[3,6];case 6:return[2]}}))}))}function gu(){return M(this,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return[4,hu()];case 1:return(e=t.sent())&&e.substring(0,1)===`u`?[2,e]:[2]}}))}))}var _u=function(e){function t(){var t=e.apply(this,Zi([],P(arguments),!1))||this;return t.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:``,version:``},t.injected=!1,t}return j(t,e),Object.defineProperty(t,`CUSTOMPLACEID_INIT`,{get:function(){return`liff.init`},enumerable:!1,configurable:!0}),Object.defineProperty(t,`CUSTOMTYPE`,{get:function(){return`liffSdk`},enumerable:!1,configurable:!0}),Object.defineProperty(t,`LiffUtsLoginStatus`,{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`name`,{get:function(){return`analytics`},enumerable:!1,configurable:!0}),t.prototype.install=function(e){var t=e.liff,n=e.internalHooks;this.liffCore=t,n.init.beforeFinished(this.beforeInitFinished.bind(this)),n.init.beforeSuccess(this.beforeInitSuccess.bind(this)),n.init.error(this.initError.bind(this))},t.prototype.createDeprecatedUtsProxy=function(e){var t=`LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions.`;return new Proxy(e,{get:function(e,n){var r=e[n];return typeof r==`function`?function(){var i=[...arguments];return F.warn(`[LIFF Analytics] ${t} Called method: ${String(n)}`),r.apply(e,i)}:r}})},t.prototype.changeRatioToUTSFormat=function(e){if(e&&Number.isFinite(e))return Math.round(100*e)},t.prototype.setExtra=function(){var e,n=this.utsExtra,r=n.isLiffSuccessful,i=n.isLoggedIn,a=n.id,o=n.version,s=(i?t.LiffUtsLoginStatus.isLoggedIn:0)|(r?t.LiffUtsLoginStatus.isLiffSuccessful:0);(e=this.uts)==null||e.setExtra(`liff`,{id:a,loginStatus:s,version:o})},t.prototype.assignUtsExtra=function(e){Object.assign(this.utsExtra,e)},t.prototype.setVersion=function(e){this.assignUtsExtra({version:e}),F.debug(`[LIFFUTS][SDK version] ${e}`),this.setExtra()},t.prototype.setLiffId=function(e){this.assignUtsExtra({id:e}),F.debug(`[LIFFUTS][LIFFID] ${e}`),this.setExtra()},t.prototype.setIsLoggedIn=function(e){this.assignUtsExtra({isLoggedIn:e}),F.debug(`[LIFFUTS][isLoggedIn] ${e}`),this.setExtra()},t.prototype.sendLiffInit=function(){var e;F.debug(`[LIFFUTS][sendCustom] liff.init`),(e=this.uts)==null||e.sendCustom({type:t.CUSTOMTYPE,params:{placeId:t.CUSTOMPLACEID_INIT}})},t.prototype.setIsLiffSuccessful=function(e){this.assignUtsExtra({isLiffSuccessful:e}),F.debug(`[LIFFUTS][isLiffInitSuccessful] ${e}`),this.setExtra()},t.prototype.prepareReferrer=function(e){var t={};Object.keys(e).forEach((function(n){if(xa.includes(n)){var r=e[n];typeof r==`string`&&r&&(t[n.replace(/^liff\.ref\./,``)]=r)}})),Object.keys(t).length>0&&(this.referrer=t)},t.prototype.beforeInitFinished=function(){return M(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,c,l,u,d;return N(this,(function(f){switch(f.label){case 0:if(e=Va.parse(window.location.search),this.prepareReferrer(e),t=B(),!(n=t?.utsTracking))return[2];if(r=co(),i=r.liffId,a=r.analytics,n.mode!==`auto`||!a)return[3,6];F.warn(`[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions.`),F.debug(`[LIFFUTS] ${new Date().toUTCString()}`),f.label=1;case 1:return f.trys.push([1,3,,4]),o=this,[4,new Promise((function(e,t){var n=window.uts,r=document.createElement(`script`);r.type=`text/javascript`,r.src=`https://static.line-scdn.net/uts/edge/4.1.0/uts.js`,r.onload=function(){var t=window.uts;e(t),window.uts=n},r.onerror=function(e){t(e)},document.getElementsByTagName(`head`)[0].appendChild(r)}))];case 2:return o.uts=f.sent(),[3,4];case 3:return s=f.sent(),F.debug(`[LIFFUTS] cannot load UTS, reason: ${s}`),[2];case 4:return c=Yi(Yi({},a.context),{utsId:a.context.utsId,appName:a.context.appName,appEnv:a.context.appEnv||`release`}),l=Yi(Yi({endpoint:`https://uts-front.line-apps.com`},a.options),{sampleRate:this.changeRatioToUTSFormat(n.sendRatio),version:`current`}),this.uts.init(c,l),[4,gu()];case 5:(u=f.sent())&&(F.debug(`[LIFFUTS][mid] ${u}`),this.uts.setMid(u)),t!=null&&t.tid&&(F.debug(`[LIFFUTS][tid] ${t.tid}`),this.uts.setTid(t.tid)),this.referrer&&(F.debug(`liff.ref.referrer`,this.referrer),this.uts.setSessionParams(this.referrer)),i&&this.setLiffId(i),this.setIsLoggedIn(Yo()),this.setVersion(Xo()),d=Ga(location.href),F.debug(`[LIFFUTS][url] ${d}`),this.uts.setUrl(d),this.liffCore.analytics=this.createDeprecatedUtsProxy(this.uts),this.injected=!0,f.label=6;case 6:return[2]}}))}))},t.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},t.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},t}(I),vu=function(e){F.warn(`[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions. Called function: sendShareTargetPicker`),F.debug(`[LIFFUTS][sendCustom] liff.shareTargetPicker`),e.sendCustom({type:`liffSdk`,params:{placeId:`liff.shareTargetPicker`}})},yu,bu=function(){function e(e,t){var n=this;this.resolve=e,this.reject=t,this.onSubmit=function(e){var t=e.message;n.resolve({value:t}),n.destroy()},this.onClose=function(){n.resolve({value:null}),n.destroy()},this.onCancel=function(){n.resolve({value:null}),n.destroy()},this.onError=function(e){n.reject(e),n.destroy()},this.start()}return e.prototype.start=function(){rl.on(`submit`,this.onSubmit),rl.on(`close`,this.onClose),rl.on(`cancel`,this.onCancel),rl.on(`error`,this.onError)},e.prototype.destroy=function(){rl.off(`submit`,this.onSubmit),rl.off(`close`,this.onClose),rl.off(`cancel`,this.onCancel),rl.off(`error`,this.onError),yu=void 0},e}();function xu(){return M(this,void 0,void 0,(function(){return N(this,(function(e){return us.scanCodeV2(),yu&&yu.destroy(),[2,new Promise((function(e,t){yu=new bu(e,t),rl.open({url:`https://liff.line.me/1656359117-jxmx5e11`}).catch((function(e){yu?.destroy(),t(e)}))}))]}))}))}var Su=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`scanCodeV2`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return xu},t}(I)),Cu={};function wu(){return Cu}function Tu(e,t){var n=wu(),r=P(t.split(`.`),1)[0],i=n[t];i&&e.removeEventListener(r,i),n[t]=null}var Eu=!1,Du=!1;function Ou(e,t,n,r){Eu||=(Du=function(){var e=!1;try{var t=Object.defineProperty({},`passive`,{get:function(){return e=!0,!1}});window.addEventListener(`test`,t,t),window.removeEventListener(`test`,t,t)}catch{e=!1}return e}(),!0);var i=P(t.split(`.`),1)[0];return new Promise((function(a){var o=function(i){a(i),n&&n(i),r&&r.once&&Tu(e,t)};(function(e,t){Cu[e]=t})(t,o),e.addEventListener(i,o,!!Du&&r)}))}function ku(e,t,n,r){if(n===void 0&&(n={}),typeof e!=`object`||!e.postMessage)throw z(L,`target must be window object`);if(typeof t!=`string`)throw z(L,`keyname must be string`);if(typeof n!=`object`)throw z(L,`incorrect body format. It should be Object or Array comprised of Object`);if(!r)throw z(L,`serverEndPointUrl isn't passed. please fill up with proper url`);if(r===`*`)throw Error(`serverEndPointUrl doesn't allow to set '*'`);var i={name:t,body:n};e.postMessage(i,r)}function Au(e,t,n,r){Ou(e,`message.${t}`,function(e,t,n){return function(r){F.debug(`messageReceive`,r),r.origin===n&&r.data.name===e&&t(r)}}(t,n,r))}var ju=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(e){return M(this,void 0,void 0,(function(){var t,n;return N(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.liffId=e.referrer.liffId,this.doesWaitForSubwindowResult=!(!e.options||!e.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(e),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return r.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return t=r.sent(),this.finalize(),[2,t];case 3:case 6:return[2];case 4:return[3,6];case 5:if(n=r.sent(),this.finalize(),n.name!==`AbortError`)throw n;return[3,6]}}))}))},e.prototype.resetAllVariables=function(){this.liffId=``,this.allowPostMessageOrigin=``,this.payloadToShareTargetPicker=null,this.ott=``,this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var e,t;this.abortController&&this.abortController.abort(),so()||(e=this.timeoutIDForHealthCheck,t=this.popupWindow,Tu(window,`message.receivedHealthcheck`),e&&clearTimeout(e),t&&!t.closed&&t.close())},e.prototype.buildPayloadToShareTargetPicker=function(e){return{messages:e.messages,isMultiple:e.isMultiple,referrer:e.referrer}},e.prototype.initAllowPostMessageOrigin=function(e){return e===void 0&&(e=Bs(`shareTargetPicker`)),$a(e)},e.prototype.initOtt=function(){return M(this,void 0,void 0,(function(){var e,t,n;return N(this,(function(r){switch(r.label){case 0:return this.abortController&&(e=this.abortController.signal),t=`${Bs(`shareTargetPickerOtt`)}/${this.liffId}/ott`,n=this,[4,Is(t,{method:`GET`,signal:e}).then((function(e){return e.ott}))];case 1:return n.ott=r.sent(),[2]}}))}))},e.prototype.prepareAnotherWindow=function(){so()||(rs()!==`ios`||to()?this.popupWindow=window.open(``,`liffpopup`,`width=480, height=640, menubar=no, toolbar=no, scrollbars=yes`):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if(so()&&this.payloadToShareTargetPicker)e=this.liffId,t=this.ott,n=this.payloadToShareTargetPicker,r={liffId:e,ott:t,data:JSON.stringify(n),closeModals:!1},location.href=`line://picker?${Va.stringify(r)}`;else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw z(ma);(function(e,t,n){var r={liffId:t,ott:n};e.location.href=`${Bs(`shareTargetPicker`)}?${Va.stringify(r)}`})(this.popupWindow,this.liffId,this.ott)}var e,t,n,r},e.prototype.initListener=function(){var e,t;so()||(e=this.onReceivedHealthcheck.bind(this),t=this.allowPostMessageOrigin,Au(window,`receivedHealthcheck`,e,t))},e.prototype.healthCheck=function(){return M(this,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.internalError=e,[3,4];case 4:return[3,6];case 5:this.finalize(),t.label=6;case 6:return[3,8];case 7:n=this.popupWindow,r=this.allowPostMessageOrigin,ku(n,`healthcheck`,void 0,r),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),t.label=8;case 8:return[2]}var n,r}))}))},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw z(ma);var e=this.popupWindow,t=this.payloadToShareTargetPicker,n=this.allowPostMessageOrigin;ku(e,`ready`,t,n)},e.prototype.onCanceled=function(){return M(this,void 0,void 0,(function(){var e,t;return N(this,(function(n){switch(n.label){case 0:if(so()||!this.ott)throw Error(`need to call with ott in client`);return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},[4,Is(`${Bs(`shareTargetPickerResult`)}?${Va.stringify(t)}`,{method:`POST`,signal:e,headers:{Accept:`application/json`,"Content-Type":`application/x-www-form-urlencoded`},body:`result=CANCEL`})];case 1:return[2,n.sent().status===`ok`]}}))}))},e.prototype.getShareResult=function(){return M(this,void 0,void 0,(function(){var e,t;return N(this,(function(n){if(!this.ott)throw Error(`need to call with ott in client`);return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},F.debug(`fetch: getShareResult`),[2,Is(`${Bs(`shareTargetPickerResult`)}?${Va.stringify(t)}`,{method:`GET`,headers:{Accept:`application/json`},signal:e})]}))}))},e.isPollingTimeOut=function(e,t){return(t-e)/6e4>=10},e.prototype.pollingShareResult=function(){return M(this,void 0,void 0,(function(){var t,n;return N(this,(function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((n=r.sent())&&n.result)switch(n.result){case`SUCCESS`:return[2,{status:`success`}];case`CANCEL`:return[2];default:throw Error(n.resultDescription)}return[4,new Promise((function(e){setTimeout(e,500)}))];case 3:return r.sent(),[3,1];case 4:throw Error(`Timeout: not finished within 10min`)}}))}))},e}(),Mu=new(function(e){function t(){var t=e.apply(this,Zi([],P(arguments),!1))||this;return t.shareTargetPicker=function(e){var n=[...arguments].slice(1);return M(t,Zi([e],P(n),!1),void 0,(function(e,t){var n,r,i,a,o,s,c;return t===void 0&&(t={}),N(this,(function(l){switch(l.label){case 0:if(us.shareTargetPicker(),!e||!Array.isArray(e)||e.length===0)throw z(L,`no proper argument`);if(e.length>5)throw z(L,`exceed the limit of num of messages`);if(!(n=co().liffId))throw z(fa);window.liff&&(r=window.liff).analytics&&vu(r.analytics),i=t.isMultiple===void 0||t.isMultiple,l.label=1;case 1:return l.trys.push([1,3,,4]),a=ju.getInstance(),o=ts(),s={waitForSubwindowResult:!0},so()&&o&&ka(o,`10.11.0`)<0&&(s.waitForSubwindowResult=!1),[4,a.init({messages:e,isMultiple:i,referrer:{liffId:n,url:location.origin},options:s})];case 2:return[2,l.sent()];case 3:throw(c=l.sent())instanceof Ia?c:z(ha,c.message);case 4:return[2]}}))}))},t}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`shareTargetPicker`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.shareTargetPicker},t}(I));function Nu(e,t){return M(this,void 0,void 0,(function(){var n,r;return N(this,(function(i){switch(i.label){case 0:return n=Bs(`createShortcutOnHomeScreen`),(r=new URL(n)).searchParams.append(`liffId`,e),r.searchParams.append(`url`,t.url),t.description&&r.searchParams.append(`description`,t.description),[4,Is(r.toString())];case 1:return[2,i.sent().shortcutPageUrl]}}))}))}function Pu(e){if(eo(e))throw z(L,`LINE URL scheme are not supported in the current environment.`)}function Fu(e,t){return M(this,void 0,void 0,(function(){var n;return N(this,(function(r){switch(r.label){case 0:return so()?[2]:[4,new Promise((function(e){setTimeout(e,1e3)}))];case 1:return r.sent(),document.visibilityState===`hidden`?[2]:(Pu(t.url),[4,Nu(e,t)]);case 2:return n=r.sent(),lu({url:n,external:!0}),[2]}}))}))}function Iu(e,t){return M(this,void 0,void 0,(function(){var n,r;return N(this,(function(i){switch(i.label){case 0:return n={liffId:e,targetUrl:t.url,description:t.description},r=`line://shortcut/liff?${Va.stringify(n)}`,location.href=r,[4,Fu(e,t)];case 1:return i.sent(),[2]}}))}))}function Lu(e,t){return M(this,void 0,void 0,(function(){var n;return N(this,(function(r){switch(r.label){case 0:return Pu(t.url),[4,Nu(e,t)];case 1:return n=r.sent(),lu({url:n,external:!0}),[2]}}))}))}function Ru(e){if(e.url===void 0||e.url===null||e.url===``)throw z(L,`no proper argument`);var t=B();if(!t?.availability.addToHomeLineScheme?.permission){if(eo(e.url))throw z(da,`No permission to specify line schema in url.`);if(e.description)throw z(da,`No permission to specify description.`)}if(!eo(e.url)){if(!t)throw z(da,`Could not get Context from server.`);t.liffId!==Za(e.url)&&Ms(e.url,t.endpointUrl)}}function zu(e){return M(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return Ru(e),us.internalCreateShortcutOnHomeScreen(),[4,Vu(e)];case 1:return t.sent(),[2]}}))}))}function Bu(e){return M(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return Ru(e),us.createShortcutOnHomeScreen(),[4,Vu(e)];case 1:return t.sent(),[2]}}))}))}function Vu(e){return M(this,void 0,void 0,(function(){var t;return N(this,(function(n){switch(n.label){case 0:if(!(t=co().liffId))throw z(ua,`Invalid LIFF ID.`);return rs()===`ios`?[4,Lu(t,e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,Iu(t,e)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}var Hu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`createShortcutOnHomeScreen`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return Bu(e)}},t}(I),Uu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`internalCreateShortcutOnHomeScreen`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return zu(e)}},t}(I);function Wu(e){return M(this,arguments,void 0,(function(e){var t=e.productIds;return N(this,(function(e){switch(e.label){case 0:return[4,cc(`iap.getPlatformProducts`,{productIds:t}).catch((function(e){throw e.code&&e.description?z(e.code,e.description):z(ca,`Failed to get platform products`,{cause:e})}))];case 1:return[2,e.sent().products]}}))}))}var Gu=function(e){return M(void 0,[e],void 0,(function(e){var t=e.productId,n=e.orderId;return N(this,(function(e){switch(e.label){case 0:if(!window.confirm(`Proceed with a test in-app purchase?`))throw z(`CANCELED`,`Transaction was canceled.`);return[4,Is(Bs(`iapVirtualConfirm`),{method:`POST`,body:JSON.stringify({productId:t,orderId:n})})];case 1:return e.sent(),[2]}}))}))},Ku=function(e){return M(void 0,[e],void 0,(function(e){var t=e.productId,n=e.orderId;return N(this,(function(e){switch(e.label){case 0:return B()?.isIapSandbox?[4,Gu({productId:t,orderId:n})]:[3,2];case 1:case 3:return e.sent(),[2];case 2:return[4,cc(`iap.createPayment`,{productId:t,orderId:n}).catch((function(e){throw e.code&&e.description?z(e.code,e.description):z(ca,`Failed to get platform products`,{cause:e})}))]}}))}))},qu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return j(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`iap`},enumerable:!1,configurable:!0}),t.prototype.install=function(){var e=this;return{getPlatformProducts:function(){var t=[...arguments];return M(e,void 0,void 0,(function(){return N(this,(function(e){return us.iap(),[2,Wu.apply(void 0,Zi([],P(t),!1))]}))}))},createPayment:function(){var t=[...arguments];return M(e,void 0,void 0,(function(){return N(this,(function(e){return us.iap(),[2,Ku.apply(void 0,Zi([],P(t),!1))]}))}))},requestConsentAgreement:function(){return M(e,void 0,void 0,(function(){return N(this,(function(e){return us.iap(),[2,M(void 0,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,cc(`iap.requestConsentAgreement`).catch((function(e){throw e.code&&e.description?z(e.code,e.description):z(ca,`Failed to request consent agreement`,{cause:e})}))];case 1:return e.sent(),[2]}}))}))]}))}))}}},t}(I),Ju=Object.defineProperties({},{getOS:{value:rs,enumerable:!0,writable:!0},getVersion:{value:Xo,enumerable:!0,writable:!0},getLanguage:{value:ql,enumerable:!0,writable:!0},getAppLanguage:{value:Jl,enumerable:!0,writable:!0},getOrigins:{value:Kl,enumerable:!0,writable:!0},isInClient:{value:so,enumerable:!0,writable:!0},isLoggedIn:{value:Yo,enumerable:!0,writable:!0},logout:{value:Cs,enumerable:!0,writable:!0},getAccessToken:{value:Lo,enumerable:!0,writable:!0},getIDToken:{value:Fo,enumerable:!0,writable:!0},getDecodedIDToken:{value:Ko,enumerable:!0,writable:!0},getContext:{value:B,enumerable:!0,writable:!0},openWindow:{value:lu,enumerable:!0,writable:!0},closeWindow:{value:lc,enumerable:!0,writable:!0},getFriendship:{value:au(mu,`profile`),enumerable:!0,writable:!0},getAId:{value:ho,enumerable:!0,writable:!0},getProfilePlus:{value:_o,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:go,enumerable:!0,writable:!0},getLineVersion:{value:ts,enumerable:!0,writable:!0},isApiAvailable:{value:ds,enumerable:!0,writable:!0},getProfile:{value:au(su,`profile`),enumerable:!0,writable:!0},sendMessages:{value:au(fu,`chat_message.write`),enumerable:!0,writable:!0},subWindow:{value:rl,enumerable:!0,writable:!0},ready:{value:sa,enumerable:!0,writable:!0},id:{get:function(){return co().liffId||null},enumerable:!0},_dispatchEvent:{value:oc,enumerable:!0,writable:!0},_call:{value:cc,enumerable:!0,writable:!0},_addListener:{value:ic,enumerable:!0,writable:!0},_removeListener:{value:ac,enumerable:!0,writable:!0},_postMessage:{value:sc,enumerable:!0,writable:!0}}),Yu=new ra,Xu=new na(Yu,Ju),Zu=new aa(Yu,Xu).install();function Qu(e){Zu.call(Ju,e)}[new aa(Yu,Xu),new cl,new H,new _u,Su,Ns,$o,ou,Mu,ml,new bs,new Hu,new Uu,new qu].forEach(Qu);var $u=Ju,ed=`travelApp_user`,td=`2008524619-nNEm12dA`;function nd(){let[e,t]=(0,_.useState)(null),[n,r]=(0,_.useState)(!0),i=(0,_.useRef)(!1);return(0,_.useEffect)(()=>{i.current||(i.current=!0,(async()=>{try{if(await $u.init({liffId:td}),$u.isLoggedIn()){let e=await $u.getProfile(),n={id:e.userId,name:e.displayName,avatar:e.pictureUrl||`https://api.dicebear.com/9.x/micah/svg?seed=Default`};t(n),localStorage.setItem(ed,JSON.stringify(n))}}catch(e){console.error(` LIFF Init Failed:`,e),window.location.search.includes(`code=`)&&(window.history.replaceState(null,``,window.location.pathname),window.location.reload())}finally{r(!1)}})())},[]),{user:e,isLoading:n,loginWithLine:()=>{$u.isLoggedIn()||$u.login()},updateProfile:e=>{t(e),localStorage.setItem(ed,JSON.stringify(e))},logout:()=>{$u.logout(),localStorage.removeItem(ed),t(null),window.location.reload()}}}var rd=()=>void 0,id=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ad=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},od={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(id(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ad(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new sd;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},sd=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},cd=function(e){let t=id(e);return od.encodeByteArray(t,!0)},ld=function(e){return cd(e).replace(/\./g,``)},ud=function(e){try{return od.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function dd(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var fd=()=>dd().__FIREBASE_DEFAULTS__,pd=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},md=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&ud(e[1]);return t&&JSON.parse(t)},hd=()=>{try{return rd()||fd()||pd()||md()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gd=e=>hd()?.emulatorHosts?.[e],_d=e=>{let t=gd(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},vd=()=>hd()?.config,yd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function bd(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function xd(e){return(await fetch(e,{credentials:`include`})).ok}function Sd(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[ld(JSON.stringify(n)),ld(JSON.stringify(o)),``].join(`.`)}var Cd={};function wd(){let e={prod:[],emulator:[]};for(let t of Object.keys(Cd))Cd[t]?e.emulator.push(t):e.prod.push(t);return e}function Td(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var Ed=!1;function Dd(e,t){if(typeof window>`u`||typeof document>`u`||!bd(window.location.host)||Cd[e]===t||Cd[e]||Ed)return;Cd[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=wd().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{Ed=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=Td(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function Od(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function U(){let e=hd()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function kd(){return!U()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function Ad(){try{return typeof indexedDB==`object`}catch{return!1}}function jd(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var Md=`FirebaseError`,Nd=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Md,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}},Pd=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Fd(i,n):`Error`;return new Nd(r,`${this.serviceName}: ${a} (${r}).`,n)}};function Fd(e,t){return e.replace(Id,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Id=/\{\$([^}]+)}/g;function Ld(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Rd(n)&&Rd(a)){if(!Ld(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Rd(e){return typeof e==`object`&&!!e}function zd(e){return e&&e._delegate?e._delegate:e}var Bd=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Vd=`[DEFAULT]`,Hd=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new yd;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Wd(e))try{this.getOrInitializeService({instanceIdentifier:Vd})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Vd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vd){return this.instances.has(e)}getOptions(e=Vd){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ud(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Vd){return this.component?this.component.multipleInstances?e:Vd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function Ud(e){return e===Vd?void 0:e}function Wd(e){return e.instantiationMode===`EAGER`}var Gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Hd(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Kd=[],qd;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(qd||={});var Jd={debug:qd.DEBUG,verbose:qd.VERBOSE,info:qd.INFO,warn:qd.WARN,error:qd.ERROR,silent:qd.SILENT},Yd=qd.INFO,Xd={[qd.DEBUG]:`log`,[qd.VERBOSE]:`log`,[qd.INFO]:`info`,[qd.WARN]:`warn`,[qd.ERROR]:`error`},Zd=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Xd[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Qd=class{constructor(e){this.name=e,this._logLevel=Yd,this._logHandler=Zd,this._userLogHandler=null,Kd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qd))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Jd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qd.DEBUG,...e),this._logHandler(this,qd.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qd.VERBOSE,...e),this._logHandler(this,qd.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qd.INFO,...e),this._logHandler(this,qd.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qd.WARN,...e),this._logHandler(this,qd.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qd.ERROR,...e),this._logHandler(this,qd.ERROR,...e)}},$d=(e,t)=>t.some(t=>e instanceof t),ef,tf;function nf(){return ef||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function rf(){return tf||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var af=new WeakMap,of=new WeakMap,sf=new WeakMap,cf=new WeakMap,lf=new WeakMap;function uf(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(gf(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&af.set(t,e)}).catch(()=>{}),lf.set(t,e),t}function df(e){if(of.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});of.set(e,t)}var ff={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return of.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||sf.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function pf(e){ff=e(ff)}function mf(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(_f(this),t,...n);return sf.set(r,t.sort?t.sort():[t]),gf(r)}:rf().includes(e)?function(...t){return e.apply(_f(this),t),gf(af.get(this))}:function(...t){return gf(e.apply(_f(this),t))}}function hf(e){return typeof e==`function`?mf(e):(e instanceof IDBTransaction&&df(e),$d(e,nf())?new Proxy(e,ff):e)}function gf(e){if(e instanceof IDBRequest)return uf(e);if(cf.has(e))return cf.get(e);let t=hf(e);return t!==e&&(cf.set(e,t),lf.set(t,e)),t}var _f=e=>lf.get(e);function vf(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=gf(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(gf(o.result),e.oldVersion,e.newVersion,gf(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var yf=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],bf=[`put`,`add`,`delete`,`clear`],xf=new Map;function Sf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(xf.get(t))return xf.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=bf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yf.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return xf.set(t,a),a}pf(e=>({...e,get:(t,n,r)=>Sf(t,n)||e.get(t,n,r),has:(t,n)=>!!Sf(t,n)||e.has(t,n)}));var Cf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(wf(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function wf(e){return e.getComponent()?.type===`VERSION`}var Tf=`@firebase/app`,Ef=`0.14.6`,Df=new Qd(`@firebase/app`),Of=`@firebase/app-compat`,kf=`@firebase/analytics-compat`,Af=`@firebase/analytics`,jf=`@firebase/app-check-compat`,Mf=`@firebase/app-check`,Nf=`@firebase/auth`,Pf=`@firebase/auth-compat`,Ff=`@firebase/database`,If=`@firebase/data-connect`,Lf=`@firebase/database-compat`,Rf=`@firebase/functions`,zf=`@firebase/functions-compat`,Bf=`@firebase/installations`,Vf=`@firebase/installations-compat`,Hf=`@firebase/messaging`,Uf=`@firebase/messaging-compat`,Wf=`@firebase/performance`,Gf=`@firebase/performance-compat`,Kf=`@firebase/remote-config`,qf=`@firebase/remote-config-compat`,Jf=`@firebase/storage`,Yf=`@firebase/storage-compat`,Xf=`@firebase/firestore`,Zf=`@firebase/ai`,Qf=`@firebase/firestore-compat`,$f=`firebase`,ep=`12.6.0`,tp=`[DEFAULT]`,np={[Tf]:`fire-core`,[Of]:`fire-core-compat`,[Af]:`fire-analytics`,[kf]:`fire-analytics-compat`,[Mf]:`fire-app-check`,[jf]:`fire-app-check-compat`,[Nf]:`fire-auth`,[Pf]:`fire-auth-compat`,[Ff]:`fire-rtdb`,[If]:`fire-data-connect`,[Lf]:`fire-rtdb-compat`,[Rf]:`fire-fn`,[zf]:`fire-fn-compat`,[Bf]:`fire-iid`,[Vf]:`fire-iid-compat`,[Hf]:`fire-fcm`,[Uf]:`fire-fcm-compat`,[Wf]:`fire-perf`,[Gf]:`fire-perf-compat`,[Kf]:`fire-rc`,[qf]:`fire-rc-compat`,[Jf]:`fire-gcs`,[Yf]:`fire-gcs-compat`,[Xf]:`fire-fst`,[Qf]:`fire-fst-compat`,[Zf]:`fire-vertex`,"fire-js":`fire-js`,[$f]:`fire-js-all`},rp=new Map,ip=new Map,ap=new Map;function op(e,t){try{e.container.addComponent(t)}catch(n){Df.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function sp(e){let t=e.name;if(ap.has(t))return Df.debug(`There were multiple attempts to register component ${t}.`),!1;ap.set(t,e);for(let t of rp.values())op(t,e);for(let t of ip.values())op(t,e);return!0}function cp(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lp(e){return e==null?!1:e.settings!==void 0}var up=new Pd(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),dp=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bd(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw up.create(`app-deleted`,{appName:this._name})}},fp=ep;function pp(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:tp,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw up.create(`bad-app-name`,{appName:String(i)});if(n||=vd(),!n)throw up.create(`no-options`);let a=rp.get(i);if(a){if(Ld(n,a.options)&&Ld(r,a.config))return a;throw up.create(`duplicate-app`,{appName:i})}let o=new Gd(i);for(let e of ap.values())o.addComponent(e);let s=new dp(n,r,o);return rp.set(i,s),s}function mp(e=tp){let t=rp.get(e);if(!t&&e===`[DEFAULT]`&&vd())return pp();if(!t)throw up.create(`no-app`,{appName:e});return t}function hp(e,t,n){let r=np[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Df.warn(e.join(` `));return}sp(new Bd(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var gp=`firebase-heartbeat-database`,_p=1,vp=`firebase-heartbeat-store`,yp=null;function bp(){return yp||=vf(gp,_p,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vp)}catch(e){console.warn(e)}}}}).catch(e=>{throw up.create(`idb-open`,{originalErrorMessage:e.message})}),yp}async function xp(e){try{let t=(await bp()).transaction(vp),n=await t.objectStore(vp).get(Cp(e));return await t.done,n}catch(e){if(e instanceof Nd)Df.warn(e.message);else{let t=up.create(`idb-get`,{originalErrorMessage:e?.message});Df.warn(t.message)}}}async function Sp(e,t){try{let n=(await bp()).transaction(vp,`readwrite`);await n.objectStore(vp).put(t,Cp(e)),await n.done}catch(e){if(e instanceof Nd)Df.warn(e.message);else{let t=up.create(`idb-set`,{originalErrorMessage:e?.message});Df.warn(t.message)}}}function Cp(e){return`${e.name}!${e.options.appId}`}var wp=1024,Tp=30,Ep=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new kp(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Dp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>Tp){let e=jp(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Df.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Dp(),{heartbeatsToSend:t,unsentEntries:n}=Op(this._heartbeatsCache.heartbeats),r=ld(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Df.warn(e),``}}};function Dp(){return new Date().toISOString().substring(0,10)}function Op(e,t=wp){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ap(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ap(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var kp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ad()?jd().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await xp(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Sp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Sp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Ap(e){return ld(JSON.stringify({version:2,heartbeats:e})).length}function jp(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Mp(e){sp(new Bd(`platform-logger`,e=>new Cf(e),`PRIVATE`)),sp(new Bd(`heartbeat`,e=>new Ep(e),`PRIVATE`)),hp(Tf,Ef,e),hp(Tf,Ef,`esm2020`),hp(`fire-js`,``)}Mp(``);var Np=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Pp={},Fp,Ip;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=ee(n,1),a=ee(r,1);for(r=ee(r,2),n=ee(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=ee(r,1),n=ee(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function ee(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ip=Pp.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Fp=Pp.Integer=o}).apply(Np===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Np);var Lp=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Rp={},zp,Bp,Vp,Hp,Up,Wp,Gp,Kp;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof Lp==`object`&&Lp];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=te;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,ee=!1,te=new v,S=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(C)}};function C(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}ee=!1}function ne(){this.u=this.u,this.C=this.C}ne.prototype.u=!1,ne.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ne.prototype[Symbol.dispose]=function(){this.dispose()},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function ae(e){return/^[\s\xa0]*$/.test(e)}function oe(e,t){re.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(oe,re),oe.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var se=`closure_listenable_`+(Math.random()*1e6|0),ce=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ce,this.da=this.fa=!1}function ue(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function de(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function w(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function T(e){let t={};for(let n in e)t[n]=e[n];return t}let fe=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function pe(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<fe.length;t++)n=fe[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function me(e){this.src=e,this.g={},this.h=0}me.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=ge(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new le(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function he(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(ue(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ge(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var E=`closure_lm_`+(Math.random()*1e6|0),_e={};function ve(e,t,n,r,i){if(r&&r.once)return xe(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)ve(e,t[a],n,r,i);return null}return n=Oe(n),e&&e[se]?e.J(t,n,s(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=Ee(e);if(c||(e[E]=c=new me(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=be(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function be(){function e(n){return t.call(e.src,e.listener,n)}let t=Te;return e}function xe(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)xe(e,t[a],n,r,i);return null}return n=Oe(n),e&&e[se]?e.K(t,n,s(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function Se(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Se(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=Oe(n),e&&e[se]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=ge(t,n,r,i),n>-1&&(ue(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=Ee(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ge(t,n,r,i)),(n=e>-1?t[e]:null)&&Ce(n))}function Ce(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[se])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(he(n,e),n.h==0&&(n.src=null,t[E]=null)):ue(e)}}}function we(e){return e in _e?_e[e]:_e[e]=`on`+e}function Te(e,t){if(e.da)e=!0;else{t=new oe(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Ce(e),e=n.call(r,t)}return e}function Ee(e){return e=e[E],e instanceof me?e:null}var De=`__closure_events_fn_`+(Math.random()*1e9>>>0);function Oe(e){return typeof e==`function`?e:(e[De]||(e[De]=function(t){return e.handleEvent(t)}),e[De])}function ke(){ne.call(this),this.i=new me(this),this.M=this,this.G=null}d(ke,ne),ke.prototype[se]=!0,ke.prototype.removeEventListener=function(e,t,n,r){Se(this,e,t,n,r)};function Ae(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new re(t,e);else if(t instanceof re)t.target=t.target||e;else{var i=t;t=new re(r,e),pe(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=je(a,r,!0,t)&&i;if(a=t.g=e,i=je(a,r,!0,t)&&i,i=je(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=je(a,r,!1,t)&&i}ke.prototype.N=function(){if(ke.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)ue(n[e]);delete e.g[t],e.h--}}this.G=null},ke.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ke.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function je(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&he(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function Me(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function Ne(e){e.g=Me(()=>{e.g=null,e.i&&(e.i=!1,Ne(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Pe extends ne{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(e){ne.call(this),this.h=e,this.g={}}d(Fe,ne);var D=[];function Ie(e){de(e.g,function(e,t){this.g.hasOwnProperty(t)&&Ce(e)},e),e.g={}}Fe.prototype.N=function(){Fe.Z.N.call(this),Ie(this)},Fe.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Le=o.JSON.stringify,Re=o.JSON.parse,ze=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Be(){}function Ve(){}var He={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ue(){re.call(this,`d`)}d(Ue,re);function We(){re.call(this,`c`)}d(We,re);var Ge={},Ke=null;function qe(){return Ke||=new ke}Ge.Ia=`serverreachability`;function Je(e){re.call(this,Ge.Ia,e)}d(Je,re);function Ye(e){let t=qe();Ae(t,new Je(t))}Ge.STAT_EVENT=`statevent`;function Xe(e,t){re.call(this,Ge.STAT_EVENT,e),this.stat=t}d(Xe,re);function Ze(e){let t=qe();Ae(t,new Xe(t,e))}Ge.Ja=`timingevent`;function Qe(e,t){re.call(this,Ge.Ja,e),this.size=t}d(Qe,re);function $e(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function et(){this.g=!0}et.prototype.ua=function(){this.g=!1};function tt(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function nt(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function rt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+at(e,n)+(r?` `+r:``)})}function it(e,t){e.info(function(){return`TIMEOUT: `+t})}et.prototype.info=function(){};function at(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Le(a)}catch{return t}}var ot={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},st={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},ct;function lt(){}d(lt,Be),lt.prototype.g=function(){return new XMLHttpRequest},ct=new lt;function ut(e){return encodeURIComponent(String(e))}function dt(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function ft(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pt}function pt(){this.i=null,this.g=``,this.h=!1}var mt={},ht={};function gt(e,t,n){e.M=1,e.A=Ht(Rt(t)),e.u=n,e.R=!0,_t(e,null)}function _t(e,t){e.F=Date.now(),xt(e),e.B=Rt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),nn(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new pt,e.g=qn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Pe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(D[0]=i.toString()),i=D);for(let e=0;e<i.length;e++){let a=ve(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?T(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Ye(),tt(e.i,e.v,e.B,e.l,e.S,e.u)}ft.prototype.ba=function(e){e=e.target;let t=this.O;t&&Tn(e)==3?t.j():this.Y(e)},ft.prototype.Y=function(e){try{if(e==this.g)a:{let s=Tn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||s!=4||c==7||Ye(c==8||l<=0?3:2),Ct(this);var t=this.g.ca();this.X=t;var n=vt(this);if(this.o=t==200,nt(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!ae(r)){var a=r;break b}}a=null}if(e=a)rt(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,Et(this,e);else{this.o=!1,this.m=3,Ze(12),Tt(this),wt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=bt(this,n),t==ht){s==4&&(this.m=4,Ze(14),e=!1),rt(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==mt){this.m=4,Ze(15),rt(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else rt(this.i,this.l,t,null),Et(this,t);if(yt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Ze(16),e=!1),this.o=this.o&&e,!e)rt(this.i,this.l,n,`[Invalid Chunked Response]`),Tt(this),wt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),zn(o),o.P=!0,Ze(11))}}else rt(this.i,this.l,n,null),Et(this,n);s==4&&Tt(this),this.o&&!this.K&&(s==4?Hn(this.j,this):(this.o=!1,xt(this)))}else Dn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),Tt(this),wt(this)}}}catch{}};function vt(e){if(!yt(e))return e.g.la();let t=En(e.g);if(t===``)return``;let n=``,r=t.length,i=Tn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return Tt(e),wt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function yt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function bt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ht:(n=Number(t.substring(n,r)),isNaN(n)?mt:(r+=1,r+n>t.length?ht:(t=t.slice(r,r+n),e.C=r+n,t)))}ft.prototype.cancel=function(){this.K=!0,Tt(this)};function xt(e){e.T=Date.now()+e.H,St(e,e.H)}function St(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=$e(l(e.aa,e),t)}function Ct(e){e.D&&=(o.clearTimeout(e.D),null)}ft.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(it(this.i,this.B),this.M!=2&&(Ye(),Ze(17)),Tt(this),this.m=2,wt(this)):St(this,this.T-e)};function wt(e){e.j.I==0||e.K||Hn(e.j,e)}function Tt(e){Ct(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Et(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||jt(n.h,e))){if(!e.L&&jt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Vn(n),An(n);else break a;Rn(n),Ze(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=$e(l(n.Va,n),6e3));At(n.h)<=1&&n.ta&&(n.ta=void 0)}else Wn(n,11)}else if((e.L||n.g==e)&&Vn(n),!ae(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Mt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,O(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Kn(r,r.L?r.ba:null,r.W),o.L){Nt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Ct(s),xt(s)),r.g=o}else Ln(r);n.i.length>0&&Mn(n)}else l[0]!=`stop`&&l[0]!=`close`||Wn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Wn(n,7):k(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Ye(4)}catch{}}var Dt=class{constructor(e,t){this.g=e,this.map=t}};function Ot(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function At(e){return e.h?1:e.g?e.g.size:0}function jt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Mt(e,t){e.g?e.g.add(t):e.h=t}function Nt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ot.prototype.cancel=function(){if(this.i=Pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Pt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Ft=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function It(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Lt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Lt?(this.l=e.l,zt(this,e.j),this.o=e.o,this.g=e.g,Bt(this,e.u),this.h=e.h,Vt(this,rn(e.i)),this.m=e.m):e&&(t=String(e).match(Ft))?(this.l=!1,zt(this,t[1]||``,!0),this.o=Ut(t[2]||``),this.g=Ut(t[3]||``,!0),Bt(this,t[4]),this.h=Ut(t[5]||``,!0),Vt(this,t[6]||``,!0),this.m=Ut(t[7]||``)):(this.l=!1,this.i=new Zt(null,this.l))}Lt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Wt(t,Kt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Wt(t,Kt,!0),`@`),e.push(ut(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Wt(n,n.charAt(0)==`/`?Jt:qt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Wt(n,Xt)),e.join(``)},Lt.prototype.resolve=function(e){let t=Rt(this),n=!!e.j;n?zt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Bt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Vt(t,rn(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Rt(e){return new Lt(e)}function zt(e,t,n){e.j=n?Ut(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Vt(e,t,n){t instanceof Zt?(e.i=t,on(e.i,e.l)):(n||(t=Wt(t,Yt)),e.i=new Zt(t,e.l))}function O(e,t,n){e.i.set(t,n)}function Ht(e){return O(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Ut(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Wt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Gt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Kt=/[#\/\?@]/g,qt=/[#\?:]/g,Jt=/[#\?]/g,Yt=/[#\?@]/g,Xt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qt(e){e.g||(e.g=new Map,e.h=0,e.i&&It(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Zt.prototype,e.add=function(e,t){Qt(this),this.i=null,e=an(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $t(e,t){Qt(e),t=an(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function en(e,t){return Qt(e),t=an(e,t),e.g.has(t)}e.forEach=function(e,t){Qt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function tn(e,t){Qt(e);let n=[];if(typeof t==`string`)en(e,t)&&(n=n.concat(e.g.get(an(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Qt(this),this.i=null,e=an(this,e),en(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=tn(this,e),e.length>0?String(e[0]):t):t};function nn(e,t,n){$t(e,t),n.length>0&&(e.i=null,e.g.set(an(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=ut(n);n=tn(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+ut(n[t])),e.push(r)}}return this.i=e.join(`&`)};function rn(e){let t=new Zt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function on(e,t){t&&!e.j&&(Qt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&($t(this,t),nn(this,n,e))},e)),e.j=t}function sn(e,t){let n=new et;if(o.Image){let r=new Image;r.onload=u(ln,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(ln,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(ln,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(ln,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function cn(e,t){let n=new et,r=new AbortController,i=setTimeout(()=>{r.abort(),ln(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?ln(n,`TestPingServer: ok`,!0,t):ln(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),ln(n,`TestPingServer: error`,!1,t)})}function ln(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function un(){this.g=new ze}function dn(e){this.i=e.Sb||null,this.h=e.ab||!1}d(dn,Be),dn.prototype.g=function(){return new fn(this.i,this.h)};function fn(e,t){ke.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(fn,ke),e=fn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,hn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;pn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function pn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mn(this):hn(this),this.readyState==3&&pn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,mn(this))},e.Na=function(e){this.g&&(this.response=e,mn(this))},e.ga=function(){this.g&&mn(this)};function mn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,hn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function hn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(fn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function gn(e){let t=``;return de(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function _n(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=gn(n),typeof e==`string`||O(e,t,n))}function vn(e){ke.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(vn,ke);var yn=/^https?$/i,bn=[`POST`,`PUT`];e=vn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ct.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){xn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(bn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){xn(this,e)}};function xn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Sn(e),wn(e)}function Sn(e){e.A||(e.A=!0,Ae(e,`complete`),Ae(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Ae(this,`complete`),Ae(this,`abort`),wn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),vn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Cn(this):this.Xa())},e.Xa=function(){Cn(this)};function Cn(e){if(e.h&&a!==void 0){if(e.v&&Tn(e)==4)setTimeout(e.Ca.bind(e),0);else if(Ae(e,`readystatechange`),Tn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Ft)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!yn.test(t?t.toLowerCase():``)}n=r}if(n)Ae(e,`complete`),Ae(e,`success`);else{e.o=6;try{var i=Tn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,Sn(e)}}finally{wn(e)}}}}function wn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||Ae(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Tn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return Tn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Re(t)}};function En(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Dn(e){let t={};e=(e.g&&Tn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(ae(e[r]))continue;var n=dt(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}w(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function On(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kn(e){this.za=0,this.i=[],this.j=new et,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=On(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=On(`baseRetryDelayMs`,5e3,e),this.Za=On(`retryDelaySeedMs`,1e4,e),this.Ta=On(`forwardChannelMaxRetries`,2,e),this.va=On(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Ot(e&&e.concurrentRequestLimit),this.Ba=new un,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=kn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Ze(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Kn(this,null,this.W),Mn(this)};function k(e){if(jn(e),e.I==3){var t=e.V++,n=Rt(e.J);if(O(n,`SID`,e.M),O(n,`RID`,t),O(n,`TYPE`,`terminate`),Fn(e,n),t=new ft(e,e.j,t),t.M=2,t.A=Ht(Rt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=qn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),xt(t)}Gn(e)}function An(e){e.g&&=(zn(e),e.g.cancel(),null)}function jn(e){An(e),e.v&&=(o.clearTimeout(e.v),null),Vn(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Mn(e){if(!kt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||S(),ee||=(x(),!0),te.add(t,e),e.D=0}}function Nn(e,t){return At(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=$e(l(e.Ea,e,t),Un(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new ft(this,this.j,e),a=this.o;if(this.U&&(a?(a=T(a),pe(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=In(this,i,t),n=Rt(this.J),O(n,`RID`,e),O(n,`CVER`,22),this.G&&O(n,`X-HTTP-Session-Id`,this.G),Fn(this,n),a&&(this.R?t=`headers=`+ut(gn(a))+`&`+t:this.u&&_n(n,this.u,a)),Mt(this.h,i),this.Ra&&O(n,`TYPE`,`init`),this.S?(O(n,`$req`,t),O(n,`SID`,`null`),i.U=!0,gt(i,n,null)):gt(i,n,t),this.I=2}}else this.I==3&&(e?Pn(this,e):this.i.length==0||kt(this.h)||Pn(this))};function Pn(e,t){var n=t?t.l:e.V++;let r=Rt(e.J);O(r,`SID`,e.M),O(r,`RID`,n),O(r,`AID`,e.K),Fn(e,r),e.u&&e.o&&_n(r,e.u,e.o),n=new ft(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=In(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Mt(e.h,n),gt(n,r,t)}function Fn(e,t){e.H&&de(e.H,function(e,n){O(t,n,e)}),e.l&&de({},function(e,n){O(t,n,e)})}function In(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Le(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||S(),ee||=(x(),!0),te.add(t,e),e.A=0}}function Rn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=$e(l(e.Da,e),Un(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Bn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=$e(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Ze(10),An(this),Bn(this))};function zn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Bn(e){e.g=new ft(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Rt(e.na);O(t,`RID`,`rpc`),O(t,`SID`,e.M),O(t,`AID`,e.K),O(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&O(t,`TO`,e.ia),O(t,`TYPE`,`xmlhttp`),Fn(e,t),e.u&&e.o&&_n(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Ht(Rt(t)),n.u=null,n.R=!0,_t(n,e)}e.Va=function(){this.C!=null&&(this.C=null,An(this),Rn(this),Ze(19))};function Vn(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Hn(e,t){var n=null;if(e.g==t){Vn(e),zn(e),e.g=null;var r=2}else if(jt(e.h,t))n=t.G,Nt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=qe(),Ae(r,new Qe(r,n)),Mn(e)}else Ln(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Nn(e,t)||r==2&&Rn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Wn(e,5);break;case 4:Wn(e,10);break;case 3:Wn(e,6);break;default:Wn(e,2)}}}function Un(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Wn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Lt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||zt(r,`https`),Ht(r),t?sn(r.toString(),n):cn(r.toString(),n)}else Ze(2);e.I=0,e.l&&e.l.pa(t),Gn(e),jn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Ze(2)):(this.j.info(`Failed to ping google.com`),Ze(1))};function Gn(e){if(e.I=0,e.ja=[],e.l){let t=Pt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Kn(e,t,n){var r=n instanceof Lt?Rt(n):new Lt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Bt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Lt(null);r&&zt(e,r),t&&(e.g=t),i&&Bt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&O(r,n,t),O(r,`VER`,e.ka),Fn(e,r),r}function qn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new vn(new dn({ab:n})):new vn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jn(){}e=Jn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Yn(){}Yn.prototype.g=function(e,t){return new Xn(e,t)};function Xn(e,t){ke.call(this),this.g=new kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!ae(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!ae(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new $n(this)}d(Xn,ke),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){k(this.g)},Xn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Le(e),e=n);t.i.push(new Dt(t.Ya++,e)),t.I==3&&Mn(t)},Xn.prototype.N=function(){this.g.l=null,delete this.j,k(this.g),delete this.g,Xn.Z.N.call(this)};function Zn(e){Ue.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Zn,Ue);function Qn(){We.call(this),this.status=1}d(Qn,We);function $n(e){this.g=e}d($n,Jn),$n.prototype.ra=function(){Ae(this.g,`a`)},$n.prototype.qa=function(e){Ae(this.g,new Zn(e))},$n.prototype.pa=function(e){Ae(this.g,new Qn)},$n.prototype.oa=function(){Ae(this.g,`b`)},Yn.prototype.createWebChannel=Yn.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,Kp=Rp.createWebChannelTransport=function(){return new Yn},Gp=Rp.getStatEventTarget=function(){return qe()},Wp=Rp.Event=Ge,Up=Rp.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,Hp=Rp.ErrorCode=ot,st.COMPLETE=`complete`,Vp=Rp.EventType=st,Ve.EventType=He,He.OPEN=`a`,He.CLOSE=`b`,He.ERROR=`c`,He.MESSAGE=`d`,ke.prototype.listen=ke.prototype.J,Bp=Rp.WebChannel=Ve,Rp.FetchXmlHttpFactory=dn,vn.prototype.listenOnce=vn.prototype.K,vn.prototype.getLastError=vn.prototype.Ha,vn.prototype.getLastErrorCode=vn.prototype.ya,vn.prototype.getStatus=vn.prototype.ca,vn.prototype.getResponseJson=vn.prototype.La,vn.prototype.getResponseText=vn.prototype.la,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Fa,zp=Rp.XhrIo=vn}).apply(Lp===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Lp);var qp=`@firebase/firestore`,Jp=`4.9.2`,Yp=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Yp.UNAUTHENTICATED=new Yp(null),Yp.GOOGLE_CREDENTIALS=new Yp(`google-credentials-uid`),Yp.FIRST_PARTY=new Yp(`first-party-uid`),Yp.MOCK_USER=new Yp(`mock-user`);var Xp=`12.3.0`,Zp=new Qd(`@firebase/firestore`);function Qp(){return Zp.logLevel}function W(e,...t){if(Zp.logLevel<=qd.DEBUG){let n=t.map(tm);Zp.debug(`Firestore (${Xp}): ${e}`,...n)}}function $p(e,...t){if(Zp.logLevel<=qd.ERROR){let n=t.map(tm);Zp.error(`Firestore (${Xp}): ${e}`,...n)}}function em(e,...t){if(Zp.logLevel<=qd.WARN){let n=t.map(tm);Zp.warn(`Firestore (${Xp}): ${e}`,...n)}}function tm(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function G(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,nm(e,r,n)}function nm(e,t,n){let r=`FIRESTORE (${Xp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw $p(r),Error(r)}function rm(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||nm(t,i,r)}function K(e,t){return e}var q={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},J=class extends Nd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},im=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},am=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},om=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yp.UNAUTHENTICATED)))}shutdown(){}},sm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},cm=class{constructor(e){this.t=e,this.currentUser=Yp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rm(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new im;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new im,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{W(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(W(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new im)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(rm(typeof t.accessToken==`string`,31837,{l:t}),new am(t.accessToken,this.currentUser)):null:(W(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return rm(e===null||typeof e==`string`,2055,{h:e}),new Yp(e)}},lm=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Yp.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},um=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new lm(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},dm=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},fm=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rm(this.o===void 0,3512);let n=e=>{e.error!=null&&W(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,W(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{W(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):W(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new dm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(rm(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new dm(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pm(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var mm=class{static newId(){let e=``;for(;e.length<20;){let t=pm(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function Y(e,t){return e<t?-1:e>t?1:0}function hm(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return vm(n)===vm(i)?Y(n,i):vm(n)?1:-1}return Y(e.length,t.length)}var gm=55296,_m=57343;function vm(e){let t=e.charCodeAt(0);return t>=gm&&t<=_m}function ym(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var bm=`__name__`,xm=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&G(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return Y(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):hm(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return Fp.fromString(e.substring(4,e.length-2))}},Sm=class e extends xm{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new J(q.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},Cm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wm=class e extends xm{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return Cm.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bm}static keyField(){return new e([bm])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new J(q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new J(q.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new J(q.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new J(q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},X=class e{constructor(e){this.path=e}static fromPath(t){return new e(Sm.fromString(t))}static fromName(t){return new e(Sm.fromString(t).popFirst(5))}static empty(){return new e(Sm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sm.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Sm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new Sm(t.slice()))}};function Tm(e,t,n){if(!n)throw new J(q.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Em(e,t,n,r){if(!0===t&&!0===r)throw new J(q.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Dm(e){if(!X.isDocumentKey(e))throw new J(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Om(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function km(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:G(12329,{type:typeof e})}function Am(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(q.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=km(e);throw new J(q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function jm(e,t){let n={typeString:e};return t&&(n.value=t),n}function Mm(e,t){if(!Om(e))throw new J(q.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new J(q.INVALID_ARGUMENT,n);return!0}var Nm=-62135596800,Pm=1e6,Fm=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*Pm))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new J(q.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<Nm||e>=253402300800)throw new J(q.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pm}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Mm(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-Nm;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};Fm._jsonSchemaVersion=`firestore/timestamp/1.0`,Fm._jsonSchema={type:jm(`string`,Fm._jsonSchemaVersion),seconds:jm(`number`),nanoseconds:jm(`number`)};var Z=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new Fm(0,0))}static max(){return new e(new Fm(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},Im=-1,Lm=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};Lm.UNKNOWN_ID=-1;function Rm(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Bm(Z.fromTimestamp(r===1e9?new Fm(n+1,0):new Fm(n,r)),X.empty(),t)}function zm(e){return new Bm(e.readTime,e.key,Im)}var Bm=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(Z.min(),X.empty(),Im)}static max(){return new e(Z.max(),X.empty(),Im)}};function Vm(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=X.comparator(e.documentKey,t.documentKey),n===0?Y(e.largestBatchId,t.largestBatchId):n):n}var Hm=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Um=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Wm(e){if(e.code!==q.FAILED_PRECONDITION||e.message!==Hm)throw e;W(`LocalStore`,`Unexpectedly lost primary lease`)}var Q=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Gm(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Km(e){return e.name===`IndexedDbTransactionError`}var qm=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};qm.ce=-1;var Jm=-1;function Ym(e){return e==null}function Xm(e){return e===0&&1/e==-1/0}function Zm(e){return typeof e==`number`&&Number.isInteger(e)&&!Xm(e)&&e<=2**53-1&&e>=-(2**53-1)}var Qm=``;function $m(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=th(t)),t=eh(e.get(n),t);return th(t)}function eh(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Qm:n+=``;break;default:n+=r}}return n}function th(e){return e+Qm+``}function nh(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rh(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ih(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ah=class e{constructor(e,t){this.comparator=e,this.root=t||sh.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sh.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}},oh=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sh=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};sh.EMPTY=null,sh.RED=!0,sh.BLACK=!1,sh.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new sh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ch=class e{constructor(e){this.comparator=e,this.data=new ah(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lh(this.data.getIterator())}getIteratorFrom(e){return new lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},lh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},uh=class e{constructor(e){this.fields=e,e.sort(wm.comparator)}static empty(){return new e([])}unionWith(t){let n=new ch(wm.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ym(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},dh=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},fh=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new dh(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};fh.EMPTY_BYTE_STRING=new fh(``);var ph=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mh(e){if(rm(!!e,39018),typeof e==`string`){let t=0,n=ph.exec(e);if(rm(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hh(e.seconds),nanos:hh(e.nanos)}}function hh(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function gh(e){return typeof e==`string`?fh.fromBase64String(e):fh.fromUint8Array(e)}var _h=`server_timestamp`,vh=`__type__`,yh=`__previous_value__`,bh=`__local_write_time__`;function xh(e){return(e?.mapValue?.fields||{})[vh]?.stringValue===_h}function Sh(e){let t=e.mapValue.fields[yh];return xh(t)?Sh(t):t}function Ch(e){let t=mh(e.mapValue.fields[bh].timestampValue);return new Fm(t.seconds,t.nanos)}var wh=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},Th=`(default)`,Eh=class e{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===Th}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},Dh=`__type__`,Oh=`__max__`,kh={mapValue:{fields:{__type__:{stringValue:Oh}}}},Ah=`__vector__`,jh=`value`;function Mh(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?xh(e)?4:Jh(e)?9007199254740991:Kh(e)?10:11:G(28295,{value:e})}function Nh(e,t){if(e===t)return!0;let n=Mh(e);if(n!==Mh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ch(e).isEqual(Ch(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=mh(e.timestampValue),r=mh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gh(e.bytesValue).isEqual(gh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hh(e.geoPointValue.latitude)===hh(t.geoPointValue.latitude)&&hh(e.geoPointValue.longitude)===hh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return hh(e.integerValue)===hh(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=hh(e.doubleValue),r=hh(t.doubleValue);return n===r?Xm(n)===Xm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ym(e.arrayValue.values||[],t.arrayValue.values||[],Nh);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nh(n)!==nh(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!Nh(n[e],r[e])))return!1;return!0}(e,t);default:return G(52216,{left:e})}}function Ph(e,t){return(e.values||[]).find((e=>Nh(e,t)))!==void 0}function Fh(e,t){if(e===t)return 0;let n=Mh(e),r=Mh(t);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=hh(e.integerValue||e.doubleValue),r=hh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ih(e.timestampValue,t.timestampValue);case 4:return Ih(Ch(e),Ch(t));case 5:return hm(e.stringValue,t.stringValue);case 6:return function(e,t){let n=gh(e),r=gh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=Y(n[e],r[e]);if(t!==0)return t}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=Y(hh(e.latitude),hh(t.latitude));return n===0?Y(hh(e.longitude),hh(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return Lh(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[jh]?.arrayValue,a=r[jh]?.arrayValue,o=Y(i?.values?.length||0,a?.values?.length||0);return o===0?Lh(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===kh.mapValue&&t===kh.mapValue)return 0;if(e===kh.mapValue)return 1;if(t===kh.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=hm(r[e],a[e]);if(t!==0)return t;let o=Fh(n[r[e]],i[a[e]]);if(o!==0)return o}return Y(r.length,a.length)}(e.mapValue,t.mapValue);default:throw G(23264,{he:n})}}function Ih(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return Y(e,t);let n=mh(e),r=mh(t),i=Y(n.seconds,r.seconds);return i===0?Y(n.nanos,r.nanos):i}function Lh(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=Fh(n[e],r[e]);if(t)return t}return Y(n.length,r.length)}function Rh(e){return zh(e)}function zh(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=mh(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return gh(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return X.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=zh(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${zh(e.fields[i])}`;return n+`}`}(e.mapValue):G(61005,{value:e})}function Bh(e){switch(Mh(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=Sh(e);return t?16+Bh(t):16;case 5:return 2*e.stringValue.length;case 6:return gh(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Bh(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return rh(e.fields,((e,n)=>{t+=e.length+Bh(n)})),t}(e.mapValue);default:throw G(13486,{value:e})}}function Vh(e){return!!e&&`integerValue`in e}function Hh(e){return!!e&&`arrayValue`in e}function Uh(e){return!!e&&`nullValue`in e}function Wh(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function Gh(e){return!!e&&`mapValue`in e}function Kh(e){return(e?.mapValue?.fields||{})[Dh]?.stringValue===Ah}function qh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return rh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=qh(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qh(e.arrayValue.values[n]);return t}return{...e}}function Jh(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Oh}var Yh=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qh(t)}setAll(e){let t=wm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=qh(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());Gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){rh(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(qh(this.value))}};function Xh(e){let t=[];return rh(e.fields,((e,n)=>{let r=new wm([e]);if(Gh(n)){let e=Xh(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new uh(t)}var Zh=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,Z.min(),Z.min(),Z.min(),Yh.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,Z.min(),Z.min(),Yh.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,Z.min(),Z.min(),Yh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Qh=class{constructor(e,t){this.position=e,this.inclusive=t}};function $h(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?X.comparator(X.fromName(o.referenceValue),n.key):Fh(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function eg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nh(e.position[n],t.position[n]))return!1;return!0}var tg=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function ng(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var rg=class{},ig=class e extends rg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new fg(t,n,r):n===`array-contains`?new gg(t,r):n===`in`?new _g(t,r):n===`not-in`?new vg(t,r):n===`array-contains-any`?new yg(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new pg(e,n):new mg(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fh(t,this.value)):t!==null&&Mh(this.value)===Mh(t)&&this.matchesComparison(Fh(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ag=class e extends rg{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return og(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function og(e){return e.op===`and`}function sg(e){return cg(e)&&og(e)}function cg(e){for(let t of e.filters)if(t instanceof ag)return!1;return!0}function lg(e){if(e instanceof ig)return e.field.canonicalString()+e.op.toString()+Rh(e.value);if(sg(e))return e.filters.map((e=>lg(e))).join(`,`);{let t=e.filters.map((e=>lg(e))).join(`,`);return`${e.op}(${t})`}}function ug(e,t){return e instanceof ig?function(e,t){return t instanceof ig&&e.op===t.op&&e.field.isEqual(t.field)&&Nh(e.value,t.value)}(e,t):e instanceof ag?function(e,t){return t instanceof ag&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&ug(n,t.filters[r])),!0):!1}(e,t):void G(19439)}function dg(e){return e instanceof ig?function(e){return`${e.field.canonicalString()} ${e.op} ${Rh(e.value)}`}(e):e instanceof ag?function(e){return e.op.toString()+` {`+e.getFilters().map(dg).join(` ,`)+`}`}(e):`Filter`}var fg=class extends ig{constructor(e,t,n){super(e,t,n),this.key=X.fromName(n.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},pg=class extends ig{constructor(e,t){super(e,`in`,t),this.keys=hg(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},mg=class extends ig{constructor(e,t){super(e,`not-in`,t),this.keys=hg(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function hg(e,t){return(t.arrayValue?.values||[]).map((e=>X.fromName(e.referenceValue)))}var gg=class extends ig{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Hh(t)&&Ph(t.arrayValue,this.value)}},_g=class extends ig{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ph(this.value.arrayValue,t)}},vg=class extends ig{constructor(e,t){super(e,`not-in`,t)}matches(e){if(Ph(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ph(this.value.arrayValue,t)}},yg=class extends ig{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Hh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ph(this.value.arrayValue,e)))}},bg=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function xg(e,t=null,n=[],r=[],i=null,a=null,o=null){return new bg(e,t,n,r,i,a,o)}function Sg(e){let t=K(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>lg(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Ym(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>Rh(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>Rh(e))).join(`,`)),t.Te=e}return t.Te}function Cg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ng(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ug(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eg(e.startAt,t.startAt)&&eg(e.endAt,t.endAt)}function wg(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Tg=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Eg(e,t,n,r,i,a,o,s){return new Tg(e,t,n,r,i,a,o,s)}function Dg(e){return new Tg(e)}function Og(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function kg(e){return e.collectionGroup!==null}function Ag(e){let t=K(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new ch(wm.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new tg(r,n))})),e.has(wm.keyField().canonicalString())||t.Ie.push(new tg(wm.keyField(),n))}return t.Ie}function jg(e){let t=K(e);return t.Ee||=Mg(t,Ag(e)),t.Ee}function Mg(e,t){if(e.limitType===`F`)return xg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new tg(e.field,t)}));let n=e.endAt?new Qh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qh(e.startAt.position,e.startAt.inclusive):null;return xg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ng(e,t,n){return new Tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pg(e,t){return Cg(jg(e),jg(t))&&e.limitType===t.limitType}function Fg(e){return`${Sg(jg(e))}|lt:${e.limitType}`}function Ig(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>dg(e))).join(`, `)}]`),Ym(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>Rh(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>Rh(e))).join(`,`)),`Target(${t})`}(jg(e))}; limitType=${e.limitType})`}function Lg(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?X.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of Ag(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=$h(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ag(e),t)||e.endAt&&!function(e,t,n){let r=$h(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ag(e),t))}(e,t)}function Rg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zg(e){return(t,n)=>{let r=!1;for(let i of Ag(e)){let e=Bg(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function Bg(e,t,n){let r=e.field.isKeyField()?X.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?Fh(r,i):G(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return G(19790,{direction:e.dir})}}var Vg=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rh(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return ih(this.inner)}size(){return this.innerSize}},Hg=new ah(X.comparator);function Ug(){return Hg}var Wg=new ah(X.comparator);function Gg(...e){let t=Wg;for(let n of e)t=t.insert(n.key,n);return t}function Kg(e){let t=Wg;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function qg(){return Yg()}function Jg(){return Yg()}function Yg(){return new Vg((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Xg=new ah(X.comparator),Zg=new ch(X.comparator);function $(...e){let t=Zg;for(let n of e)t=t.add(n);return t}var Qg=new ch(Y);function $g(){return Qg}function e_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Xm(t)?`-0`:t}}function t_(e){return{integerValue:``+e}}function n_(e,t){return Zm(t)?t_(t):e_(e,t)}var r_=class{constructor(){this._=void 0}};function i_(e,t,n){return e instanceof s_?function(e,t){let n={fields:{[vh]:{stringValue:_h},[bh]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xh(t)&&(t=Sh(t)),t&&(n.fields[yh]=t),{mapValue:n}}(n,t):e instanceof c_?l_(e,t):e instanceof u_?d_(e,t):function(e,t){let n=o_(e,t),r=p_(n)+p_(e.Ae);return Vh(n)&&Vh(e.Ae)?t_(r):e_(e.serializer,r)}(e,t)}function a_(e,t,n){return e instanceof c_?l_(e,t):e instanceof u_?d_(e,t):n}function o_(e,t){return e instanceof f_?function(e){return Vh(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var s_=class extends r_{},c_=class extends r_{constructor(e){super(),this.elements=e}};function l_(e,t){let n=m_(t);for(let t of e.elements)n.some((e=>Nh(e,t)))||n.push(t);return{arrayValue:{values:n}}}var u_=class extends r_{constructor(e){super(),this.elements=e}};function d_(e,t){let n=m_(t);for(let t of e.elements)n=n.filter((e=>!Nh(e,t)));return{arrayValue:{values:n}}}var f_=class extends r_{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function p_(e){return hh(e.integerValue||e.doubleValue)}function m_(e){return Hh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function h_(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof c_&&t instanceof c_||e instanceof u_&&t instanceof u_?ym(e.elements,t.elements,Nh):e instanceof f_&&t instanceof f_?Nh(e.Ae,t.Ae):e instanceof s_&&t instanceof s_}(e.transform,t.transform)}var g_=class{constructor(e,t){this.version=e,this.transformResults=t}},__=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function v_(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var y_=class{};function b_(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new A_(e.key,__.none()):new T_(e.key,e.data,__.none());{let n=e.data,r=Yh.empty(),i=new ch(wm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new E_(e.key,r,new uh(i.toArray()),__.none())}}function x_(e,t,n){e instanceof T_?function(e,t,n){let r=e.value.clone(),i=O_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof E_?function(e,t,n){if(!v_(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=O_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(D_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function S_(e,t,n,r){return e instanceof T_?function(e,t,n,r){if(!v_(e.precondition,t))return n;let i=e.value.clone(),a=k_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof E_?function(e,t,n,r){if(!v_(e.precondition,t))return n;let i=k_(e.fieldTransforms,r,t),a=t.data;return a.setAll(D_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return v_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function C_(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=o_(r.transform,e||null);i!=null&&(n===null&&(n=Yh.empty()),n.set(r.field,i))}return n||null}function w_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&ym(e,t,((e,t)=>h_(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var T_=class extends y_{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},E_=class extends y_{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function D_(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function O_(e,t,n){let r=new Map;rm(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,a_(o,s,n[i]))}return r}function k_(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,i_(e,a,t))}return r}var A_=class extends y_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},j_=class extends y_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},M_=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&x_(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=S_(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=S_(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Jg();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=b_(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Z.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$())}isEqual(e){return this.batchId===e.batchId&&ym(this.mutations,e.mutations,((e,t)=>w_(e,t)))&&ym(this.baseMutations,e.baseMutations,((e,t)=>w_(e,t)))}},N_=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){rm(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Xg}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},P_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},F_=class{constructor(e,t){this.count=e,this.unchangedNames=t}},I_,L_;function R_(e){switch(e){case q.OK:return G(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return G(15467,{code:e})}}function z_(e){if(e===void 0)return $p(`GRPC error has no .code`),q.UNKNOWN;switch(e){case I_.OK:return q.OK;case I_.CANCELLED:return q.CANCELLED;case I_.UNKNOWN:return q.UNKNOWN;case I_.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case I_.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case I_.INTERNAL:return q.INTERNAL;case I_.UNAVAILABLE:return q.UNAVAILABLE;case I_.UNAUTHENTICATED:return q.UNAUTHENTICATED;case I_.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case I_.NOT_FOUND:return q.NOT_FOUND;case I_.ALREADY_EXISTS:return q.ALREADY_EXISTS;case I_.PERMISSION_DENIED:return q.PERMISSION_DENIED;case I_.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case I_.ABORTED:return q.ABORTED;case I_.OUT_OF_RANGE:return q.OUT_OF_RANGE;case I_.UNIMPLEMENTED:return q.UNIMPLEMENTED;case I_.DATA_LOSS:return q.DATA_LOSS;default:return G(39323,{code:e})}}(L_=I_||={})[L_.OK=0]=`OK`,L_[L_.CANCELLED=1]=`CANCELLED`,L_[L_.UNKNOWN=2]=`UNKNOWN`,L_[L_.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,L_[L_.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,L_[L_.NOT_FOUND=5]=`NOT_FOUND`,L_[L_.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,L_[L_.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,L_[L_.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,L_[L_.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,L_[L_.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,L_[L_.ABORTED=10]=`ABORTED`,L_[L_.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,L_[L_.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,L_[L_.INTERNAL=13]=`INTERNAL`,L_[L_.UNAVAILABLE=14]=`UNAVAILABLE`,L_[L_.DATA_LOSS=15]=`DATA_LOSS`;var B_=null;function V_(){return new TextEncoder}var H_=new Fp([4294967295,4294967295],0);function U_(e){let t=V_().encode(e),n=new Ip;return n.update(t),new Uint8Array(n.digest())}function W_(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Fp([n,r],0),new Fp([i,a],0)]}var G_=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new K_(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new K_(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new K_(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fp.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Fp.fromNumber(n)));return r.compare(H_)===1&&(r=new Fp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=W_(U_(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=W_(U_(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},K_=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},q_=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,J_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Z.min(),i,new ah(Y),Ug(),$())}},J_=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,$(),$(),$())}},Y_=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},X_=class{constructor(e,t){this.targetId=e,this.Ce=t}},Z_=class{constructor(e,t,n=fh.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},Q_=class{constructor(){this.ve=0,this.Fe=tv(),this.Me=fh.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$(),t=$(),n=$();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:G(38017,{changeType:i})}})),new J_(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,rm(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},$_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ug(),this.Je=ev(),this.He=ev(),this.Ye=new ah(Y)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:G(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(wg(i))if(n===0){let e=new X(i.path);this.et(t,e,Zh.newNoDocument(e,Z.min()))}else rm(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}B_?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=gh(n).toUint8Array()}catch(e){if(e instanceof dh)return em(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new G_(a,r,i)}catch(e){return em(e instanceof K_?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&wg(i.target)){let t=new X(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Zh.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=$();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new q_(e,t,this.Ye,this.je,n);return this.je=Ug(),this.Je=ev(),this.He=ev(),this.Ye=new ah(Y),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Q_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ch(Y),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ch(Y),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||W(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function ev(){return new ah(X.comparator)}function tv(){return new ah(X.comparator)}var nv=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),rv=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),iv=(()=>({and:`AND`,or:`OR`}))(),av=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ov(e,t){return e.useProto3Json||Ym(t)?t:{value:t}}function sv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function cv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lv(e,t){return sv(e,t.toTimestamp())}function uv(e){return rm(!!e,49232),Z.fromTimestamp(function(e){let t=mh(e);return new Fm(t.seconds,t.nanos)}(e))}function dv(e,t){return fv(e,t).canonicalString()}function fv(e,t){let n=function(e){return new Sm([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function pv(e){let t=Sm.fromString(e);return rm(Iv(t),10190,{key:t.toString()}),t}function mv(e,t){return dv(e.databaseId,t.path)}function hv(e,t){let n=pv(t);if(n.get(1)!==e.databaseId.projectId)throw new J(q.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(q.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new X(yv(n))}function gv(e,t){return dv(e.databaseId,t)}function _v(e){let t=pv(e);return t.length===4?Sm.emptyPath():yv(t)}function vv(e){return new Sm([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function yv(e){return rm(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function bv(e,t,n){return{name:mv(e,t),fields:n.value.mapValue.fields}}function xv(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:G(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(rm(t===void 0||typeof t==`string`,58123),fh.fromBase64String(t||``)):(rm(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),fh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Z_(r,i,a,o&&function(e){return new J(e.code===void 0?q.UNKNOWN:z_(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=hv(e,r.document.name),a=uv(r.document.updateTime),o=r.document.createTime?uv(r.document.createTime):Z.min(),s=new Yh({mapValue:{fields:r.document.fields}}),c=Zh.newFoundDocument(i,a,o,s);n=new Y_(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=hv(e,r.document),a=r.readTime?uv(r.readTime):Z.min(),o=Zh.newNoDocument(i,a);n=new Y_([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=hv(e,r.document);n=new Y_([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return G(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new F_(r,i),o=e.targetId;n=new X_(o,a)}}return n}function Sv(e,t){let n;if(t instanceof T_)n={update:bv(e,t.key,t.value)};else if(t instanceof A_)n={delete:mv(e,t.key)};else if(t instanceof E_)n={update:bv(e,t.key,t.data),updateMask:Fv(t.fieldMask)};else{if(!(t instanceof j_))return G(16599,{Vt:t.type});n={verify:mv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof s_)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof c_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof u_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof f_)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw G(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?G(27497):{exists:t.exists}:{updateTime:lv(e,t.updateTime)}}(e,t.precondition)),n}function Cv(e,t){return e&&e.length>0?(rm(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?uv(e.updateTime):uv(t);return n.isEqual(Z.min())&&(n=uv(t)),new g_(n,e.transformResults||[])}(e,t)))):[]}function wv(e,t){return{documents:[gv(e,t.path)]}}function Tv(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=gv(e,i);let a=function(e){if(e.length!==0)return Pv(ag.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:Mv(e.field),direction:kv(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=ov(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Ev(e){let t=_v(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rm(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=Ov(e);return t instanceof ag&&sg(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new tg(Nv(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Ym(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Qh(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Qh(e.values||[],t)}(n.endAt)),Eg(t,i,o,a,s,`F`,c,l)}function Dv(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return G(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ov(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?G(30097,{filter:e}):function(e){return ag.create(e.compositeFilter.filters.map((e=>Ov(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return G(1026)}}(e.compositeFilter.op))}(e):function(e){return ig.create(Nv(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return G(58110);default:return G(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=Nv(e.unaryFilter.field);return ig.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=Nv(e.unaryFilter.field);return ig.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=Nv(e.unaryFilter.field);return ig.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=Nv(e.unaryFilter.field);return ig.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return G(61313);default:return G(60726)}}(e)}function kv(e){return nv[e]}function Av(e){return rv[e]}function jv(e){return iv[e]}function Mv(e){return{fieldPath:e.canonicalString()}}function Nv(e){return wm.fromServerFormat(e.fieldPath)}function Pv(e){return e instanceof ig?function(e){if(e.op===`==`){if(Wh(e.value))return{unaryFilter:{field:Mv(e.field),op:`IS_NAN`}};if(Uh(e.value))return{unaryFilter:{field:Mv(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(Wh(e.value))return{unaryFilter:{field:Mv(e.field),op:`IS_NOT_NAN`}};if(Uh(e.value))return{unaryFilter:{field:Mv(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:Mv(e.field),op:Av(e.op),value:e.value}}}(e):e instanceof ag?function(e){let t=e.getFilters().map((e=>Pv(e)));return t.length===1?t[0]:{compositeFilter:{op:jv(e.op),filters:t}}}(e):G(54877,{filter:e})}function Fv(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Iv(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var Lv=class e{constructor(e,t,n,r,i=Z.min(),a=Z.min(),o=fh.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Rv=class{constructor(e){this.yt=e}};function zv(e){let t=Ev({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?Ng(t,t.limit,`L`):t}var Bv=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(hh(e.integerValue));else if(`doubleValue`in e){let n=hh(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Xm(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=mh(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(gh(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Jh(e)?this.Ft(t,2**53-1):Kh(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):G(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=jh,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(hh(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),X.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Bv.Kt=new Bv;var Vv=class{constructor(){this.Cn=new Hv}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Bm.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Bm.min())}updateCollectionGroup(e,t,n){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}},Hv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ch(Sm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ch(Sm.comparator)).toArray()}};new Uint8Array;var Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wv=41943040,Gv=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Gv.DEFAULT_COLLECTION_PERCENTILE=10,Gv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gv.DEFAULT=new Gv(Wv,Gv.DEFAULT_COLLECTION_PERCENTILE,Gv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gv.DISABLED=new Gv(-1,0,0);var Kv=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},qv=`LruGarbageCollector`,Jv=1048576;function Yv([e,t],[n,r]){let i=Y(e,n);return i===0?Y(t,r):i}var Xv=class{constructor(e){this.Ir=e,this.buffer=new ch(Yv),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Yv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},Zv=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){W(qv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Km(e)?W(qv,`Ignoring IndexedDB error during garbage collection: `,e):await Wm(e)}await this.Vr(3e5)}))}},Qv=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(qm.ce);let n=new Xv(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W(`LruGarbageCollector`,`Garbage collection skipped; disabled`),Q.resolve(Uv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(W(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(W(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Qp()<=qd.DEBUG&&W(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function $v(e,t){return new Qv(e,t)}var ey=class{constructor(){this.changes=new Vg((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):Q.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},ty=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},ny=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&S_(n.mutation,e,uh.empty(),Fm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,$()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=$()){let r=qg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Gg();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=qg();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,$())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ug(),a=Yg(),o=function(){return Yg()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof E_)?i=i.insert(t.key,t):o===void 0?a.set(t.key,uh.empty()):(a.set(t.key,o.mutation.getFieldMask()),S_(o.mutation,t,o.mutation.getFieldMask(),Fm.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new ty(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Yg(),r=new ah(((e,t)=>e-t)),i=$();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||uh.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||$()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Jg();c.forEach((e=>{if(!i.has(e)){let r=b_(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return Q.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Q.resolve(qg()),o=Im,s=i;return a.next((t=>Q.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Q.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,$()))).next((e=>({batchId:o,changes:Kg(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next((e=>{let t=Gg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=Gg();return this.indexManager.getCollectionParents(e,i).next((o=>Q.forEach(o,(o=>{let s=function(e,t){return new Tg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Zh.newInvalidDocument(r)))}));let n=Gg();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&S_(a.mutation,r,uh.empty(),Fm.now()),Lg(t,r)&&(n=n.insert(e,r))})),n}))}},ry=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:uv(e.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:zv(e.bundledQuery),readTime:uv(e.readTime)}}(t)),Q.resolve()}},iy=class{constructor(){this.overlays=new ah(X.comparator),this.qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){let n=qg();return Q.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Q.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),Q.resolve()}getOverlaysForCollection(e,t,n){let r=qg(),i=t.length+1,a=new X(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ah(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=qg(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=qg(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Q.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new P_(t,n));let i=this.qr.get(t);i===void 0&&(i=$(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},ay=class{constructor(){this.sessionToken=fh.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}},oy=class{constructor(){this.Qr=new ch(sy.$r),this.Ur=new ch(sy.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new sy(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new sy(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new X(new Sm([])),n=new sy(t,e),r=new sy(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new X(new Sm([])),n=new sy(t,e),r=new sy(t,e+1),i=$();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new sy(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},sy=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return X.comparator(e.key,t.key)||Y(e.Yr,t.Yr)}static Kr(e,t){return Y(e.Yr,t.Yr)||X.comparator(e.key,t.key)}},cy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ch(sy.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new M_(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new sy(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,t){return Q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new sy(t,0),r=new sy(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ch(Y);return t.forEach((e=>{let t=new sy(e,0),r=new sy(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),Q.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;X.isDocumentKey(i)||(i=i.child(``));let a=new sy(new X(i),0),o=new ch(Y);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),Q.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){rm(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return Q.forEach(t.mutations,(r=>{let i=new sy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new sy(t,0),r=this.Zr.firstAfterOrEqual(n);return Q.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},ly=class{constructor(e){this.ri=e,this.docs=function(){return new ah(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return Q.resolve(n?n.document.mutableCopy():Zh.newInvalidDocument(t))}getEntries(e,t){let n=Ug();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Zh.newInvalidDocument(e))})),Q.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ug(),a=t.path,o=new X(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Vm(zm(o),n)<=0||(r.has(o.key)||Lg(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,t,n,r){G(9500)}ii(e,t){return Q.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new uy(this)}getSize(e){return Q.resolve(this.size)}},uy=class extends ey{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},dy=class{constructor(e){this.persistence=e,this.si=new Vg((e=>Sg(e)),Cg),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.oi=0,this._i=new oy,this.targetCount=0,this.ai=Kv.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Q.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Kv(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Pr(t),Q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,Q.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Q.waitFor(i).next((()=>r))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return Q.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Q.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return Q.resolve(n)}containsKey(e,t){return Q.resolve(this._i.containsKey(t))}},fy=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new qm(0),this.li=!1,this.li=!0,this.hi=new ay,this.referenceDelegate=e(this),this.Pi=new dy(this),this.indexManager=new Vv,this.remoteDocumentCache=function(e){return new ly(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new Rv(t),this.Ii=new ry(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new cy(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){W(`MemoryPersistence`,`Starting transaction:`,e);let r=new py(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return Q.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},py=class extends Um{constructor(e){super(),this.currentSequenceNumber=e}},my=class e{constructor(e){this.persistence=e,this.Ri=new oy,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw G(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Q.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(n=>{let r=X.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,Z.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},hy=class e{constructor(e,t){this.persistence=e,this.pi=new Vg((e=>$m(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=$v(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return Q.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?Q.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Z.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bh(e.data.value)),t}br(e,t,n){return Q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return Q.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},gy=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=$(),i=$();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},_y=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},vy=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kd()?8:Gm(Od())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new _y;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Qp()<=qd.DEBUG&&W(`QueryEngine`,`SDK will not create cache indexes for query:`,Ig(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),Q.resolve()):(Qp()<=qd.DEBUG&&W(`QueryEngine`,`Query:`,Ig(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(Qp()<=qd.DEBUG&&W(`QueryEngine`,`The SDK decides to create cache indexes for query:`,Ig(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,jg(t))):Q.resolve())}ys(e,t){if(Og(t))return Q.resolve(null);let n=jg(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Ng(t,null,`F`),n=jg(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=$(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,Ng(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return Og(t)||r.isEqual(Z.min())?Q.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?Q.resolve(null):(Qp()<=qd.DEBUG&&W(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),Ig(t)),this.vs(e,a,t,Rm(r,Im)).next((e=>e)))}))}Ds(e,t){let n=new ch(zg(e));return t.forEach(((t,r)=>{Lg(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Qp()<=qd.DEBUG&&W(`QueryEngine`,`Using full collection scan to execute query:`,Ig(t)),this.ps.getDocumentsMatchingQuery(e,t,Bm.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},yy=`LocalStore`,by=3e8,xy=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ah(Y),this.xs=new Vg((e=>Sg(e)),Cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ny(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function Sy(e,t,n,r){return new xy(e,t,n,r)}async function Cy(e,t){let n=K(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=$();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function wy(e,t){let n=K(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=Q.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);rm(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=$();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function Ty(e){let t=K(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Ey(e,t){let n=K(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(fh.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=by?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=Ug(),c=$();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Dy(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(Z.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Q.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function Dy(e,t,n){let r=$(),i=$();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ug();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Z.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):W(yy,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function Oy(e,t){let n=K(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ky(e,t){let n=K(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,Q.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new Lv(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function Ay(e,t,n){let r=K(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Km(e))throw e;W(yy,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function jy(e,t,n){let r=K(e),i=Z.min(),a=$();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=K(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):Q.resolve(r.Ms.get(i))}(r,e,jg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Z.min(),n?a:$()))).next((e=>(My(r,Rg(t),e),{documents:e,Qs:a})))))}function My(e,t,n){let r=e.Os.get(t)||Z.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var Ny=class{constructor(){this.activeTargetIds=$g()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Py=class{constructor(){this.Mo=new Ny,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ny,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},Fy=class{Oo(e){}shutdown(){}},Iy=`ConnectivityMonitor`,Ly=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){W(Iy,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){W(Iy,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Ry=null;function zy(){return Ry===null?Ry=function(){return 268435456+Math.round(2147483648*Math.random())}():Ry++,`0x`+Ry.toString(16)}var By=`RestConnection`,Vy={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},Hy=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Th?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=zy(),o=this.zo(e,t.toUriEncodedString());W(By,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=bd(c);return this.Jo(e,o,s,n,l).then((t=>(W(By,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw em(By,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Xp}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=Vy[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},Uy=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},Wy=`WebChannelConnection`,Gy=class extends Hy{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=zy();return new Promise(((i,o)=>{let s=new zp;s.setWithCredentials(!0),s.listenOnce(Vp.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Hp.NO_ERROR:let t=s.getResponseJson();W(Wy,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Hp.TIMEOUT:W(Wy,`RPC '${e}' ${a} timed out`),o(new J(q.DEADLINE_EXCEEDED,`Request time out`));break;case Hp.HTTP_ERROR:let n=s.getStatus();if(W(Wy,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new J(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(q).indexOf(t)>=0?t:q.UNKNOWN}(t.status),t.message)):o(new J(q.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new J(q.UNAVAILABLE,`Connection failed.`));break;default:G(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{W(Wy,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);W(Wy,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=zy(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Kp(),o=Gp(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);W(Wy,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new Uy({Yo:t=>{f?W(Wy,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(W(Wy,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),W(Wy,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Bp.EventType.OPEN,(()=>{f||(W(Wy,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,Bp.EventType.CLOSE,(()=>{f||(f=!0,W(Wy,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,Bp.EventType.ERROR,(t=>{f||(f=!0,em(Wy,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new J(q.UNAVAILABLE,`The operation could not be completed`)))})),m(u,Bp.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];rm(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){W(Wy,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=I_[e];if(t!==void 0)return z_(t)}(t),i=a.message;n===void 0&&(n=q.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new J(n,i)),u.close()}else W(Wy,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,Wp.STAT_EVENT,(t=>{t.stat===Up.PROXY?W(Wy,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Up.NOPROXY&&W(Wy,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function Ky(){return typeof document<`u`?document:null}function qy(e){return new av(e,!0)}var Jy=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&W(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},Yy=`PersistentStream`,Xy=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jy(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===q.RESOURCE_EXHAUSTED?($p(t.toString()),$p(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new J(q.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return W(Yy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(W(Yy,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Zy=class extends Xy{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=xv(this.serializer,e),n=function(e){if(!(`targetChange`in e))return Z.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?Z.min():t.readTime?uv(t.readTime):Z.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=vv(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=wg(r)?{documents:wv(e,r)}:{query:Tv(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=cv(e,t.resumeToken);let r=ov(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Z.min())>0){n.readTime=sv(e,t.snapshotVersion.toTimestamp());let r=ov(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=Dv(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=vv(this.serializer),t.removeTarget=e,this.q_(t)}},Qy=class extends Xy{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return rm(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rm(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rm(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=Cv(e.writeResults,e.commitTime),n=uv(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=vv(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>Sv(this.serializer,e)))};this.q_(t)}},$y=class{},eb=class extends $y{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new J(q.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,fv(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new J(q.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,fv(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new J(q.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},tb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($p(t),this.aa=!1):W(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},nb=`RemoteStore`,rb=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{fb(this)&&(W(nb,`Restarting streams for network reachability change.`),await async function(e){let t=K(e);t.Ea.add(4),await ab(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await ib(t)}(this))}))})),this.Ra=new tb(n,r)}};async function ib(e){if(fb(e))for(let t of e.da)await t(!0)}async function ab(e){for(let t of e.da)await t(!1)}function ob(e,t){let n=K(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),db(n)?ub(n):jb(n).O_()&&cb(n,t))}function sb(e,t){let n=K(e),r=jb(n);n.Ia.delete(t),r.O_()&&lb(n,t),n.Ia.size===0&&(r.O_()?r.L_():fb(n)&&n.Ra.set(`Unknown`))}function cb(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jb(e).Y_(t)}function lb(e,t){e.Va.Ue(t),jb(e).Z_(t)}function ub(e){e.Va=new $_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),jb(e).start(),e.Ra.ua()}function db(e){return fb(e)&&!jb(e).x_()&&e.Ia.size>0}function fb(e){return K(e).Ea.size===0}function pb(e){e.Va=void 0}async function mb(e){e.Ra.set(`Online`)}async function hb(e){e.Ia.forEach(((t,n)=>{cb(e,t)}))}async function gb(e,t){pb(e),db(e)?(e.Ra.ha(t),ub(e)):e.Ra.set(`Unknown`)}async function _b(e,t,n){if(e.Ra.set(`Online`),t instanceof Z_&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){W(nb,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await vb(e,n)}else if(t instanceof Y_?e.Va.Ze(t):t instanceof X_?e.Va.st(t):e.Va.tt(t),!n.isEqual(Z.min()))try{let t=await Ty(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(fh.EMPTY_BYTE_STRING,r.snapshotVersion)),lb(e,t),cb(e,new Lv(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){W(nb,`Failed to raise snapshot:`,t),await vb(e,t)}}async function vb(e,t,n){if(!Km(t))throw t;e.Ea.add(1),await ab(e),e.Ra.set(`Offline`),n||=()=>Ty(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{W(nb,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await ib(e)}))}function yb(e,t){return t().catch((n=>vb(e,n,t)))}async function bb(e){let t=K(e),n=Mb(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jm;for(;xb(t);)try{let e=await Oy(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,Sb(t,e)}catch(e){await vb(t,e)}Cb(t)&&wb(t)}function xb(e){return fb(e)&&e.Ta.length<10}function Sb(e,t){e.Ta.push(t);let n=Mb(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Cb(e){return fb(e)&&!Mb(e).x_()&&e.Ta.length>0}function wb(e){Mb(e).start()}async function Tb(e){Mb(e).ra()}async function Eb(e){let t=Mb(e);for(let n of e.Ta)t.ea(n.mutations)}async function Db(e,t,n){let r=e.Ta.shift(),i=N_.from(r,t,n);await yb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await bb(e)}async function Ob(e,t){t&&Mb(e).X_&&await async function(e,t){if(function(e){return R_(e)&&e!==q.ABORTED}(t.code)){let n=e.Ta.shift();Mb(e).B_(),await yb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await bb(e)}}(e,t),Cb(e)&&wb(e)}async function kb(e,t){let n=K(e);n.asyncQueue.verifyOperationInProgress(),W(nb,`RemoteStore received new credentials`);let r=fb(n);n.Ea.add(3),await ab(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ib(n)}async function Ab(e,t){let n=K(e);t?(n.Ea.delete(2),await ib(n)):t||(n.Ea.add(2),await ab(n),n.Ra.set(`Unknown`))}function jb(e){return e.ma||(e.ma=function(e,t,n){let r=K(e);return r.sa(),new Zy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:mb.bind(null,e),t_:hb.bind(null,e),r_:gb.bind(null,e),H_:_b.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),db(e)?ub(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),pb(e))}))),e.ma}function Mb(e){return e.fa||(e.fa=function(e,t,n){let r=K(e);return r.sa(),new Qy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Tb.bind(null,e),r_:Ob.bind(null,e),ta:Eb.bind(null,e),na:Db.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await bb(e)):(await e.fa.stop(),e.Ta.length>0&&(W(nb,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var Nb=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new im,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(q.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Pb(e,t){if($p(`AsyncQueue`,`${t}: ${e}`),Km(e))return new J(q.UNAVAILABLE,`${t}: ${e}`);throw e}var Fb=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||X.comparator(t.key,n.key):(e,t)=>X.comparator(e.key,t.key),this.keyedMap=Gg(),this.sortedSet=new ah(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},Ib=class{constructor(){this.ga=new ah(X.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):G(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},Lb=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,Fb.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},Rb=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},zb=class{constructor(){this.queries=Bb(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=K(e),r=n.queries;n.queries=Bb(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new J(q.ABORTED,`Firestore shutting down`))}};function Bb(){return new Vg((e=>Fg(e)),Pg)}async function Vb(e,t){let n=K(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Rb,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=Pb(e,`Initialization of query '${Ig(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Gb(n)}async function Hb(e,t){let n=K(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ub(e,t){let n=K(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&Gb(n)}function Wb(e,t,n){let r=K(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function Gb(e){e.Ca.forEach((e=>{e.next()}))}var Kb,qb;(qb=Kb||={}).Ma=`default`,qb.Cache=`cache`;var Jb=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new Lb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Lb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kb.Cache}},Yb=class{constructor(e){this.key=e}},Xb=class{constructor(e){this.key=e}},Zb=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$(),this.mutatedKeys=$(),this.eu=zg(e),this.tu=new Fb(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new Ib,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=Lg(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new Lb(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=$(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new Xb(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new Yb(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=$();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Lb.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Qb=`SyncEngine`,$b=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},ex=class{constructor(e){this.key=e,this.hu=!1}},tx=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Vg((e=>Fg(e)),Pg),this.Iu=new Map,this.Eu=new Set,this.du=new ah(X.comparator),this.Au=new Map,this.Ru=new oy,this.Vu={},this.mu=new Map,this.fu=Kv.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function nx(e,t,n=!0){let r=wx(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await ix(r,t,n,!0),i}async function rx(e,t){await ix(wx(e),t,!0,!1)}async function ix(e,t,n,r){let i=await ky(e.localStore,jg(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await ax(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&ob(e.remoteStore,i),s}async function ax(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await jy(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return vx(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await jy(e.localStore,t,!0),o=new Zb(t,a.Qs),s=o.ru(a.documents),c=J_.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);vx(e,n,l.au);let u=new $b(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function ox(e,t,n){let r=K(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!Pg(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ay(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sb(r.remoteStore,i.targetId),gx(r,i.targetId)})).catch(Wm)):(gx(r,i.targetId),await Ay(r.localStore,i.targetId,!0))}async function sx(e,t){let n=K(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sb(n.remoteStore,r.targetId))}async function cx(e,t,n){let r=Tx(e);try{let e=await function(e,t){let n=K(e),r=Fm.now(),i=t.reduce(((e,t)=>e.add(t.key)),$()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=Ug(),c=$();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=C_(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new E_(e.key,t,Xh(t.value.mapValue),__.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Kg(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new ah(Y),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await xx(r,e.changes),await bb(r.remoteStore)}catch(e){let t=Pb(e,`Failed to persist write`);n.reject(t)}}async function lx(e,t){let n=K(e);try{let e=await Ey(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(rm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?rm(r.hu,14607):e.removedDocuments.size>0&&(rm(r.hu,42227),r.hu=!1))})),await xx(n,e,t)}catch(e){await Wm(e)}}function ux(e,t,n){let r=K(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=K(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&Gb(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dx(e,t,n){let r=K(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new ah(X.comparator);e=e.insert(a,Zh.newNoDocument(a,Z.min()));let n=$().add(a);await lx(r,new q_(Z.min(),new Map,new ah(Y),e,n)),r.du=r.du.remove(a),r.Au.delete(t),bx(r)}else await Ay(r.localStore,t,!1).then((()=>gx(r,t,n))).catch(Wm)}async function fx(e,t){let n=K(e),r=t.batch.batchId;try{let e=await wy(n.localStore,t);hx(n,r,null),mx(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await xx(n,e)}catch(e){await Wm(e)}}async function px(e,t,n){let r=K(e);try{let e=await function(e,t){let n=K(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(rm(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);hx(r,t,n),mx(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await xx(r,e)}catch(e){await Wm(e)}}function mx(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function hx(e,t,n){let r=K(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function gx(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||_x(e,t)}))}function _x(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(sb(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),bx(e))}function vx(e,t,n){for(let r of n)r instanceof Yb?(e.Ru.addReference(r.key,t),yx(e,r)):r instanceof Xb?(W(Qb,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||_x(e,r.key)):G(19791,{wu:r})}function yx(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(W(Qb,`New document in limbo: `+n),e.Eu.add(r),bx(e))}function bx(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new X(Sm.fromString(t)),r=e.fu.next();e.Au.set(r,new ex(n)),e.du=e.du.insert(n,r),ob(e.remoteStore,new Lv(jg(Dg(n.path)),r,`TargetPurposeLimboResolution`,qm.ce))}}async function xx(e,t,n){let r=K(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=gy.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=K(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>Q.forEach(t,(t=>Q.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Q.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Km(e))throw e;W(yy,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function Sx(e,t){let n=K(e);if(!n.currentUser.isEqual(t)){W(Qb,`User change. New user:`,t.toKey());let e=await Cy(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new J(q.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await xx(n,e.Ls)}}function Cx(e,t){let n=K(e),r=n.Au.get(t);if(r&&r.hu)return $().add(r.key);{let e=$(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function wx(e){let t=K(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dx.bind(null,t),t.Pu.H_=Ub.bind(null,t.eventManager),t.Pu.yu=Wb.bind(null,t.eventManager),t}function Tx(e){let t=K(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=px.bind(null,t),t}var Ex=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=qy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Sy(this.persistence,new vy,e.initialUser,this.serializer)}Cu(e){return new fy(my.mi,this.serializer)}Du(e){return new Py}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};Ex.provider={build:()=>new Ex};var Dx=class extends Ex{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rm(this.persistence.referenceDelegate instanceof hy,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new Zv(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Gv.DEFAULT:Gv.withCacheSize(this.cacheSizeBytes);return new fy((e=>hy.mi(e,t)),this.serializer)}},Ox=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ux(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sx.bind(null,this.syncEngine),await Ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zb}()}createDatastore(e){let t=qy(e.databaseInfo.databaseId),n=function(e){return new Gy(e)}(e.databaseInfo);return function(e,t,n,r){return new eb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new rb(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ux(this.syncEngine,e,0)),function(){return Ly.v()?new Ly:new Fy}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new tx(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=K(e);W(nb,`RemoteStore shutting down.`),t.Ea.add(5),await ab(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};Ox.provider={build:()=>new Ox};var kx=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$p(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},Ax=`FirestoreClient`,jx=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yp.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{W(Ax,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(W(Ax,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new im;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=Pb(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function Mx(e,t){e.asyncQueue.verifyOperationInProgress(),W(Ax,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Cy(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Nx(e,t){e.asyncQueue.verifyOperationInProgress();let n=await Px(e);W(Ax,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>kb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>kb(t.remoteStore,n))),e._onlineComponents=t}async function Px(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){W(Ax,`Using user provided OfflineComponentProvider`);try{await Mx(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===q.FAILED_PRECONDITION||e.code===q.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;em(`Error using user provided cache. Falling back to memory cache: `+n),await Mx(e,new Ex)}}else W(Ax,`Using default OfflineComponentProvider`),await Mx(e,new Dx(void 0));return e._offlineComponents}async function Fx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(W(Ax,`Using user provided OnlineComponentProvider`),await Nx(e,e._uninitializedComponentsProvider._online)):(W(Ax,`Using default OnlineComponentProvider`),await Nx(e,new Ox))),e._onlineComponents}function Ix(e){return Fx(e).then((e=>e.syncEngine))}async function Lx(e){let t=await Fx(e),n=t.eventManager;return n.onListen=nx.bind(null,t.syncEngine),n.onUnlisten=ox.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=rx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sx.bind(null,t.syncEngine),n}function Rx(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var zx=new Map,Bx=`firestore.googleapis.com`,Vx=!0,Hx=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(q.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Bx,this.ssl=Vx}else this.host=e.host,this.ssl=e.ssl??Vx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jv)throw new J(q.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}Em(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rx(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new J(q.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new J(q.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new J(q.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ux=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new Hx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new J(q.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new J(q.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new Hx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new om;switch(e.type){case`firstParty`:return new um(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new J(q.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=zx.get(e);t&&(W(`ComponentProvider`,`Removing Datastore`),zx.delete(e),t.terminate())}(this),Promise.resolve()}};function Wx(e,t,n,r={}){e=Am(e,Ux);let i=bd(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(xd(`https://${s}`),Dd(`Firestore`,!0)),a.host!==Bx&&a.host!==s&&em(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!Ld(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Yp.MOCK_USER;else{t=Sd(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new J(q.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Yp(i)}e._authCredentials=new sm(new am(t,n))}}var Gx=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Kx=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qx(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Mm(n,e._jsonSchema))return new e(t,r||null,new X(Sm.fromString(n.referencePath)))}};Kx._jsonSchemaVersion=`firestore/documentReference/1.0`,Kx._jsonSchema={type:jm(`string`,Kx._jsonSchemaVersion),referencePath:jm(`string`)};var qx=class e extends Gx{constructor(e,t,n){super(e,t,Dg(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kx(this.firestore,null,new X(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Jx(e,t,...n){if(e=zd(e),arguments.length===1&&(t=mm.newId()),Tm(`doc`,`path`,t),e instanceof Ux){let r=Sm.fromString(t,...n);return Dm(r),new Kx(e,null,new X(r))}{if(!(e instanceof Kx||e instanceof qx))throw new J(q.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(Sm.fromString(t,...n));return Dm(r),new Kx(e.firestore,e instanceof qx?e.converter:null,new X(r))}}var Yx=`AsyncQueue`,Xx=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jy(this,`async_queue_retry`),this._c=()=>{let e=Ky();e&&W(Yx,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=Ky();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Ky();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new im;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Km(e))throw e;W(Yx,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,$p(`INTERNAL UNHANDLED ERROR: `,Zx(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=Nb.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&G(47125,{Pc:Zx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function Zx(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Qx(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var $x=class extends Ux{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new Xx,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xx(e),this._firestoreClient=void 0,await e}}};function eS(e,t){let n=typeof e==`object`?e:mp(),r=typeof e==`string`?e:t||Th,i=cp(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=_d(`firestore`);e&&Wx(i,...e)}return i}function tS(e){if(e._terminated)throw new J(q.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||nS(e),e._firestoreClient}function nS(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new wh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Rx(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new jx(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var rS=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(fh.fromBase64String(t))}catch(e){throw new J(q.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(fh.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Mm(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};rS._jsonSchemaVersion=`firestore/bytes/1.0`,rS._jsonSchema={type:jm(`string`,rS._jsonSchemaVersion),bytes:jm(`string`)};var iS=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new J(q.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new wm(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},aS=class{constructor(e){this._methodName=e}},oS=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(q.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new J(q.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(Mm(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};oS._jsonSchemaVersion=`firestore/geoPoint/1.0`,oS._jsonSchema={type:jm(`string`,oS._jsonSchemaVersion),latitude:jm(`number`),longitude:jm(`number`)};var sS=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Mm(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new J(q.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};sS._jsonSchemaVersion=`firestore/vectorValue/1.0`,sS._jsonSchema={type:jm(`string`,sS._jsonSchemaVersion),vectorValues:jm(`object`)};var cS=/^__.*__$/,lS=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new T_(e,this.data,t,this.fieldTransforms):new E_(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function uS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ac:e})}}var dS=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return SS(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if(uS(this.Ac)&&cS.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},fS=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||qy(e)}Cc(e,t,n,r=!1){return new dS({Ac:e,methodName:t,Dc:n,path:wm.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pS(e){let t=e._freezeSettings(),n=qy(e._databaseId);return new fS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mS(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);vS(`Data must be an object, but it was:`,o,r);let s=gS(r,o),c,l;if(a.merge)c=new uh(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=yS(t,r,n);if(!o.contains(i))throw new J(q.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);CS(e,i)||e.push(i)}c=new uh(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new lS(new Yh(s),c,l)}function hS(e,t){if(_S(e=zd(e)))return vS(`Unsupported field value:`,t,e),gS(e,t);if(e instanceof aS)return function(e,t){if(!uS(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=hS(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=zd(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return n_(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=Fm.fromDate(e);return{timestampValue:sv(t.serializer,n)}}if(e instanceof Fm){let n=new Fm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sv(t.serializer,n)}}if(e instanceof oS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rS)return{bytesValue:cv(t.serializer,e._byteString)};if(e instanceof Kx){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:dv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof sS)return function(e,t){return{mapValue:{fields:{[Dh]:{stringValue:Ah},[jh]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return e_(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${km(e)}`)}(e,t)}function gS(e,t){let n={};return ih(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rh(e,((e,r)=>{let i=hS(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function _S(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof Fm||e instanceof oS||e instanceof rS||e instanceof Kx||e instanceof aS||e instanceof sS)}function vS(e,t,n){if(!_S(n)||!Om(n)){let r=km(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function yS(e,t,n){if((t=zd(t))instanceof iS)return t._internalPath;if(typeof t==`string`)return xS(e,t);throw SS(`Field path arguments must be of type string or `,e,!1,void 0,n)}var bS=RegExp(`[~\\*/\\[\\]]`);function xS(e,t,n){if(t.search(bS)>=0)throw SS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new iS(...t.split(`.`))._internalPath}catch{throw SS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function SS(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new J(q.INVALID_ARGUMENT,s+e+c)}function CS(e,t){return e.some((e=>e.isEqual(t)))}var wS=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kx(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new TS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ES(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},TS=class extends wS{data(){return super.data()}};function ES(e,t){return typeof t==`string`?xS(e,t):t instanceof iS?t._internalPath:t._delegate._internalPath}function DS(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new J(q.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var OS=class{convertValue(e,t=`none`){switch(Mh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return rh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[jh].arrayValue?.values?.map((e=>hh(e.doubleValue)));return new sS(t)}convertGeoPoint(e){return new oS(hh(e.latitude),hh(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=Sh(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(Ch(e));default:return null}}convertTimestamp(e){let t=mh(e);return new Fm(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=Sm.fromString(e);rm(Iv(n),9688,{name:e});let r=new Eh(n.get(1),n.get(3)),i=new X(n.popFirst(5));return r.isEqual(t)||$p(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function kS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var AS=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jS=class e extends wS{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new MS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(ES(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(q.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};jS._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,jS._jsonSchema={type:jm(`string`,jS._jsonSchemaVersion),bundleSource:jm(`string`,`DocumentSnapshot`),bundleName:jm(`string`),bundle:jm(`string`)};var MS=class extends jS{data(e={}){return super.data(e)}},NS=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new AS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new MS(this._firestore,this._userDataWriter,n.key,n,new AS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(q.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new MS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new AS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new MS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:PS(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(q.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function PS(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return G(61501,{type:e})}}NS._jsonSchemaVersion=`firestore/querySnapshot/1.0`,NS._jsonSchema={type:jm(`string`,NS._jsonSchemaVersion),bundleSource:jm(`string`,`QuerySnapshot`),bundleName:jm(`string`),bundle:jm(`string`)};var FS=class extends OS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rS(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kx(this.firestore,null,t)}};function IS(e,t,n){e=Am(e,Kx);let r=Am(e.firestore,$x),i=kS(e.converter,t,n);return RS(r,[mS(pS(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,__.none())])}function LS(e,...t){e=zd(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||Qx(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Qx(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Kx)o=Am(e.firestore,$x),s=Dg(e._key.path),a={next:n=>{t[r]&&t[r](zS(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=Am(e,Gx);o=Am(n.firestore,$x),s=n._query;let i=new FS(o);a={next:e=>{t[r]&&t[r](new NS(o,i,n,e))},error:t[r+1],complete:t[r+2]},DS(e._query)}return function(e,t,n,r){let i=new kx(r),a=new Jb(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Vb(await Lx(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>Hb(await Lx(e),a)))}}(tS(o),s,i,a)}function RS(e,t){return function(e,t){let n=new im;return e.asyncQueue.enqueueAndForget((async()=>cx(await Ix(e),t,n))),n.promise}(tS(e),t)}function zS(e,t,n){let r=n.docs.get(t._key);return new jS(e,new FS(e),t._key,r,new AS(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(e){Xp=e})(fp),sp(new Bd(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new $x(new cm(e.getProvider(`auth-internal`)),new fm(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new J(q.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new Eh(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),hp(qp,Jp,e),hp(qp,Jp,`esm2020`)})(),hp(`firebase`,`12.6.0`,`app`);const BS=eS(pp({apiKey:`_API_KEY__FIREBASE_CONSOLE`,authDomain:`_AUTH_DOMAIN`,projectId:`_PROJECT_ID`,storageBucket:`_STORAGE_BUCKET`,messagingSenderId:`_MESSAGING_SENDER_ID`,appId:`_APP_ID`}));var VS={title:``,startDate:`TBD`,endDate:`TBD`,participants:Pe};function HS(e){let[t,n]=(0,_.useState)(VS),[r,i]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{if(!e)return;i(!0);let t=LS(Jx(BS,`trips`,e),e=>{e.exists()?n(e.data()):n(VS),i(!1)});return()=>t()},[e]),{trip:t,saveTrip:async n=>{if(e)try{await IS(Jx(BS,`trips`,e),{...n,participants:t.participants},{merge:!0})}catch(e){console.error(`Error saving trip:`,e),alert(`!`)}},isLoading:r}}function US(){let{user:e,isLoading:t,loginWithLine:n,updateProfile:r,logout:i}=nd(),{trip:a,saveTrip:o}=HS(e?.id),[s,c]=(0,_.useState)(`plan`),[l,u]=(0,_.useState)(!1),[d,f]=(0,_.useState)(!1),[p,m]=(0,_.useState)(!1);return t?(0,D.jsx)(`div`,{className:`h-full flex items-center justify-center bg-gray-100`,children:(0,D.jsxs)(`div`,{className:`text-center`,children:[(0,D.jsx)(`div`,{className:`animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4`}),(0,D.jsx)(`p`,{className:`text-gray-500 text-sm`,children:` LINE...`})]})}):e?(0,D.jsxs)(`div`,{className:`h-full flex flex-col bg-[#F3F4F6] w-full max-w-md mx-auto shadow-2xl overflow-hidden`,children:[(0,D.jsx)(Ie,{user:e,trip:a,participants:a.participants,onMenuClick:()=>u(!0),onEdit:()=>f(!0),isMinimized:s!==`plan`,activeTabLabel:{plan:`Plan`,bill:`Bill`}[s]}),(0,D.jsx)(`div`,{className:`flex-1 relative overflow-hidden`,children:s===`plan`?(0,D.jsx)(gi,{trip:a,onSaveTrip:e=>{o(e),f(!1)}}):(0,D.jsx)(Ci,{})}),(0,D.jsx)(Le,{isOpen:l,onClose:()=>u(!1),onNavigate:c,activeScreen:s,user:e,onLogout:()=>{confirm(`?`)&&i()},onEditProfile:()=>{u(!1),setTimeout(()=>m(!0),200)}}),(0,D.jsx)(Ke,{isOpen:d,onClose:()=>f(!1),onSave:e=>{o(e),f(!1)},initialTrip:a}),(0,D.jsx)(Ve,{isOpen:p,onClose:()=>m(!1),currentUser:e,onSave:r})]}):(0,D.jsxs)(`div`,{className:`h-full flex flex-col items-center justify-center bg-white p-6 space-y-6`,children:[(0,D.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,D.jsx)(`h1`,{className:`text-3xl font-extrabold text-green-600`,children:`Mana Travel`}),(0,D.jsx)(`p`,{className:`text-gray-400`,children:``})]}),(0,D.jsx)(Ge,{onClick:n,className:`bg-[#06C755] hover:bg-[#05b34c] text-white w-full max-w-xs py-4 text-lg shadow-green-200`,children:`Log in with LINE`})]})}var WS=US;(0,g.createRoot)(document.getElementById(`root`)).render((0,D.jsx)(_.StrictMode,{children:(0,D.jsx)(WS,{})}));
//# sourceMappingURL=index-BRFmUHaT.js.map