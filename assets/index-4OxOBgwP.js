var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function ee(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function te(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function ne(e,t){return te(e.type,t,e.props)}function re(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ie(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ae=/\/+/g;function oe(e,t){return typeof e==`object`&&e&&e.key!=null?ie(``+e.key):t.toString(36)}function se(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(ee,ee):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ce(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ce(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+oe(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(ae,`$&/`)+`/`),ce(o,r,i,``,function(e){return e})):o!=null&&(re(o)&&(o=ne(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ae,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+oe(a,u),c+=ce(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+oe(a,u++),c+=ce(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ce(se(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function le(e,t,n){if(e==null)return e;var r=[],i=0;return ce(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var T=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},E={map:le,forEach:function(e,t,n){le(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return le(e,function(){t++}),t},toArray:function(e){return le(e,function(e){return e})||[]},only:function(e){if(!re(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=E,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!w.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return te(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)w.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return te(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=re,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ue}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(ee,T)}catch(e){T(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),C.T=t}},e.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},e.use=function(e){return C.H.use(e)},e.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},e.useCallback=function(e,t){return C.H.useCallback(e,t)},e.useContext=function(e){return C.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return C.H.useEffect(e,t)},e.useEffectEvent=function(e){return C.H.useEffectEvent(e)},e.useId=function(){return C.H.useId()},e.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return C.H.useMemo(e,t)},e.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},e.useRef=function(e){return C.H.useRef(e)},e.useState=function(e){return C.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return C.H.useTransition()},e.version=`19.2.0`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,re());else{var t=n(l);t!==null&&oe(x,t.startTime-e)}}var S=!1,ee=-1,C=5,w=-1;function te(){return g?!0:!(e.unstable_now()-w<C)}function ne(){if(g=!1,S){var t=e.unstable_now();w=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(ee),ee=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&te());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&oe(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?re():S=!1}}}var re;if(typeof y==`function`)re=function(){y(ne)};else if(typeof MessageChannel<`u`){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=ne,re=function(){ae.postMessage(null)}}else re=function(){_(ne,0)};function oe(t,n){ee=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(ee),ee=-1):h=!0,oe(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,re()))),r},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),ee=Symbol.for(`react.context`),C=Symbol.for(`react.forward_ref`),w=Symbol.for(`react.suspense`),te=Symbol.for(`react.suspense_list`),ne=Symbol.for(`react.memo`),re=Symbol.for(`react.lazy`),ie=Symbol.for(`react.activity`),ae=Symbol.for(`react.memo_cache_sentinel`),oe=Symbol.iterator;function se(e){return typeof e!=`object`||!e?null:(e=oe&&e[oe]||e[`@@iterator`],typeof e==`function`?e:null)}var ce=Symbol.for(`react.client.reference`);function le(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case w:return`Suspense`;case te:return`SuspenseList`;case ie:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case ee:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case C:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case ne:return t=e.displayName||null,t===null?le(e.type)||`Memo`:t;case re:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var ue=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function me(e){return{current:e}}function he(e){0>pe||(e.current=fe[pe],fe[pe]=null,pe--)}function D(e,t){pe++,fe[pe]=e.current,e.current=t}var ge=me(null),_e=me(null),ve=me(null),ye=me(null);function be(e,t){switch(D(ve,t),D(_e,e),D(ge,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jd(t),e=Yd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}he(ge),D(ge,e)}function xe(){he(ge),he(_e),he(ve)}function Se(e){e.memoizedState!==null&&D(ye,e);var t=ge.current,n=Yd(t,e.type);t!==n&&(D(_e,e),D(ge,n))}function Ce(e){_e.current===e&&(he(ge),he(_e)),ye.current===e&&(he(ye),ap._currentValue=de)}var we,Te;function Ee(e){if(we===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||``,Te=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+we+e+Te}var De=!1;function Oe(e,t){if(!e||De)return``;De=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{De=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Ee(n):``}function ke(e,t){switch(e.tag){case 26:case 27:case 5:return Ee(e.type);case 16:return Ee(`Lazy`);case 13:return e.child!==t&&t!==null?Ee(`Suspense Fallback`):Ee(`Suspense`);case 19:return Ee(`SuspenseList`);case 0:case 15:return Oe(e.type,!1);case 11:return Oe(e.type.render,!1);case 1:return Oe(e.type,!0);case 31:return Ee(`Activity`);default:return``}}function Ae(e){try{var t=``,n=null;do t+=ke(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var je=Object.prototype.hasOwnProperty,Me=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,O=t.unstable_shouldYield,Pe=t.unstable_requestPaint,Fe=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,Le=t.unstable_ImmediatePriority,Re=t.unstable_UserBlockingPriority,ze=t.unstable_NormalPriority,Be=t.unstable_LowPriority,Ve=t.unstable_IdlePriority,He=t.log,Ue=t.unstable_setDisableYieldValue,We=null,Ge=null;function Ke(e){if(typeof He==`function`&&Ue(e),Ge&&typeof Ge.setStrictMode==`function`)try{Ge.setStrictMode(We,e)}catch{}}var qe=Math.clz32?Math.clz32:Xe,Je=Math.log,Ye=Math.LN2;function Xe(e){return e>>>=0,e===0?32:31-(Je(e)/Ye|0)|0}var Ze=256,Qe=262144,$e=4194304;function et(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=et(n))):i=et(o):i=et(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=et(n))):i=et(o)):i=et(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function nt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function it(){var e=$e;return $e<<=1,!($e&62914560)&&($e=4194304),e}function at(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ot(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function st(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-qe(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&ct(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function ct(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-qe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function lt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ut(e,t){var n=t&-t;return n=n&42?1:dt(n),(n&(e.suspendedLanes|t))===0?n:0}function dt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ft(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function pt(){var e=E.p;return e===0?(e=window.event,e===void 0?32:xp(e.type)):e}function mt(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var ht=Math.random().toString(36).slice(2),gt=`__reactFiber$`+ht,_t=`__reactProps$`+ht,vt=`__reactContainer$`+ht,yt=`__reactEvents$`+ht,bt=`__reactListeners$`+ht,xt=`__reactHandles$`+ht,St=`__reactResources$`+ht,Ct=`__reactMarker$`+ht;function wt(e){delete e[gt],delete e[_t],delete e[yt],delete e[bt],delete e[xt]}function Tt(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vf(e);e!==null;){if(n=e[gt])return n;e=vf(e)}return t}e=n,n=e.parentNode}return null}function Et(e){if(e=e[gt]||e[vt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Dt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ot(e){var t=e[St];return t||=e[St]={hoistableStyles:new Map,hoistableScripts:new Map},t}function kt(e){e[Ct]=!0}var At=new Set,jt={};function Mt(e,t){Nt(e,t),Nt(e+`Capture`,t)}function Nt(e,t){for(jt[e]=t,e=0;e<t.length;e++)At.add(t[e])}var Pt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Ft={},It={};function k(e){return je.call(It,e)?!0:je.call(Ft,e)?!1:Pt.test(e)?It[e]=!0:(Ft[e]=!0,!1)}function Lt(e,t,n){if(k(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Rt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function zt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function A(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Bt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Vt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ht(e){if(!e._valueTracker){var t=Bt(e)?`checked`:`value`;e._valueTracker=Vt(e,t,``+e[t])}}function Ut(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Bt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Wt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Gt=/[\n"\\]/g;function Kt(e){return e.replace(Gt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function qt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+A(t)):e.value!==``+A(t)&&(e.value=``+A(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Yt(e,o,A(n)):Yt(e,o,A(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+A(s):e.removeAttribute(`name`)}function Jt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Ht(e);return}n=n==null?``:``+A(n),t=t==null?n:``+A(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Ht(e)}function Yt(e,t,n){t===`number`&&Wt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+A(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zt(e,t,n){if(t!=null&&(t=``+A(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+A(n)}function Qt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ue(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=A(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Ht(e)}function $t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var en=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function tn(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||en.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function nn(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&tn(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&tn(e,o,t[o])}function rn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var an=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),on=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sn(e){return on.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function cn(){}var ln=null;function un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dn=null,fn=null;function pn(e){var t=Et(e);if(t&&(e=t.stateNode)){var n=e[_t]||null;a:switch(e=t.stateNode,t.type){case`input`:if(qt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Kt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[_t]||null;if(!a)throw Error(i(90));qt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Ut(r)}break a;case`textarea`:Zt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Xt(e,!!n.multiple,t,!1)}}}var mn=!1;function hn(e,t,n){if(mn)return e(t,n);mn=!0;try{return e(t)}finally{if(mn=!1,(dn!==null||fn!==null)&&(Tu(),dn&&(t=dn,e=fn,fn=dn=null,pn(t),e)))for(t=0;t<e.length;t++)pn(e[t])}}function gn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[_t]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var _n=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),vn=!1;if(_n)try{var yn={};Object.defineProperty(yn,`passive`,{get:function(){vn=!0}}),window.addEventListener(`test`,yn,yn),window.removeEventListener(`test`,yn,yn)}catch{vn=!1}var bn=null,xn=null,Sn=null;function Cn(){if(Sn)return Sn;var e,t=xn,n=t.length,r,i=`value`in bn?bn.value:bn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Sn=i.slice(e,1<r?1-r:void 0)}function wn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tn(){return!0}function En(){return!1}function Dn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Tn:En,this.isPropagationStopped=En,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kn=Dn(On),An=h({},On,{view:0,detail:0}),jn=Dn(An),Mn,Nn,Pn,Fn=h({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Pn&&(Pn&&e.type===`mousemove`?(Mn=e.screenX-Pn.screenX,Nn=e.screenY-Pn.screenY):Nn=Mn=0,Pn=e),Mn)},movementY:function(e){return`movementY`in e?e.movementY:Nn}}),In=Dn(Fn),Ln=Dn(h({},Fn,{dataTransfer:0})),Rn=Dn(h({},An,{relatedTarget:0})),zn=Dn(h({},On,{animationName:0,elapsedTime:0,pseudoElement:0})),Bn=Dn(h({},On,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Vn=Dn(h({},On,{data:0})),Hn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Un={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Wn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wn[e])?!!t[e]:!1}function Kn(){return Gn}var qn=Dn(h({},An,{key:function(e){if(e.key){var t=Hn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=wn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Un[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kn,charCode:function(e){return e.type===`keypress`?wn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?wn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Jn=Dn(h({},Fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Yn=Dn(h({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kn})),Xn=Dn(h({},On,{propertyName:0,elapsedTime:0,pseudoElement:0})),Zn=Dn(h({},Fn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Qn=Dn(h({},On,{newState:0,oldState:0})),$n=[9,13,27,32],er=_n&&`CompositionEvent`in window,tr=null;_n&&`documentMode`in document&&(tr=document.documentMode);var nr=_n&&`TextEvent`in window&&!tr,rr=_n&&(!er||tr&&8<tr&&11>=tr),ir=` `,ar=!1;function or(e,t){switch(e){case`keyup`:return $n.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function sr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var cr=!1;function lr(e,t){switch(e){case`compositionend`:return sr(t);case`keypress`:return t.which===32?(ar=!0,ir):null;case`textInput`:return e=t.data,e===ir&&ar?null:e;default:return null}}function ur(e,t){if(cr)return e===`compositionend`||!er&&or(e,t)?(e=Cn(),Sn=xn=bn=null,cr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return rr&&t.locale!==`ko`?null:t.data;default:return null}}var dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!dr[e.type]:t===`textarea`}function pr(e,t,n,r){dn?fn?fn.push(r):fn=[r]:dn=r,t=Md(t,`onChange`),0<t.length&&(n=new kn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var mr=null,hr=null;function gr(e){Td(e,0)}function _r(e){if(Ut(Dt(e)))return e}function vr(e,t){if(e===`change`)return t}var yr=!1;if(_n){var br;if(_n){var xr=`oninput`in document;if(!xr){var Sr=document.createElement(`div`);Sr.setAttribute(`oninput`,`return;`),xr=typeof Sr.oninput==`function`}br=xr}else br=!1;yr=br&&(!document.documentMode||9<document.documentMode)}function Cr(){mr&&(mr.detachEvent(`onpropertychange`,wr),hr=mr=null)}function wr(e){if(e.propertyName===`value`&&_r(hr)){var t=[];pr(t,hr,e,un(e)),hn(gr,t)}}function Tr(e,t,n){e===`focusin`?(Cr(),mr=t,hr=n,mr.attachEvent(`onpropertychange`,wr)):e===`focusout`&&Cr()}function Er(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return _r(hr)}function Dr(e,t){if(e===`click`)return _r(t)}function Or(e,t){if(e===`input`||e===`change`)return _r(t)}function kr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Ar=typeof Object.is==`function`?Object.is:kr;function jr(e,t){if(Ar(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!je.call(t,i)||!Ar(e[i],t[i]))return!1}return!0}function Mr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nr(e,t){var n=Mr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Mr(n)}}function Pr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wt(e.document)}return t}function Ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Lr=_n&&`documentMode`in document&&11>=document.documentMode,Rr=null,zr=null,Br=null,j=!1;function Vr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j||Rr==null||Rr!==Wt(r)||(r=Rr,`selectionStart`in r&&Ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&jr(Br,r)||(Br=r,r=Md(zr,`onSelect`),0<r.length&&(t=new kn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Rr)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Ur={animationend:Hr(`Animation`,`AnimationEnd`),animationiteration:Hr(`Animation`,`AnimationIteration`),animationstart:Hr(`Animation`,`AnimationStart`),transitionrun:Hr(`Transition`,`TransitionRun`),transitionstart:Hr(`Transition`,`TransitionStart`),transitioncancel:Hr(`Transition`,`TransitionCancel`),transitionend:Hr(`Transition`,`TransitionEnd`)},M={},Wr={};_n&&(Wr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),`TransitionEvent`in window||delete Ur.transitionend.transition);function N(e){if(M[e])return M[e];if(!Ur[e])return e;var t=Ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wr)return M[e]=t[n];return e}var P=N(`animationend`),F=N(`animationiteration`),I=N(`animationstart`),Gr=N(`transitionrun`),Kr=N(`transitionstart`),qr=N(`transitioncancel`),Jr=N(`transitionend`),Yr=new Map,Xr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Xr.push(`scrollEnd`);function Zr(e,t){Yr.set(e,t),Mt(t,[e])}var Qr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},$r=[],ei=0,ti=0;function L(){for(var e=ei,t=ti=ei=0;t<e;){var n=$r[t];$r[t++]=null;var r=$r[t];$r[t++]=null;var i=$r[t];$r[t++]=null;var a=$r[t];if($r[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ai(n,i,a)}}function ni(e,t,n,r){$r[ei++]=e,$r[ei++]=t,$r[ei++]=n,$r[ei++]=r,ti|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ri(e,t,n,r){return ni(e,t,n,r),oi(e)}function ii(e,t){return ni(e,null,null,t),oi(e)}function ai(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-qe(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function oi(e){if(50<gu)throw gu=0,_u=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var si={};function ci(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(e,t,n,r){return new ci(e,t,n,r)}function ui(e){return e=e.prototype,!(!e||!e.isReactComponent)}function di(e,t){var n=e.alternate;return n===null?(n=li(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function R(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ui(e)&&(s=1);else if(typeof e==`string`)s=Xf(e,n,ge.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ie:return e=li(31,n,t,a),e.elementType=ie,e.lanes=o,e;case y:return pi(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=li(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case w:return e=li(13,n,t,a),e.elementType=w,e.lanes=o,e;case te:return e=li(19,n,t,a),e.elementType=te,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case ee:s=10;break a;case S:s=9;break a;case C:s=11;break a;case ne:s=14;break a;case re:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=li(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function pi(e,t,n,r){return e=li(7,e,r,t),e.lanes=n,e}function mi(e,t,n){return e=li(6,e,null,t),e.lanes=n,e}function hi(e){var t=li(18,null,null,0);return t.stateNode=e,t}function gi(e,t,n){return t=li(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _i=new WeakMap;function vi(e,t){if(typeof e==`object`&&e){var n=_i.get(e);return n===void 0?(t={value:e,source:t,stack:Ae(t)},_i.set(e,t),t):n}return{value:e,source:t,stack:Ae(t)}}var yi=[],bi=0,xi=null,Si=0,Ci=[],z=0,wi=null,Ti=1,Ei=``;function Di(e,t){yi[bi++]=Si,yi[bi++]=xi,xi=e,Si=t}function Oi(e,t,n){Ci[z++]=Ti,Ci[z++]=Ei,Ci[z++]=wi,wi=e;var r=Ti;e=Ei;var i=32-qe(r)-1;r&=~(1<<i),n+=1;var a=32-qe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ti=1<<32-qe(t)+i|n<<i|r,Ei=a+e}else Ti=1<<a|n<<i|r,Ei=e}function ki(e){e.return!==null&&(Di(e,1),Oi(e,1,0))}function Ai(e){for(;e===xi;)xi=yi[--bi],yi[bi]=null,Si=yi[--bi],yi[bi]=null;for(;e===wi;)wi=Ci[--z],Ci[z]=null,Ei=Ci[--z],Ci[z]=null,Ti=Ci[--z],Ci[z]=null}function ji(e,t){Ci[z++]=Ti,Ci[z++]=Ei,Ci[z++]=wi,Ti=t.id,Ei=t.overflow,wi=e}var Mi=null,B=null,Ni=!1,Pi=null,Fi=!1,Ii=Error(i(519));function Li(e){throw Ui(vi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ii}function Ri(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[gt]=e,t[_t]=r,n){case`dialog`:K(`cancel`,t),K(`close`,t);break;case`iframe`:case`object`:case`embed`:K(`load`,t);break;case`video`:case`audio`:for(n=0;n<Cd.length;n++)K(Cd[n],t);break;case`source`:K(`error`,t);break;case`img`:case`image`:case`link`:K(`error`,t),K(`load`,t);break;case`details`:K(`toggle`,t);break;case`input`:K(`invalid`,t),Jt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:K(`invalid`,t);break;case`textarea`:K(`invalid`,t),Qt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Rd(t.textContent,n)?(r.popover!=null&&(K(`beforetoggle`,t),K(`toggle`,t)),r.onScroll!=null&&K(`scroll`,t),r.onScrollEnd!=null&&K(`scrollend`,t),r.onClick!=null&&(t.onclick=cn),t=!0):t=!1,t||Li(e,!0)}function zi(e){for(Mi=e.return;Mi;)switch(Mi.tag){case 5:case 31:case 13:Fi=!1;return;case 27:case 3:Fi=!0;return;default:Mi=Mi.return}}function Bi(e){if(e!==Mi)return!1;if(!Ni)return zi(e),Ni=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Xd(e.type,e.memoizedProps)),n=!n),n&&B&&Li(e),zi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));B=_f(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));B=_f(e)}else t===27?(t=B,af(e.type)?(e=gf,gf=null,B=e):B=t):B=Mi?hf(e.stateNode.nextSibling):null;return!0}function Vi(){B=Mi=null,Ni=!1}function Hi(){var e=Pi;return e!==null&&(nu===null?nu=e:nu.push.apply(nu,e),Pi=null),e}function Ui(e){Pi===null?Pi=[e]:Pi.push(e)}var Wi=me(null),Gi=null,Ki=null;function qi(e,t,n){D(Wi,t._currentValue),t._currentValue=n}function Ji(e){e._currentValue=Wi.current,he(Wi)}function Yi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Xi(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Yi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Yi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Zi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Ar(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ye.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[ap]:e.push(ap))}a=a.return}e!==null&&Xi(t,e,n,r),t.flags|=262144}function Qi(e){for(e=e.firstContext;e!==null;){if(!Ar(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $i(e){Gi=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ea(e){return na(Gi,e)}function ta(e,t){return Gi===null&&$i(e),na(e,t)}function na(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ki===null){if(e===null)throw Error(i(308));Ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ki=Ki.next=t;return n}var ra=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ia=t.unstable_scheduleCallback,aa=t.unstable_NormalPriority,oa={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sa(){return{controller:new ra,data:new Map,refCount:0}}function ca(e){e.refCount--,e.refCount===0&&ia(aa,function(){e.controller.abort()})}var la=null,ua=0,da=0,fa=null;function pa(e,t){if(la===null){var n=la=[];ua=0,da=_d(),fa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ua++,t.then(ma,ma),t}function ma(){if(--ua===0&&la!==null){fa!==null&&(fa.status=`fulfilled`);var e=la;la=null,da=0,fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ha(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ga=T.S;T.S=function(e,t){au=Fe(),typeof t==`object`&&t&&typeof t.then==`function`&&pa(e,t),ga!==null&&ga(e,t)};var _a=me(null);function va(){var e=_a.current;return e===null?Hl.pooledCache:e}function ya(e,t){t===null?D(_a,_a.current):D(_a,t.pool)}function ba(){var e=va();return e===null?null:{parent:oa._currentValue,pool:e}}var xa=Error(i(460)),Sa=Error(i(474)),Ca=Error(i(542)),wa={then:function(){}};function Ta(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Ea(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(cn,cn),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Aa(e),e;default:if(typeof t.status==`string`)t.then(cn,cn);else{if(e=Hl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Aa(e),e}throw Oa=t,xa}}function Da(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Oa=e,xa):e}}var Oa=null;function ka(){if(Oa===null)throw Error(i(459));var e=Oa;return Oa=null,e}function Aa(e){if(e===xa||e===Ca)throw Error(i(483))}var ja=null,Ma=0;function Na(e){var t=Ma;return Ma+=1,ja===null&&(ja=[]),Ea(ja,e,t)}function Pa(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Fa(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ia(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=di(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=mi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===re&&Da(i)===t.type)?(t=a(t,n.props),Pa(t,n),t.return=e,t):(t=fi(n.type,n.key,n.props,null,e.mode,r),Pa(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=gi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=pi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=mi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=fi(t.type,t.key,t.props,null,e.mode,n),Pa(n,t),n.return=e,n;case v:return t=gi(t,e.mode,n),t.return=e,t;case re:return t=Da(t),f(e,t,n)}if(ue(t)||se(t))return t=pi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Na(t),n);if(t.$$typeof===ee)return f(e,ta(e,t),n);Fa(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case re:return n=Da(n),p(e,t,n,r)}if(ue(n)||se(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Na(n),r);if(n.$$typeof===ee)return p(e,t,ta(e,n),r);Fa(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case re:return r=Da(r),m(e,t,n,r,i)}if(ue(r)||se(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Na(r),i);if(r.$$typeof===ee)return m(e,t,n,ta(t,r),i);Fa(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),Ni&&Di(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return Ni&&Di(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),Ni&&Di(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),Ni&&Di(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return Ni&&Di(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),Ni&&Di(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===re&&Da(l)===r.type){n(e,r.sibling),c=a(r,o.props),Pa(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=pi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=fi(o.type,o.key,o.props,null,e.mode,c),Pa(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=gi(o,e.mode,c),c.return=e,e=c}return s(e);case re:return o=Da(o),b(e,r,o,c)}if(ue(o))return h(e,r,o,c);if(se(o)){if(l=se(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Na(o),c);if(o.$$typeof===ee)return b(e,r,ta(e,o),c);Fa(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=mi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ma=0;var i=b(e,t,n,r);return ja=null,i}catch(t){if(t===xa||t===Ca)throw t;var a=li(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var La=Ia(!0),Ra=Ia(!1),za=!1;function Ba(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Vl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=oi(e),ai(e,null,n),t}return ni(e,r,t,n),oi(e)}function Wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lt(e,n)}}function Ga(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ka=!1;function qa(){if(Ka){var e=fa;if(e!==null)throw e}}function Ja(e,t,n,r){Ka=!1;var i=e.updateQueue;za=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(G&f)===f:(r&f)===f){f!==0&&f===da&&(Ka=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:za=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Xl|=o,e.lanes=o,e.memoizedState=d}}function Ya(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Xa(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ya(n[e],t)}var Za=me(null),Qa=me(0);function $a(e,t){e=Jl,D(Qa,e),D(Za,t),Jl=e|t.baseLanes}function eo(){D(Qa,Jl),D(Za,Za.current)}function to(){Jl=Qa.current,he(Za),he(Qa)}var no=me(null),ro=null;function io(e){var t=e.alternate;D(lo,lo.current&1),D(no,e),ro===null&&(t===null||Za.current!==null||t.memoizedState!==null)&&(ro=e)}function ao(e){D(lo,lo.current),D(no,e),ro===null&&(ro=e)}function oo(e){e.tag===22?(D(lo,lo.current),D(no,e),ro===null&&(ro=e)):so(e)}function so(){D(lo,lo.current),D(no,no.current)}function co(e){he(no),ro===e&&(ro=null),he(lo)}var lo=me(0);function uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ff(n)||pf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=0,V=null,po=null,mo=null,ho=!1,go=!1,_o=!1,vo=0,yo=0,bo=null,xo=0;function So(){throw Error(i(321))}function Co(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ar(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,i,a){return fo=a,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?zs:Bs,_o=!1,a=n(r,i),_o=!1,go&&(a=Eo(t,n,r,i)),To(e),a}function To(e){T.H=Rs;var t=po!==null&&po.next!==null;if(fo=0,mo=po=V=null,ho=!1,yo=0,bo=null,t)throw Error(i(300));e===null||rc||(e=e.dependencies,e!==null&&Qi(e)&&(rc=!0))}function Eo(e,t,n,r){V=e;var a=0;do{if(go&&(bo=null),yo=0,go=!1,25<=a)throw Error(i(301));if(a+=1,mo=po=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}T.H=Vs,o=t(n,r)}while(go);return o}function Do(){var e=T.H,t=e.useState()[0];return t=typeof t.then==`function`?Po(t):t,e=e.useState()[0],(po===null?null:po.memoizedState)!==e&&(V.flags|=1024),t}function Oo(){var e=vo!==0;return vo=0,e}function ko(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ao(e){if(ho){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ho=!1}fo=0,mo=po=V=null,go=!1,yo=vo=0,bo=null}function jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mo===null?V.memoizedState=mo=e:mo=mo.next=e,mo}function Mo(){if(po===null){var e=V.alternate;e=e===null?null:e.memoizedState}else e=po.next;var t=mo===null?V.memoizedState:mo.next;if(t!==null)mo=t,po=e;else{if(e===null)throw V.alternate===null?Error(i(467)):Error(i(310));po=e,e={memoizedState:po.memoizedState,baseState:po.baseState,baseQueue:po.baseQueue,queue:po.queue,next:null},mo===null?V.memoizedState=mo=e:mo=mo.next=e}return mo}function No(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var t=yo;return yo+=1,bo===null&&(bo=[]),e=Ea(bo,e,t),t=V,(mo===null?t.memoizedState:mo.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?zs:Bs),e}function Fo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Po(e);if(e.$$typeof===ee)return ea(e)}throw Error(i(438,String(e)))}function Io(e){var t=null,n=V.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=V.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=No(),V.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ae;return t.index++,n}function Lo(e,t){return typeof t==`function`?t(e):t}function Ro(e){return zo(Mo(),po,e)}function zo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(fo&f)===f:(G&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===da&&(d=!0);else if((fo&p)===p){u=u.next,p===da&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,V.lanes|=p,Xl|=p;f=u.action,_o&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,V.lanes|=f,Xl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Ar(o,e.memoizedState)&&(rc=!0,d&&(n=fa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Bo(e){var t=Mo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Ar(o,t.memoizedState)||(rc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vo(e,t,n){var r=V,a=Mo(),o=Ni;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Ar((po||a).memoizedState,n);if(s&&(a.memoizedState=n,rc=!0),a=a.queue,ds(Uo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||mo!==null&&mo.memoizedState.tag&1){if(r.flags|=2048,os(9,{destroy:void 0},Ho.bind(null,r,a,n,t),null),Hl===null)throw Error(i(349));o||fo&127||H(r,t,n)}return n}function H(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=V.updateQueue,t===null?(t=No(),V.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ho(e,t,n,r){t.value=n,t.getSnapshot=r,Wo(t)&&Go(e)}function Uo(e,t,n){return n(function(){Wo(t)&&Go(e)})}function Wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ar(e,n)}catch{return!0}}function Go(e){var t=ii(e,2);t!==null&&bu(t,e,2)}function Ko(e){var t=jo();if(typeof e==`function`){var n=e;if(e=n(),_o){Ke(!0);try{n()}finally{Ke(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:e},t}function qo(e,t,n,r){return e.baseState=n,zo(e,po,typeof r==`function`?r:Lo)}function Jo(e,t,n,r,a){if(Fs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};T.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Yo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Yo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=T.T,o={};T.T=o;try{var s=n(i,r),c=T.S;c!==null&&c(o,s),Xo(e,t,s)}catch(n){Qo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),T.T=a}}else try{a=n(i,r),Xo(e,t,a)}catch(n){Qo(e,t,n)}}function Xo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Zo(e,t,n)},function(n){return Qo(e,t,n)}):Zo(e,t,n)}function Zo(e,t,n){t.status=`fulfilled`,t.value=n,$o(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Yo(e,n)))}function Qo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,$o(t),t=t.next;while(t!==r)}e.action=null}function $o(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function es(e,t){return t}function ts(e,t){if(Ni){var n=Hl.formState;if(n!==null){a:{var r=V;if(Ni){if(B){b:{for(var i=B,a=Fi;i.nodeType!==8;){if(!a){i=null;break b}if(i=hf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){B=hf(i.nextSibling),r=i.data===`F!`;break a}}Li(r)}r=!1}r&&(t=n[0])}}return n=jo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n.queue=r,n=Ms.bind(null,V,r),r.dispatch=n,r=Ko(!1),a=Ps.bind(null,V,!1,r.queue),r=jo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Jo.bind(null,V,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ns(e){return rs(Mo(),po,e)}function rs(e,t,n){if(t=zo(e,t,es)[0],e=Ro(Lo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Po(t)}catch(e){throw e===xa?Ca:e}else r=t;t=Mo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(V.flags|=2048,os(9,{destroy:void 0},is.bind(null,i,n),null)),[r,a,e]}function is(e,t){e.action=t}function as(e){var t=Mo(),n=po;if(n!==null)return rs(t,n,e);Mo(),t=t.memoizedState,n=Mo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function os(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=V.updateQueue,t===null&&(t=No(),V.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ss(){return Mo().memoizedState}function cs(e,t,n,r){var i=jo();V.flags|=e,i.memoizedState=os(1|t,{destroy:void 0},n,r===void 0?null:r)}function ls(e,t,n,r){var i=Mo();r=r===void 0?null:r;var a=i.memoizedState.inst;po!==null&&r!==null&&Co(r,po.memoizedState.deps)?i.memoizedState=os(t,a,n,r):(V.flags|=e,i.memoizedState=os(1|t,a,n,r))}function us(e,t){cs(8390656,8,e,t)}function ds(e,t){ls(2048,8,e,t)}function fs(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=No(),V.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ps(e){var t=Mo().memoizedState;return fs({ref:t,nextImpl:e}),function(){if(Vl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ms(e,t){return ls(4,2,e,t)}function hs(e,t){return ls(4,4,e,t)}function gs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _s(e,t,n){n=n==null?null:n.concat([e]),ls(4,4,gs.bind(null,t,e),n)}function vs(){}function ys(e,t){var n=Mo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bs(e,t){var n=Mo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Co(t,r[1]))return r[0];if(r=e(),_o){Ke(!0);try{e()}finally{Ke(!1)}}return n.memoizedState=[r,t],r}function xs(e,t,n){return n===void 0||fo&1073741824&&!(G&261930)?e.memoizedState=t:(e.memoizedState=n,e=yu(),V.lanes|=e,Xl|=e,n)}function Ss(e,t,n,r){return Ar(n,t)?n:Za.current===null?!(fo&42)||fo&1073741824&&!(G&261930)?(rc=!0,e.memoizedState=n):(e=yu(),V.lanes|=e,Xl|=e,t):(e=xs(e,n,r),Ar(e,t)||(rc=!0),e)}function Cs(e,t,n,r,i){var a=E.p;E.p=a!==0&&8>a?a:8;var o=T.T,s={};T.T=s,Ps(e,!1,t,n);try{var c=i(),l=T.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ns(e,t,ha(c,r),vu(e)):Ns(e,t,r,vu(e))}catch(n){Ns(e,t,{then:function(){},status:`rejected`,reason:n},vu())}finally{E.p=a,o!==null&&s.types!==null&&(o.types=s.types),T.T=o}}function ws(){}function Ts(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Es(e).queue;Cs(e,a,t,de,n===null?ws:function(){return Ds(e),n(r)})}function Es(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:de},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ds(e){var t=Es(e);t.next===null&&(t=e.alternate.memoizedState),Ns(e,t.next.queue,{},vu())}function U(){return ea(ap)}function Os(){return Mo().memoizedState}function ks(){return Mo().memoizedState}function As(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=vu();e=Ha(n);var r=Ua(t,e,n);r!==null&&(bu(r,t,n),Wa(r,t,n)),t={cache:sa()},e.payload=t;return}t=t.return}}function js(e,t,n){var r=vu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fs(e)?Is(t,n):(n=ri(e,t,n,r),n!==null&&(bu(n,e,r),Ls(n,t,r)))}function Ms(e,t,n){Ns(e,t,n,vu())}function Ns(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fs(e))Is(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ar(s,o))return ni(e,t,i,0),Hl===null&&L(),!1}catch{}if(n=ri(e,t,i,r),n!==null)return bu(n,e,r),Ls(n,t,r),!0}return!1}function Ps(e,t,n,r){if(r={lane:2,revertLane:_d(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fs(e)){if(t)throw Error(i(479))}else t=ri(e,n,r,2),t!==null&&bu(t,e,2)}function Fs(e){var t=e.alternate;return e===V||t!==null&&t===V}function Is(e,t){go=ho=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ls(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lt(e,n)}}var Rs={readContext:ea,use:Fo,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useLayoutEffect:So,useInsertionEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useSyncExternalStore:So,useId:So,useHostTransitionStatus:So,useFormState:So,useActionState:So,useOptimistic:So,useMemoCache:So,useCacheRefresh:So};Rs.useEffectEvent=So;var zs={readContext:ea,use:Fo,useCallback:function(e,t){return jo().memoizedState=[e,t===void 0?null:t],e},useContext:ea,useEffect:us,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),cs(4194308,4,gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){cs(4,2,e,t)},useMemo:function(e,t){var n=jo();t=t===void 0?null:t;var r=e();if(_o){Ke(!0);try{e()}finally{Ke(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=jo();if(n!==void 0){var i=n(t);if(_o){Ke(!0);try{n(t)}finally{Ke(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,V,e),[r.memoizedState,e]},useRef:function(e){var t=jo();return e={current:e},t.memoizedState=e},useState:function(e){e=Ko(e);var t=e.queue,n=Ms.bind(null,V,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vs,useDeferredValue:function(e,t){return xs(jo(),e,t)},useTransition:function(){var e=Ko(!1);return e=Cs.bind(null,V,e.queue,!0,!1),jo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=V,a=jo();if(Ni){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Hl===null)throw Error(i(349));G&127||H(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,us(Uo.bind(null,r,o,e),[e]),r.flags|=2048,os(9,{destroy:void 0},Ho.bind(null,r,o,n,t),null),n},useId:function(){var e=jo(),t=Hl.identifierPrefix;if(Ni){var n=Ei,r=Ti;n=(r&~(1<<32-qe(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=vo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=xo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:U,useFormState:ts,useActionState:ts,useOptimistic:function(e){var t=jo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ps.bind(null,V,!0,n),n.dispatch=t,[e,t]},useMemoCache:Io,useCacheRefresh:function(){return jo().memoizedState=As.bind(null,V)},useEffectEvent:function(e){var t=jo(),n={impl:e};return t.memoizedState=n,function(){if(Vl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Bs={readContext:ea,use:Fo,useCallback:ys,useContext:ea,useEffect:ds,useImperativeHandle:_s,useInsertionEffect:ms,useLayoutEffect:hs,useMemo:bs,useReducer:Ro,useRef:ss,useState:function(){return Ro(Lo)},useDebugValue:vs,useDeferredValue:function(e,t){return Ss(Mo(),po.memoizedState,e,t)},useTransition:function(){var e=Ro(Lo)[0],t=Mo().memoizedState;return[typeof e==`boolean`?e:Po(e),t]},useSyncExternalStore:Vo,useId:Os,useHostTransitionStatus:U,useFormState:ns,useActionState:ns,useOptimistic:function(e,t){return qo(Mo(),po,e,t)},useMemoCache:Io,useCacheRefresh:ks};Bs.useEffectEvent=ps;var Vs={readContext:ea,use:Fo,useCallback:ys,useContext:ea,useEffect:ds,useImperativeHandle:_s,useInsertionEffect:ms,useLayoutEffect:hs,useMemo:bs,useReducer:Bo,useRef:ss,useState:function(){return Bo(Lo)},useDebugValue:vs,useDeferredValue:function(e,t){var n=Mo();return po===null?xs(n,e,t):Ss(n,po.memoizedState,e,t)},useTransition:function(){var e=Bo(Lo)[0],t=Mo().memoizedState;return[typeof e==`boolean`?e:Po(e),t]},useSyncExternalStore:Vo,useId:Os,useHostTransitionStatus:U,useFormState:as,useActionState:as,useOptimistic:function(e,t){var n=Mo();return po===null?(n.baseState=e,[e,n.queue.dispatch]):qo(n,po,e,t)},useMemoCache:Io,useCacheRefresh:ks};Vs.useEffectEvent=ps;function Hs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vu(),i=Ha(r);i.payload=t,n!=null&&(i.callback=n),t=Ua(e,i,r),t!==null&&(bu(t,e,r),Wa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vu(),i=Ha(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ua(e,i,r),t!==null&&(bu(t,e,r),Wa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vu(),r=Ha(n);r.tag=2,t!=null&&(r.callback=t),t=Ua(e,r,n),t!==null&&(bu(t,e,n),Wa(t,e,n))}};function Ws(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!jr(n,r)||!jr(i,a):!0}function Gs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ks(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function qs(e){Qr(e)}function Js(e){console.error(e)}function Ys(e){Qr(e)}function Xs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Zs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Qs(e,t,n){return n=Ha(n),n.tag=3,n.payload={element:null},n.callback=function(){Xs(e,t)},n}function $s(e){return e=Ha(e),e.tag=3,e}function ec(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Zs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Zs(t,n,r),typeof i!=`function`&&(cu===null?cu=new Set([this]):cu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function tc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Zi(t,n,a,!0),n=no.current,n!==null){switch(n.tag){case 31:case 13:return ro===null?Mu():n.alternate===null&&Yl===0&&(Yl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===wa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Zu(e,r,a)),!1;case 22:return n.flags|=65536,r===wa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Zu(e,r,a)),!1}throw Error(i(435,n.tag))}return Zu(e,r,a),Mu(),!1}if(Ni)return t=no.current,t===null?(r!==Ii&&(t=Error(i(423),{cause:r}),Ui(vi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=vi(r,n),a=Qs(e.stateNode,r,a),Ga(e,a),Yl!==4&&(Yl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ii&&(e=Error(i(422),{cause:r}),Ui(vi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=vi(o,n),tu===null?tu=[o]:tu.push(o),Yl!==4&&(Yl=2),t===null)return!0;r=vi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Qs(n.stateNode,r,e),Ga(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(cu===null||!cu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=$s(a),ec(a,e,n,r),Ga(n,a),!1}n=n.return}while(n!==null);return!1}var nc=Error(i(461)),rc=!1;function ic(e,t,n,r){t.child=e===null?Ra(t,null,n,r):La(t,e.child,n,r)}function ac(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return $i(t),r=wo(e,t,n,o,a,i),s=Oo(),e!==null&&!rc?(ko(e,t,i),kc(e,t,i)):(Ni&&s&&ki(t),t.flags|=1,ic(e,t,r,i),t.child)}function oc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ui(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,sc(e,t,a,r,i)):(e=fi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Ac(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?jr:n,n(o,r)&&e.ref===t.ref)return kc(e,t,i)}return t.flags|=1,e=di(a,r),e.ref=t.ref,e.return=t,t.child=e}function sc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(jr(a,r)&&e.ref===t.ref)if(rc=!1,t.pendingProps=r=a,Ac(e,i))e.flags&131072&&(rc=!0);else return t.lanes=e.lanes,kc(e,t,i)}return hc(e,t,n,r,i)}function cc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return uc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ya(t,a===null?null:a.cachePool),a===null?eo():$a(t,a),oo(t);else return r=t.lanes=536870912,uc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&ya(t,null),eo(),so(t)):(ya(t,a.cachePool),$a(t,a),so(t),t.memoizedState=null);return ic(e,t,i,n),t.child}function lc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uc(e,t,n,r,i){var a=va();return a=a===null?null:{parent:oa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ya(t,null),eo(),oo(t),e!==null&&Zi(e,t,r,!0),t.childLanes=i,null}function dc(e,t){return t=wc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fc(e,t,n){return La(t,e.child,null,n),e=dc(t,t.pendingProps),e.flags|=2,co(t),t.memoizedState=null,e}function pc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(Ni){if(r.mode===`hidden`)return e=dc(t,r),t.lanes=536870912,lc(null,e);if(ao(t),(e=B)?(e=df(e,Fi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wi===null?null:{id:Ti,overflow:Ei},retryLane:536870912,hydrationErrors:null},n=hi(e),n.return=t,t.child=n,Mi=t,B=null)):e=null,e===null)throw Li(t);return t.lanes=536870912,null}return dc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(ao(t),a)if(t.flags&256)t.flags&=-257,t=fc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(rc||Zi(e,t,n,!1),a=(n&e.childLanes)!==0,rc||a){if(r=Hl,r!==null&&(s=ut(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,ii(e,s),bu(r,e,s),nc;Mu(),t=fc(e,t,n)}else e=o.treeContext,B=hf(s.nextSibling),Mi=t,Ni=!0,Pi=null,Fi=!1,e!==null&&ji(t,e),t=dc(t,r),t.flags|=4096;return t}return e=di(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function mc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hc(e,t,n,r,i){return $i(t),n=wo(e,t,n,r,void 0,i),r=Oo(),e!==null&&!rc?(ko(e,t,i),kc(e,t,i)):(Ni&&r&&ki(t),t.flags|=1,ic(e,t,n,i),t.child)}function gc(e,t,n,r,i,a){return $i(t),t.updateQueue=null,n=Eo(t,r,n,i),To(e),r=Oo(),e!==null&&!rc?(ko(e,t,a),kc(e,t,a)):(Ni&&r&&ki(t),t.flags|=1,ic(e,t,n,a),t.child)}function _c(e,t,n,r,i){if($i(t),t.stateNode===null){var a=si,o=n.contextType;typeof o==`object`&&o&&(a=ea(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Us,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ba(t),o=n.contextType,a.context=typeof o==`object`&&o?ea(o):si,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Hs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Us.enqueueReplaceState(a,a.state,null),Ja(t,r,a,i),qa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Ks(n,s);a.props=c;var l=a.context,u=n.contextType;o=si,typeof u==`object`&&u&&(o=ea(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Gs(t,a,r,o),za=!1;var f=t.memoizedState;a.state=f,Ja(t,r,a,i),qa(),l=t.memoizedState,s||f!==l||za?(typeof d==`function`&&(Hs(t,n,d,r),l=t.memoizedState),(c=za||Ws(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Va(e,t),o=t.memoizedProps,u=Ks(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=si,typeof l==`object`&&l&&(c=ea(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Gs(t,a,r,c),za=!1,f=t.memoizedState,a.state=f,Ja(t,r,a,i),qa();var p=t.memoizedState;o!==d||f!==p||za||e!==null&&e.dependencies!==null&&Qi(e.dependencies)?(typeof s==`function`&&(Hs(t,n,s,r),p=t.memoizedState),(u=za||Ws(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Qi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,mc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=La(t,e.child,null,i),t.child=La(t,null,n,i)):ic(e,t,n,i),t.memoizedState=a.state,e=t.child):e=kc(e,t,i),e}function vc(e,t,n,r){return Vi(),t.flags|=256,ic(e,t,n,r),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:ba()}}function xc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=$l),e}function Sc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(lo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(Ni){if(a?io(t):so(t),(e=B)?(e=df(e,Fi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wi===null?null:{id:Ti,overflow:Ei},retryLane:536870912,hydrationErrors:null},n=hi(e),n.return=t,t.child=n,Mi=t,B=null)):e=null,e===null)throw Li(t);return pf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(so(t),a=t.mode,c=wc({mode:`hidden`,children:c},a),r=pi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=bc(n),r.childLanes=xc(e,s,n),t.memoizedState=yc,lc(null,r)):(io(t),Cc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(io(t),t.flags&=-257,t=Tc(e,t,n)):t.memoizedState===null?(so(t),c=r.fallback,a=t.mode,r=wc({mode:`visible`,children:r.children},a),c=pi(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,La(t,e.child,null,n),r=t.child,r.memoizedState=bc(n),r.childLanes=xc(e,s,n),t.memoizedState=yc,t=lc(null,r)):(so(t),t.child=e.child,t.flags|=128,t=null);else if(io(t),pf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ui({value:r,source:null,stack:null}),t=Tc(e,t,n)}else if(rc||Zi(e,t,n,!1),s=(n&e.childLanes)!==0,rc||s){if(s=Hl,s!==null&&(r=ut(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,ii(e,r),bu(s,e,r),nc;ff(c)||Mu(),t=Tc(e,t,n)}else ff(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,B=hf(c.nextSibling),Mi=t,Ni=!0,Pi=null,Fi=!1,e!==null&&ji(t,e),t=Cc(t,r.children),t.flags|=4096);return t}return a?(so(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=di(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=pi(c,a,n,null),c.flags|=2):c=di(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,lc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=bc(n):(a=c.cachePool,a===null?a=ba():(l=oa._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=xc(e,s,n),t.memoizedState=yc,lc(e.child,r)):(io(t),n=e.child,e=n.sibling,n=di(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Cc(e,t){return t=wc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function wc(e,t){return e=li(22,e,null,t),e.lanes=0,e}function Tc(e,t,n){return La(t,e.child,null,n),e=Cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ec(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yi(e.return,t,n)}function Dc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Oc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=lo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,D(lo,o),ic(e,t,r,n),r=Ni?Si:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,n,t);else if(e.tag===19)Ec(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&uo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Dc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Dc(t,!0,n,null,a,r);break;case`together`:Dc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function kc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Zi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=di(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=di(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ac(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Qi(e))):!0}function jc(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),qi(t,oa,e.memoizedState.cache),Vi();break;case 27:case 5:Se(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:qi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ao(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(io(t),e=kc(e,t,n),e===null?null:e.sibling):Sc(e,t,n):(io(t),t.flags|=128,null);io(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Zi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Oc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),D(lo,lo.current),r)break;return null;case 22:return t.lanes=0,cc(e,t,n,t.pendingProps);case 24:qi(t,oa,e.memoizedState.cache)}return kc(e,t,n)}function Mc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rc=!0;else{if(!Ac(e,n)&&!(t.flags&128))return rc=!1,jc(e,t,n);rc=!!(e.flags&131072)}else rc=!1,Ni&&t.flags&1048576&&Oi(t,Si,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Da(t.elementType),t.type=e,typeof e==`function`)ui(e)?(r=Ks(e,r),t.tag=1,t=_c(null,t,e,r,n)):(t.tag=0,t=hc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===C){t.tag=11,t=ac(null,t,e,r,n);break a}else if(a===ne){t.tag=14,t=oc(null,t,e,r,n);break a}}throw t=le(e)||e,Error(i(306,t,``))}}return t;case 0:return hc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Ks(r,t.pendingProps),_c(e,t,r,a,n);case 3:a:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Va(e,t),Ja(t,r,null,n);var s=t.memoizedState;if(r=s.cache,qi(t,oa,r),r!==o.cache&&Xi(t,[oa],n,!0),qa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=vc(e,t,r,n);break a}else if(r!==a){a=vi(Error(i(424)),t),Ui(a),t=vc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(B=hf(e.firstChild),Mi=t,Ni=!0,Pi=null,Fi=!0,n=Ra(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vi(),r===a){t=kc(e,t,n);break a}ic(e,t,r,n)}t=t.child}return t;case 26:return mc(e,t),e===null?(n=If(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ni||(n=t.type,e=t.pendingProps,r=qd(ve.current).createElement(n),r[gt]=t,r[_t]=e,Vd(r,n,e),kt(r),t.stateNode=r):t.memoizedState=If(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Se(t),e===null&&Ni&&(r=t.stateNode=yf(t.type,t.pendingProps,ve.current),Mi=t,Fi=!0,a=B,af(t.type)?(gf=a,B=hf(r.firstChild)):B=a),ic(e,t,t.pendingProps.children,n),mc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ni&&((a=r=B)&&(r=lf(r,t.type,t.pendingProps,Fi),r===null?a=!1:(t.stateNode=r,Mi=t,B=hf(r.firstChild),Fi=!1,a=!0)),a||Li(t)),Se(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Xd(a,o)?r=null:s!==null&&Xd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=wo(e,t,Do,null,null,n),ap._currentValue=a),mc(e,t),ic(e,t,r,n),t.child;case 6:return e===null&&Ni&&((e=n=B)&&(n=uf(n,t.pendingProps,Fi),n===null?e=!1:(t.stateNode=n,Mi=t,B=null,e=!0)),e||Li(t)),null;case 13:return Sc(e,t,n);case 4:return be(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=La(t,null,r,n):ic(e,t,r,n),t.child;case 11:return ac(e,t,t.type,t.pendingProps,n);case 7:return ic(e,t,t.pendingProps,n),t.child;case 8:return ic(e,t,t.pendingProps.children,n),t.child;case 12:return ic(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,qi(t,t.type,r.value),ic(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,$i(t),a=ea(a),r=r(a),t.flags|=1,ic(e,t,r,n),t.child;case 14:return oc(e,t,t.type,t.pendingProps,n);case 15:return sc(e,t,t.type,t.pendingProps,n);case 19:return Oc(e,t,n);case 31:return pc(e,t,n);case 22:return cc(e,t,n,t.pendingProps);case 24:return $i(t),r=ea(oa),e===null?(a=va(),a===null&&(a=Hl,o=sa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ba(t),qi(t,oa,a)):((e.lanes&n)!==0&&(Va(e,t),Ja(t,null,null,n),qa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,qi(t,oa,r),r!==a.cache&&Xi(t,[oa],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),qi(t,oa,r))),ic(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Nc(e){e.flags|=4}function Pc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(ku())e.flags|=8192;else throw Oa=wa,Sa}else e.flags&=-16777217}function Fc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Zf(t))if(ku())e.flags|=8192;else throw Oa=wa,Sa}function Ic(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:it(),e.lanes|=t,eu|=t)}function Lc(e,t){if(!Ni)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zc(e,t,n){var r=t.pendingProps;switch(Ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rc(t),null;case 1:return Rc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ji(oa),xe(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Bi(t)?Nc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hi())),Rc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Nc(t),o===null?(Rc(t),Pc(t,a,null,r,n)):(Rc(t),Fc(t,o))):o?o===e.memoizedState?(Rc(t),t.flags&=-16777217):(Nc(t),Rc(t),Fc(t,o)):(e=e.memoizedProps,e!==r&&Nc(t),Rc(t),Pc(t,a,e,r,n)),null;case 27:if(Ce(t),n=ve.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Rc(t),null}e=ge.current,Bi(t)?Ri(t,e):(e=yf(a,r,n),t.stateNode=e,Nc(t))}return Rc(t),null;case 5:if(Ce(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Rc(t),null}if(o=ge.current,Bi(t))Ri(t,o);else{var s=qd(ve.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[gt]=t,o[_t]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Vd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Nc(t)}}return Rc(t),Pc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ve.current,Bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Mi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[gt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Rd(e.nodeValue,n)),e||Li(t,!0)}else e=qd(e).createTextNode(r),e[gt]=t,t.stateNode=e}return Rc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Bi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[gt]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rc(t),e=!1}else n=Hi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(co(t),t):(co(t),null);if(t.flags&128)throw Error(i(558))}return Rc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Bi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[gt]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rc(t),a=!1}else a=Hi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(co(t),t):(co(t),null)}return co(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ic(t,t.updateQueue),Rc(t),null);case 4:return xe(),e===null&&Od(t.stateNode.containerInfo),Rc(t),null;case 10:return Ji(t.type),Rc(t),null;case 19:if(he(lo),r=t.memoizedState,r===null)return Rc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Lc(r,!1);else{if(Yl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uo(e),o!==null){for(t.flags|=128,Lc(r,!1),e=o.updateQueue,t.updateQueue=e,Ic(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)R(n,e),n=n.sibling;return D(lo,lo.current&1|2),Ni&&Di(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Fe()>ou&&(t.flags|=128,a=!0,Lc(r,!1),t.lanes=4194304)}else{if(!a)if(e=uo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ic(t,e),Lc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!Ni)return Rc(t),null}else 2*Fe()-r.renderingStartTime>ou&&n!==536870912&&(t.flags|=128,a=!0,Lc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Rc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Fe(),e.sibling=null,n=lo.current,D(lo,a?n&1|2:n&1),Ni&&Di(t,r.treeForkCount),e);case 22:case 23:return co(t),to(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Rc(t),t.subtreeFlags&6&&(t.flags|=8192)):Rc(t),n=t.updateQueue,n!==null&&Ic(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&he(_a),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ji(oa),Rc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Bc(e,t){switch(Ai(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ji(oa),xe(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ce(t),null;case 31:if(t.memoizedState!==null){if(co(t),t.alternate===null)throw Error(i(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(co(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(lo),null;case 4:return xe(),null;case 10:return Ji(t.type),null;case 22:case 23:return co(t),to(),e!==null&&he(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ji(oa),null;case 25:return null;default:return null}}function Vc(e,t){switch(Ai(t),t.tag){case 3:Ji(oa),xe();break;case 26:case 27:case 5:Ce(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&co(t);break;case 13:co(t);break;case 19:he(lo);break;case 10:Ji(t.type);break;case 22:case 23:co(t),to(),e!==null&&he(_a);break;case 24:Ji(oa)}}function Hc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Xu(t,t.return,e)}}function Uc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Xu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Xu(t,t.return,e)}}function Wc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xa(t,n)}catch(t){Xu(e,e.return,t)}}}function Gc(e,t,n){n.props=Ks(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Xu(e,t,n)}}function Kc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Xu(e,t,n)}}function qc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Xu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Xu(e,t,n)}else n.current=null}function Jc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Xu(e,e.return,t)}}function Yc(e,t,n){try{var r=e.stateNode;Hd(r,e.type,n,t),r[_t]=t}catch(t){Xu(e,e.return,t)}}function Xc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&af(e.type)||e.tag===4}function Zc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Xc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&af(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cn));else if(r!==4&&(r===27&&af(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&af(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}function el(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Vd(t,r,n),t[gt]=e,t[_t]=n}catch(t){Xu(e,e.return,t)}}var tl=!1,nl=!1,rl=!1,il=typeof WeakSet==`function`?WeakSet:Set,al=null;function ol(e,t){if(e=e.containerInfo,Gd=mp,e=Fr(e),Ir(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Kd={focusedElem:e,selectionRange:n},mp=!1,al=t;al!==null;)if(t=al,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,al=e;else for(;al!==null;){switch(t=al,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ks(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Xu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)cf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:cf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,al=e;break}al=t.return}}function sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),r&4&&Hc(5,n);break;case 1:if(Sl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Xu(n,n.return,e)}else{var i=Ks(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Xu(n,n.return,e)}}r&64&&Wc(n),r&512&&Kc(n,n.return);break;case 3:if(Sl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Xa(e,t)}catch(e){Xu(n,n.return,e)}}break;case 27:t===null&&r&4&&el(n);case 26:case 5:Sl(e,n),t===null&&r&4&&Jc(n),r&512&&Kc(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),r&4&&pl(e,n);break;case 13:Sl(e,n),r&4&&ml(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ed.bind(null,n),mf(e,n))));break;case 22:if(r=n.memoizedState!==null||tl,!r){t=t!==null&&t.memoizedState!==null||nl,i=tl;var a=nl;tl=r,(nl=t)&&!a?wl(e,n,(n.subtreeFlags&8772)!=0):Sl(e,n),tl=i,nl=a}break;case 30:break;default:Sl(e,n)}}function cl(e){var t=e.alternate;t!==null&&(e.alternate=null,cl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&wt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ll=null,ul=!1;function dl(e,t,n){for(n=n.child;n!==null;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(Ge&&typeof Ge.onCommitFiberUnmount==`function`)try{Ge.onCommitFiberUnmount(We,n)}catch{}switch(n.tag){case 26:nl||qc(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nl||qc(n,t);var r=ll,i=ul;af(n.type)&&(ll=n.stateNode,ul=!1),dl(e,t,n),bf(n.stateNode),ll=r,ul=i;break;case 5:nl||qc(n,t);case 6:if(r=ll,i=ul,ll=null,dl(e,t,n),ll=r,ul=i,ll!==null)if(ul)try{(ll.nodeType===9?ll.body:ll.nodeName===`HTML`?ll.ownerDocument.body:ll).removeChild(n.stateNode)}catch(e){Xu(n,t,e)}else try{ll.removeChild(n.stateNode)}catch(e){Xu(n,t,e)}break;case 18:ll!==null&&(ul?(e=ll,of(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Pp(e)):of(ll,n.stateNode));break;case 4:r=ll,i=ul,ll=n.stateNode.containerInfo,ul=!0,dl(e,t,n),ll=r,ul=i;break;case 0:case 11:case 14:case 15:Uc(2,n,t),nl||Uc(4,n,t),dl(e,t,n);break;case 1:nl||(qc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Gc(n,t,r)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:nl=(r=nl)||n.memoizedState!==null,dl(e,t,n),nl=r;break;default:dl(e,t,n)}}function pl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pp(e)}catch(e){Xu(t,t.return,e)}}}function ml(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pp(e)}catch(e){Xu(t,t.return,e)}}function hl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new il),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new il),t;default:throw Error(i(435,e.tag))}}function gl(e,t){var n=hl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=td.bind(null,e,t);t.then(r,r)}})}function _l(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(af(c.type)){ll=c.stateNode,ul=!1;break a}break;case 5:ll=c.stateNode,ul=!1;break a;case 3:case 4:ll=c.stateNode.containerInfo,ul=!0;break a}c=c.return}if(ll===null)throw Error(i(160));fl(o,s,a),ll=null,ul=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yl(t,e),t=t.sibling}var vl=null;function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_l(t,e),bl(e),r&4&&(Uc(3,e,e.return),Hc(3,e),Uc(5,e,e.return));break;case 1:_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),r&64&&tl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=vl;if(_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[Ct]||o[gt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Vd(o,r,n),o[gt]=e,kt(o),r=o;break a;case`link`:var s=Jf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Vd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Jf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Vd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[gt]=e,kt(o),r=o}e.stateNode=r}else Yf(a,e.type,e.stateNode);else e.stateNode=Uf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Yc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Yf(a,e.type,e.stateNode):Uf(a,r,e.memoizedProps))}break;case 27:_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),n!==null&&r&4&&Yc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),e.flags&32){a=e.stateNode;try{$t(a,``)}catch(t){Xu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Yc(e,a,n===null?a:n.memoizedProps)),r&1024&&(rl=!0);break;case 6:if(_l(t,e),bl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Xu(e,e.return,t)}}break;case 3:if(qf=null,a=vl,vl=Cf(t.containerInfo),_l(t,e),vl=a,bl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pp(t.containerInfo)}catch(t){Xu(e,e.return,t)}rl&&(rl=!1,xl(e));break;case 4:r=vl,vl=Cf(e.stateNode.containerInfo),_l(t,e),bl(e),vl=r;break;case 12:_l(t,e),bl(e);break;case 31:_l(t,e),bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 13:_l(t,e),bl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(iu=Fe()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=tl,d=nl;if(tl=u||a,nl=d||l,_l(t,e),nl=d,tl=u,bl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||tl||nl||Cl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Xu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Xu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?sf(m,!0):sf(l.stateNode,!1)}catch(e){Xu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gl(e,n))));break;case 19:_l(t,e),bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 30:break;case 21:break;default:_l(t,e),bl(e)}}function bl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Xc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;$c(e,Zc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&($t(o,``),n.flags&=-33),$c(e,Zc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Qc(e,Zc(e),s);break;default:throw Error(i(161))}}catch(t){Xu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sl(e,t.alternate,t),t=t.sibling}function Cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Uc(4,t,t.return),Cl(t);break;case 1:qc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Gc(t,t.return,n),Cl(t);break;case 27:bf(t.stateNode);case 26:case 5:qc(t,t.return),Cl(t);break;case 22:t.memoizedState===null&&Cl(t);break;case 30:Cl(t);break;default:Cl(t)}e=e.sibling}}function wl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:wl(i,a,n),Hc(4,a);break;case 1:if(wl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Xu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ya(c[i],s)}catch(e){Xu(r,r.return,e)}}n&&o&64&&Wc(a),Kc(a,a.return);break;case 27:el(a);case 26:case 5:wl(i,a,n),n&&r===null&&o&4&&Jc(a),Kc(a,a.return);break;case 12:wl(i,a,n);break;case 31:wl(i,a,n),n&&o&4&&pl(i,a);break;case 13:wl(i,a,n),n&&o&4&&ml(i,a);break;case 22:a.memoizedState===null&&wl(i,a,n),Kc(a,a.return);break;case 30:break;default:wl(i,a,n)}t=t.sibling}}function Tl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ca(n))}function El(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ca(e))}function Dl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ol(e,t,n,r),t=t.sibling}function Ol(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Dl(e,t,n,r),i&2048&&Hc(9,t);break;case 1:Dl(e,t,n,r);break;case 3:Dl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ca(e)));break;case 12:if(i&2048){Dl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Xu(t,t.return,e)}}else Dl(e,t,n,r);break;case 31:Dl(e,t,n,r);break;case 13:Dl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Dl(e,t,n,r):(a._visibility|=2,kl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Dl(e,t,n,r):Al(e,t),i&2048&&Tl(o,t);break;case 24:Dl(e,t,n,r),i&2048&&El(t.alternate,t);break;default:Dl(e,t,n,r)}}function kl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:kl(a,o,s,c,i),Hc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,kl(a,o,s,c,i)):u._visibility&2?kl(a,o,s,c,i):Al(a,o),i&&l&2048&&Tl(o.alternate,o);break;case 24:kl(a,o,s,c,i),i&&l&2048&&El(o.alternate,o);break;default:kl(a,o,s,c,i)}t=t.sibling}}function Al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Al(n,r),i&2048&&Tl(r.alternate,r);break;case 24:Al(n,r),i&2048&&El(r.alternate,r);break;default:Al(n,r)}t=t.sibling}}var jl=8192;function Ml(e,t,n){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)Nl(e,t,n),e=e.sibling}function Nl(e,t,n){switch(e.tag){case 26:Ml(e,t,n),e.flags&jl&&e.memoizedState!==null&&Qf(n,vl,e.memoizedState,e.memoizedProps);break;case 5:Ml(e,t,n);break;case 3:case 4:var r=vl;vl=Cf(e.stateNode.containerInfo),Ml(e,t,n),vl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=jl,jl=16777216,Ml(e,t,n),jl=r):Ml(e,t,n));break;default:Ml(e,t,n)}}function Pl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];al=r,Rl(r,e)}Pl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Uc(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ll(e)):Fl(e);break;default:Fl(e)}}function Ll(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];al=r,Rl(r,e)}Pl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Uc(8,t,t.return),Ll(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ll(t));break;default:Ll(t)}e=e.sibling}}function Rl(e,t){for(;al!==null;){var n=al;switch(n.tag){case 0:case 11:case 15:Uc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ca(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,al=r;else a:for(n=e;al!==null;){r=al;var i=r.sibling,a=r.return;if(cl(r),r===n){al=null;break a}if(i!==null){i.return=a,al=i;break a}al=a}}}var zl={getCacheForType:function(e){var t=ea(oa),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ea(oa).controller.signal}},Bl=typeof WeakMap==`function`?WeakMap:Map,Vl=0,Hl=null,W=null,G=0,Ul=0,Wl=null,Gl=!1,Kl=!1,ql=!1,Jl=0,Yl=0,Xl=0,Zl=0,Ql=0,$l=0,eu=0,tu=null,nu=null,ru=!1,iu=0,au=0,ou=1/0,su=null,cu=null,lu=0,uu=null,du=null,fu=0,pu=0,mu=null,hu=null,gu=0,_u=null;function vu(){return Vl&2&&G!==0?G&-G:T.T===null?pt():_d()}function yu(){if($l===0)if(!(G&536870912)||Ni){var e=Qe;Qe<<=1,!(Qe&3932160)&&(Qe=262144),$l=e}else $l=536870912;return e=no.current,e!==null&&(e.flags|=32),$l}function bu(e,t,n){(e===Hl&&(Ul===2||Ul===9)||e.cancelPendingCommit!==null)&&(Du(e,0),wu(e,G,$l,!1)),ot(e,n),(!(Vl&2)||e!==Hl)&&(e===Hl&&(!(Vl&2)&&(Zl|=n),Yl===4&&wu(e,G,$l,!1)),ld(e))}function xu(e,t,n){if(Vl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||nt(e,t),a=r?Fu(e,t):Nu(e,t,!0),o=r;do{if(a===0){Kl&&!r&&wu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Cu(n)){a=Nu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=tu;var l=c.current.memoizedState.isDehydrated;if(l&&(Du(c,s).flags|=256),s=Nu(c,s,!1),s!==2){if(ql&&!l){c.errorRecoveryDisabledLanes|=o,Zl|=o,a=4;break a}o=nu,nu=a,o!==null&&(nu===null?nu=o:nu.push.apply(nu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Du(e,0),wu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:wu(r,t,$l,!Gl);break a;case 2:nu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=iu+300-Fe(),10<a)){if(wu(r,t,$l,!Gl),tt(r,0,!0)!==0)break a;fu=t,r.timeoutHandle=$d(Su.bind(null,r,n,nu,su,ru,t,$l,Zl,eu,Gl,o,`Throttled`,-0,0),a);break a}Su(r,n,nu,su,ru,t,$l,Zl,eu,Gl,o,null,-0,0)}}break}while(1);ld(e)}function Su(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},Nl(t,a,d);var m=(a&62914560)===a?iu-Fe():(a&4194048)===a?au-Fe():0;if(m=ep(d,m),m!==null){fu=a,e.cancelPendingCommit=m(Hu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),wu(e,a,o,!l);return}}Hu(e,t,a,n,r,i,o,s,c)}function Cu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ar(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wu(e,t,n,r){t&=~Ql,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-qe(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&ct(e,n,t)}function Tu(){return Vl&6?!0:(ud(0,!1),!1)}function Eu(){if(W!==null){if(Ul===0)var e=W.return;else e=W,Ki=Gi=null,Ao(e),ja=null,Ma=0,e=W;for(;e!==null;)Vc(e.alternate,e),e=e.return;W=null}}function Du(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ef(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fu=0,Eu(),Hl=e,W=n=di(e.current,null),G=t,Ul=0,Wl=null,Gl=!1,Kl=nt(e,t),ql=!1,eu=$l=Ql=Zl=Xl=Yl=0,nu=tu=null,ru=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-qe(r),a=1<<i;t|=e[i],r&=~a}return Jl=t,L(),n}function Ou(e,t){V=null,T.H=Rs,t===xa||t===Ca?(t=ka(),Ul=3):t===Sa?(t=ka(),Ul=4):Ul=t===nc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Wl=t,W===null&&(Yl=1,Xs(e,vi(t,e.current)))}function ku(){var e=no.current;return e===null?!0:(G&4194048)===G?ro===null:(G&62914560)===G||G&536870912?e===ro:!1}function Au(){var e=T.H;return T.H=Rs,e===null?Rs:e}function ju(){var e=T.A;return T.A=zl,e}function Mu(){Yl=4,Gl||(G&4194048)!==G&&no.current!==null||(Kl=!0),!(Xl&134217727)&&!(Zl&134217727)||Hl===null||wu(Hl,G,$l,!1)}function Nu(e,t,n){var r=Vl;Vl|=2;var i=Au(),a=ju();(Hl!==e||G!==t)&&(su=null,Du(e,t)),t=!1;var o=Yl;a:do try{if(Ul!==0&&W!==null){var s=W,c=Wl;switch(Ul){case 8:Eu(),o=6;break a;case 3:case 2:case 9:case 6:no.current===null&&(t=!0);var l=Ul;if(Ul=0,Wl=null,zu(e,s,c,l),n&&Kl){o=0;break a}break;default:l=Ul,Ul=0,Wl=null,zu(e,s,c,l)}}Pu(),o=Yl;break}catch(t){Ou(e,t)}while(1);return t&&e.shellSuspendCounter++,Ki=Gi=null,Vl=r,T.H=i,T.A=a,W===null&&(Hl=null,G=0,L()),o}function Pu(){for(;W!==null;)Lu(W)}function Fu(e,t){var n=Vl;Vl|=2;var r=Au(),a=ju();Hl!==e||G!==t?(su=null,ou=Fe()+500,Du(e,t)):Kl=nt(e,t);a:do try{if(Ul!==0&&W!==null){t=W;var o=Wl;b:switch(Ul){case 1:Ul=0,Wl=null,zu(e,t,o,1);break;case 2:case 9:if(Ta(o)){Ul=0,Wl=null,Ru(t);break}t=function(){Ul!==2&&Ul!==9||Hl!==e||(Ul=7),ld(e)},o.then(t,t);break a;case 3:Ul=7;break a;case 4:Ul=5;break a;case 7:Ta(o)?(Ul=0,Wl=null,Ru(t)):(Ul=0,Wl=null,zu(e,t,o,7));break;case 5:var s=null;switch(W.tag){case 26:s=W.memoizedState;case 5:case 27:var c=W;if(s?Zf(s):c.stateNode.complete){Ul=0,Wl=null;var l=c.sibling;if(l!==null)W=l;else{var u=c.return;u===null?W=null:(W=u,Bu(u))}break b}}Ul=0,Wl=null,zu(e,t,o,5);break;case 6:Ul=0,Wl=null,zu(e,t,o,6);break;case 8:Eu(),Yl=6;break a;default:throw Error(i(462))}}Iu();break}catch(t){Ou(e,t)}while(1);return Ki=Gi=null,T.H=r,T.A=a,Vl=n,W===null?(Hl=null,G=0,L(),Yl):0}function Iu(){for(;W!==null&&!O();)Lu(W)}function Lu(e){var t=Mc(e.alternate,e,Jl);e.memoizedProps=e.pendingProps,t===null?Bu(e):W=t}function Ru(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gc(n,t,t.pendingProps,t.type,void 0,G);break;case 11:t=gc(n,t,t.pendingProps,t.type.render,t.ref,G);break;case 5:Ao(t);default:Vc(n,t),t=W=R(t,Jl),t=Mc(n,t,Jl)}e.memoizedProps=e.pendingProps,t===null?Bu(e):W=t}function zu(e,t,n,r){Ki=Gi=null,Ao(t),ja=null,Ma=0;var i=t.return;try{if(tc(e,i,t,n,G)){Yl=1,Xs(e,vi(n,e.current)),W=null;return}}catch(t){if(i!==null)throw W=i,t;Yl=1,Xs(e,vi(n,e.current)),W=null;return}t.flags&32768?(Ni||r===1?e=!0:Kl||G&536870912?e=!1:(Gl=e=!0,(r===2||r===9||r===3||r===6)&&(r=no.current,r!==null&&r.tag===13&&(r.flags|=16384))),Vu(t,e)):Bu(t)}function Bu(e){var t=e;do{if(t.flags&32768){Vu(t,Gl);return}e=t.return;var n=zc(t.alternate,t,Jl);if(n!==null){W=n;return}if(t=t.sibling,t!==null){W=t;return}W=t=e}while(t!==null);Yl===0&&(Yl=5)}function Vu(e,t){do{var n=Bc(e.alternate,e);if(n!==null){n.flags&=32767,W=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){W=e;return}W=e=n}while(e!==null);Yl=6,W=null}function Hu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do qu();while(lu!==0);if(Vl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ti,st(e,n,o,s,c,l),e===Hl&&(W=Hl=null,G=0),du=t,uu=e,fu=n,pu=o,mu=a,hu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,nd(ze,function(){return Ju(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=T.T,T.T=null,a=E.p,E.p=2,s=Vl,Vl|=4;try{ol(e,t,n)}finally{Vl=s,E.p=a,T.T=r}}lu=1,Uu(),Wu(),Gu()}}function Uu(){if(lu===1){lu=0;var e=uu,t=du,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=Vl;Vl|=4;try{yl(t,e);var a=Kd,o=Fr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Pr(s.ownerDocument.documentElement,s)){if(c!==null&&Ir(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Nr(s,h),v=Nr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}mp=!!Gd,Kd=Gd=null}finally{Vl=i,E.p=r,T.T=n}}e.current=t,lu=2}}function Wu(){if(lu===2){lu=0;var e=uu,t=du,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=Vl;Vl|=4;try{sl(e,t.alternate,t)}finally{Vl=i,E.p=r,T.T=n}}lu=3}}function Gu(){if(lu===4||lu===3){lu=0,Pe();var e=uu,t=du,n=fu,r=hu;t.subtreeFlags&10256||t.flags&10256?lu=5:(lu=0,du=uu=null,Ku(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(cu=null),ft(n),t=t.stateNode,Ge&&typeof Ge.onCommitFiberRoot==`function`)try{Ge.onCommitFiberRoot(We,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=T.T,i=E.p,E.p=2,T.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{T.T=t,E.p=i}}fu&3&&qu(),ld(e),i=e.pendingLanes,n&261930&&i&42?e===_u?gu++:(gu=0,_u=e):gu=0,ud(0,!1)}}function Ku(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ca(t)))}function qu(){return Uu(),Wu(),Gu(),Ju()}function Ju(){if(lu!==5)return!1;var e=uu,t=pu;pu=0;var n=ft(fu),r=T.T,a=E.p;try{E.p=32>n?32:n,T.T=null,n=mu,mu=null;var o=uu,s=fu;if(lu=0,du=uu=null,fu=0,Vl&6)throw Error(i(331));var c=Vl;if(Vl|=4,Il(o.current),Ol(o,o.current,s,n),Vl=c,ud(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot==`function`)try{Ge.onPostCommitFiberRoot(We,o)}catch{}return!0}finally{E.p=a,T.T=r,Ku(e,t)}}function Yu(e,t,n){t=vi(n,t),t=Qs(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(ot(e,2),ld(e))}function Xu(e,t,n){if(e.tag===3)Yu(e,e,n);else for(;t!==null;){if(t.tag===3){Yu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(cu===null||!cu.has(r))){e=vi(n,e),n=$s(2),r=Ua(t,n,2),r!==null&&(ec(n,r,t,e),ot(r,2),ld(r));break}}t=t.return}}function Zu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(ql=!0,i.add(n),e=Qu.bind(null,e,t,n),t.then(e,e))}function Qu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Hl===e&&(G&n)===n&&(Yl===4||Yl===3&&(G&62914560)===G&&300>Fe()-iu?!(Vl&2)&&Du(e,0):Ql|=n,eu===G&&(eu=0)),ld(e)}function $u(e,t){t===0&&(t=it()),e=ii(e,t),e!==null&&(ot(e,t),ld(e))}function ed(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$u(e,n)}function td(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),$u(e,n)}function nd(e,t){return Me(e,t)}var rd=null,id=null,ad=!1,od=!1,sd=!1,cd=0;function ld(e){e!==id&&e.next===null&&(id===null?rd=id=e:id=id.next=e),od=!0,ad||(ad=!0,gd())}function ud(e,t){if(!sd&&od){sd=!0;do for(var n=!1,r=rd;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-qe(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,hd(r,a))}else a=G,a=tt(r,r===Hl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||nt(r,a)||(n=!0,hd(r,a));r=r.next}while(n);sd=!1}}function dd(){fd()}function fd(){od=ad=!1;var e=0;cd!==0&&Qd()&&(e=cd);for(var t=Fe(),n=null,r=rd;r!==null;){var i=r.next,a=pd(r,t);a===0?(r.next=null,n===null?rd=i:n.next=i,i===null&&(id=n)):(n=r,(e!==0||a&3)&&(od=!0)),r=i}lu!==0&&lu!==5||ud(e,!1),cd!==0&&(cd=0)}function pd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-qe(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=rt(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Hl,n=G,n=tt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ul===2||Ul===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ne(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||nt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ne(r),ft(n)){case 2:case 8:n=Re;break;case 32:n=ze;break;case 268435456:n=Ve;break;default:n=ze}return r=md.bind(null,e),n=Me(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ne(r),e.callbackPriority=2,e.callbackNode=null,2}function md(e,t){if(lu!==0&&lu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qu()&&e.callbackNode!==n)return null;var r=G;return r=tt(e,e===Hl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(xu(e,r,t),pd(e,Fe()),e.callbackNode!=null&&e.callbackNode===n?md.bind(null,e):null)}function hd(e,t){if(qu())return null;xu(e,t,!0)}function gd(){nf(function(){Vl&6?Me(Le,dd):fd()})}function _d(){if(cd===0){var e=da;e===0&&(e=Ze,Ze<<=1,!(Ze&261888)&&(Ze=256)),cd=e}return cd}function vd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:sn(``+e)}function yd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function bd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=vd((i[_t]||null).action),o=r.submitter;o&&(t=(t=o[_t]||null)?vd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new kn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(cd!==0){var e=o?yd(i,o):new FormData(i);Ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?yd(i,o):new FormData(i),Ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var xd=0;xd<Xr.length;xd++){var Sd=Xr[xd];Zr(Sd.toLowerCase(),`on`+(Sd[0].toUpperCase()+Sd.slice(1)))}Zr(P,`onAnimationEnd`),Zr(F,`onAnimationIteration`),Zr(I,`onAnimationStart`),Zr(`dblclick`,`onDoubleClick`),Zr(`focusin`,`onFocus`),Zr(`focusout`,`onBlur`),Zr(Gr,`onTransitionRun`),Zr(Kr,`onTransitionStart`),Zr(qr,`onTransitionCancel`),Zr(Jr,`onTransitionEnd`),Nt(`onMouseEnter`,[`mouseout`,`mouseover`]),Nt(`onMouseLeave`,[`mouseout`,`mouseover`]),Nt(`onPointerEnter`,[`pointerout`,`pointerover`]),Nt(`onPointerLeave`,[`pointerout`,`pointerover`]),Mt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Mt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Mt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Mt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Mt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Mt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Cd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),wd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Cd));function Td(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Qr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Qr(e)}i.currentTarget=null,a=c}}}}function K(e,t){var n=t[yt];n===void 0&&(n=t[yt]=new Set);var r=e+`__bubble`;n.has(r)||(kd(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),kd(n,e,r,t)}var Dd=`_reactListening`+Math.random().toString(36).slice(2);function Od(e){if(!e[Dd]){e[Dd]=!0,At.forEach(function(t){t!==`selectionchange`&&(wd.has(t)||Ed(t,!1,e),Ed(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dd]||(t[Dd]=!0,Ed(`selectionchange`,!1,t))}}function kd(e,t,n,r){switch(xp(t)){case 2:var i=hp;break;case 8:i=gp;break;default:i=_p}n=i.bind(null,t,n,e),i=void 0,!vn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ad(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Tt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}hn(function(){var r=a,i=un(n),s=[];a:{var c=Yr.get(e);if(c!==void 0){var l=kn,u=e;switch(e){case`keypress`:if(wn(n)===0)break a;case`keydown`:case`keyup`:l=qn;break;case`focusin`:u=`focus`,l=Rn;break;case`focusout`:u=`blur`,l=Rn;break;case`beforeblur`:case`afterblur`:l=Rn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=In;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Ln;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Yn;break;case P:case F:case I:l=zn;break;case Jr:l=Xn;break;case`scroll`:case`scrollend`:l=jn;break;case`wheel`:l=Zn;break;case`copy`:case`cut`:case`paste`:l=Bn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Jn;break;case`toggle`:case`beforetoggle`:l=Qn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=gn(m,p),g!=null&&d.push(jd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==ln&&(u=n.relatedTarget||n.fromElement)&&(Tt(u)||u[vt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Tt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=In,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Jn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Dt(l),h=u==null?c:Dt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Tt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Nd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Pd(s,c,l,d,!1),u!==null&&f!==null&&Pd(s,f,u,d,!0)}}a:{if(c=r?Dt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=vr;else if(fr(c))if(yr)v=Or;else{v=Er;var y=Tr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&rn(r.elementType)&&(v=vr):v=Dr;if(v&&=v(e,r)){pr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Yt(c,`number`,c.value)}switch(y=r?Dt(r):window,e){case`focusin`:(fr(y)||y.contentEditable===`true`)&&(Rr=y,zr=r,Br=null);break;case`focusout`:Br=zr=Rr=null;break;case`mousedown`:j=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:j=!1,Vr(s,n,i);break;case`selectionchange`:if(Lr)break;case`keydown`:case`keyup`:Vr(s,n,i)}var b;if(er)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else cr?or(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(rr&&n.locale!==`ko`&&(cr||x!==`onCompositionStart`?x===`onCompositionEnd`&&cr&&(b=Cn()):(bn=i,xn=`value`in bn?bn.value:bn.textContent,cr=!0)),y=Md(r,x),0<y.length&&(x=new Vn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=sr(n),b!==null&&(x.data=b)))),(b=nr?lr(e,n):ur(e,n))&&(x=Md(r,`onBeforeInput`),0<x.length&&(y=new Vn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),bd(s,e,r,n,i)}Td(s,t)})}function jd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Md(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=gn(e,n),i!=null&&r.unshift(jd(e,i,a)),i=gn(e,t),i!=null&&r.push(jd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=gn(n,a),l!=null&&o.unshift(jd(n,l,c))):i||(l=gn(n,a),l!=null&&o.push(jd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Fd=/\r\n?/g,Id=/\u0000|\uFFFD/g;function Ld(e){return(typeof e==`string`?e:``+e).replace(Fd,`
`).replace(Id,``)}function Rd(e,t){return t=Ld(t),Ld(e)===t}function zd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||$t(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&$t(e,``+r);break;case`className`:Rt(e,`class`,r);break;case`tabIndex`:Rt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Rt(e,n,r);break;case`style`:nn(e,r,o);break;case`data`:if(t!==`object`){Rt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=sn(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&zd(e,t,`name`,a.name,a,null),zd(e,t,`formEncType`,a.formEncType,a,null),zd(e,t,`formMethod`,a.formMethod,a,null),zd(e,t,`formTarget`,a.formTarget,a,null)):(zd(e,t,`encType`,a.encType,a,null),zd(e,t,`method`,a.method,a,null),zd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=sn(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=cn);break;case`onScroll`:r!=null&&K(`scroll`,e);break;case`onScrollEnd`:r!=null&&K(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=sn(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:K(`beforetoggle`,e),K(`toggle`,e),Lt(e,`popover`,r);break;case`xlinkActuate`:zt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:zt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:zt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:zt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:zt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:zt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:zt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:zt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:zt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Lt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=an.get(n)||n,Lt(e,n,r))}}function Bd(e,t,n,r,a,o){switch(n){case`style`:nn(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?$t(e,r):(typeof r==`number`||typeof r==`bigint`)&&$t(e,``+r);break;case`onScroll`:r!=null&&K(`scroll`,e);break;case`onScrollEnd`:r!=null&&K(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=cn);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!jt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[_t]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Lt(e,n,r)}}}function Vd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:K(`error`,e),K(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:zd(e,t,o,s,n,null)}}a&&zd(e,t,`srcSet`,n.srcSet,n,null),r&&zd(e,t,`src`,n.src,n,null);return;case`input`:K(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:zd(e,t,r,d,n,null)}}Jt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in K(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:zd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Xt(e,!!r,n,!0):Xt(e,!!r,t,!1);return;case`textarea`:for(s in K(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:zd(e,t,s,c,n,null)}Qt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:zd(e,t,l,r,n,null)}return;case`dialog`:K(`beforetoggle`,e),K(`toggle`,e),K(`cancel`,e),K(`close`,e);break;case`iframe`:case`object`:K(`load`,e);break;case`video`:case`audio`:for(r=0;r<Cd.length;r++)K(Cd[r],e);break;case`image`:K(`error`,e),K(`load`,e);break;case`details`:K(`toggle`,e);break;case`embed`:case`source`:case`link`:K(`error`,e),K(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:zd(e,t,u,r,n,null)}return;default:if(rn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Bd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&zd(e,t,c,r,n,null))}function Hd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||zd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&zd(e,t,p,m,r,f)}}qt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||zd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&zd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Xt(e,!!n,n?[]:``,!1):Xt(e,!!n,t,!0)):Xt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:zd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&zd(e,t,s,a,r,o)}Zt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:zd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:zd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&zd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:zd(e,t,u,p,r,m)}return;default:if(rn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Bd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Bd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&zd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||zd(e,t,f,p,r,m)}function Ud(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Wd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Ud(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Ud(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Gd=null,Kd=null;function qd(e){return e.nodeType===9?e:e.ownerDocument}function Jd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Yd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Xd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zd=null;function Qd(){var e=window.event;return e&&e.type===`popstate`?e===Zd?!1:(Zd=e,!0):(Zd=null,!1)}var $d=typeof setTimeout==`function`?setTimeout:void 0,ef=typeof clearTimeout==`function`?clearTimeout:void 0,tf=typeof Promise==`function`?Promise:void 0,nf=typeof queueMicrotask==`function`?queueMicrotask:tf===void 0?$d:function(e){return tf.resolve(null).then(e).catch(rf)};function rf(e){setTimeout(function(){throw e})}function af(e){return e===`head`}function of(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Pp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)bf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,bf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ct]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&bf(e.ownerDocument.body);n=i}while(n);Pp(t)}function sf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function cf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:cf(n),wt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function lf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[Ct])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=hf(e.nextSibling),e===null)break}return null}function uf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=hf(e.nextSibling),e===null))return null;return e}function df(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=hf(e.nextSibling),e===null))return null;return e}function ff(e){return e.data===`$?`||e.data===`$~`}function pf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function mf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function hf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var gf=null;function _f(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return hf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function yf(e,t,n){switch(t=qd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function bf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);wt(e)}var xf=new Map,Sf=new Set;function Cf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wf=E.d;E.d={f:Tf,r:Ef,D:kf,C:Af,L:jf,m:Mf,X:Pf,S:Nf,M:Ff};function Tf(){var e=wf.f(),t=Tu();return e||t}function Ef(e){var t=Et(e);t!==null&&t.tag===5&&t.type===`form`?Ds(t):wf.r(e)}var Df=typeof document>`u`?null:document;function Of(e,t,n){var r=Df;if(r&&typeof t==`string`&&t){var i=Kt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),Sf.has(i)||(Sf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Vd(t,`link`,e),kt(t),r.head.appendChild(t)))}}function kf(e){wf.D(e),Of(`dns-prefetch`,e,null)}function Af(e,t){wf.C(e,t),Of(`preconnect`,e,t)}function jf(e,t,n){wf.L(e,t,n);var r=Df;if(r&&e&&t){var i=`link[rel="preload"][as="`+Kt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Kt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Kt(n.imageSizes)+`"]`)):i+=`[href="`+Kt(e)+`"]`;var a=i;switch(t){case`style`:a=Lf(e);break;case`script`:a=Vf(e)}xf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),xf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Rf(a))||t===`script`&&r.querySelector(Hf(a))||(t=r.createElement(`link`),Vd(t,`link`,e),kt(t),r.head.appendChild(t)))}}function Mf(e,t){wf.m(e,t);var n=Df;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Kt(r)+`"][href="`+Kt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Vf(e)}if(!xf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),xf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Hf(a)))return}r=n.createElement(`link`),Vd(r,`link`,e),kt(r),n.head.appendChild(r)}}}function Nf(e,t,n){wf.S(e,t,n);var r=Df;if(r&&e){var i=Ot(r).hoistableStyles,a=Lf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Rf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=xf.get(a))&&Gf(e,n);var c=o=r.createElement(`link`);kt(c),Vd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Wf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Pf(e,t){wf.X(e,t);var n=Df;if(n&&e){var r=Ot(n).hoistableScripts,i=Vf(e),a=r.get(i);a||(a=n.querySelector(Hf(i)),a||(e=h({src:e,async:!0},t),(t=xf.get(i))&&Kf(e,t),a=n.createElement(`script`),kt(a),Vd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Ff(e,t){wf.M(e,t);var n=Df;if(n&&e){var r=Ot(n).hoistableScripts,i=Vf(e),a=r.get(i);a||(a=n.querySelector(Hf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=xf.get(i))&&Kf(e,t),a=n.createElement(`script`),kt(a),Vd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function If(e,t,n,r){var a=(a=ve.current)?Cf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Lf(n.href),n=Ot(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Lf(n.href);var o=Ot(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Rf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),xf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xf.set(e,n),o||Bf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Vf(n),n=Ot(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Lf(e){return`href="`+Kt(e)+`"`}function Rf(e){return`link[rel="stylesheet"][`+e+`]`}function zf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Bf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Vd(t,`link`,n),kt(t),e.head.appendChild(t))}function Vf(e){return`[src="`+Kt(e)+`"]`}function Hf(e){return`script[async]`+e}function Uf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Kt(n.href)+`"]`);if(r)return t.instance=r,kt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),kt(r),Vd(r,`style`,a),Wf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Lf(n.href);var o=e.querySelector(Rf(a));if(o)return t.state.loading|=4,t.instance=o,kt(o),o;r=zf(n),(a=xf.get(a))&&Gf(r,a),o=(e.ownerDocument||e).createElement(`link`),kt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Vd(o,`link`,r),t.state.loading|=4,Wf(o,n.precedence,e),t.instance=o;case`script`:return o=Vf(n.src),(a=e.querySelector(Hf(o)))?(t.instance=a,kt(a),a):(r=n,(a=xf.get(o))&&(r=h({},n),Kf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),kt(a),Vd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Wf(r,n.precedence,e));return t.instance}function Wf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Kf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var qf=null;function Jf(e,t,n){if(qf===null){var r=new Map,i=qf=new Map;i.set(n,r)}else i=qf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ct]||a[gt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Yf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Xf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Zf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Qf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Lf(r.href),a=t.querySelector(Rf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=tp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,kt(a);return}a=t.ownerDocument||t,r=zf(r),(i=xf.get(i))&&Gf(r,i),a=a.createElement(`link`),kt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Vd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=tp.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var $f=0;function ep(e,t){return e.stylesheets&&e.count===0&&rp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&rp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&$f===0&&($f=62500*Wd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>$f?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var np=null;function rp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,np=new Map,t.forEach(ip,e),np=null,tp.call(e))}function ip(e,t){if(!(t.state.loading&4)){var n=np.get(e);if(n)var r=n.get(null);else{n=new Map,np.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=tp.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ap={$$typeof:ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function op(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=at(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=at(0),this.hiddenUpdates=at(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function sp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new op(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=li(3,null,null,t),e.current=a,a.stateNode=e,t=sa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ba(a),e}function cp(e){return e?(e=si,e):si}function lp(e,t,n,r,i,a){i=cp(i),r.context===null?r.context=i:r.pendingContext=i,r=Ha(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ua(e,r,t),n!==null&&(bu(n,e,t),Wa(n,e,t))}function up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dp(e,t){up(e,t),(e=e.alternate)&&up(e,t)}function fp(e){if(e.tag===13||e.tag===31){var t=ii(e,67108864);t!==null&&bu(t,e,67108864),dp(e,67108864)}}function pp(e){if(e.tag===13||e.tag===31){var t=vu();t=dt(t);var n=ii(e,t);n!==null&&bu(n,e,t),dp(e,t)}}var mp=!0;function hp(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=2,_p(e,t,n,r)}finally{E.p=a,T.T=i}}function gp(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=8,_p(e,t,n,r)}finally{E.p=a,T.T=i}}function _p(e,t,n,r){if(mp){var i=vp(r);if(i===null)Ad(e,t,r,yp,n),Ep(e,r);else if(Dp(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<Tp.indexOf(e)){for(;i!==null;){var a=Et(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=et(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-qe(o);s.entanglements[1]|=c,o&=~c}ld(a),!(Vl&6)&&(ou=Fe()+500,ud(0,!1))}}break;case 31:case 13:s=ii(a,2),s!==null&&bu(s,a,2),Tu(),dp(a,2)}if(a=vp(r),a===null&&Ad(e,t,r,yp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ad(e,t,r,null,n)}}function vp(e){return e=un(e),bp(e)}var yp=null;function bp(e){if(yp=null,e=Tt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yp=e,null}function xp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Ie()){case Le:return 2;case Re:return 8;case ze:case Be:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var q=!1,Sp=null,J=null,Y=null,Cp=new Map,X=new Map,wp=[],Tp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ep(e,t){switch(e){case`focusin`:case`focusout`:Sp=null;break;case`dragenter`:case`dragleave`:J=null;break;case`mouseover`:case`mouseout`:Y=null;break;case`pointerover`:case`pointerout`:Cp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:X.delete(t.pointerId)}}function Z(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Et(t),t!==null&&fp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dp(e,t,n,r,i){switch(t){case`focusin`:return Sp=Z(Sp,e,t,n,r,i),!0;case`dragenter`:return J=Z(J,e,t,n,r,i),!0;case`mouseover`:return Y=Z(Y,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Cp.set(a,Z(Cp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,X.set(a,Z(X.get(a)||null,e,t,n,r,i)),!0}return!1}function Op(e){var t=Tt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,mt(e.priority,function(){pp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,mt(e.priority,function(){pp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ln=r,n.target.dispatchEvent(r),ln=null}else return t=Et(n),t!==null&&fp(t),e.blockedOn=n,!1;t.shift()}return!0}function Ap(e,t,n){kp(e)&&n.delete(t)}function Q(){q=!1,Sp!==null&&kp(Sp)&&(Sp=null),J!==null&&kp(J)&&(J=null),Y!==null&&kp(Y)&&(Y=null),Cp.forEach(Ap),X.forEach(Ap)}function jp(e,n){e.blockedOn===n&&(e.blockedOn=null,q||(q=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Q)))}var Mp=null;function Np(e){Mp!==e&&(Mp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mp===e&&(Mp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(bp(r||n)===null)continue;break}var a=Et(n);a!==null&&(e.splice(t,3),t-=3,Ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pp(e){function t(t){return jp(t,e)}Sp!==null&&jp(Sp,e),J!==null&&jp(J,e),Y!==null&&jp(Y,e),Cp.forEach(t),X.forEach(t);for(var n=0;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wp.length&&(n=wp[0],n.blockedOn===null);)Op(n),n.blockedOn===null&&wp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[_t]||null;if(typeof a==`function`)o||Np(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[_t]||null)s=o.formAction;else if(bp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Np(n)}}}function Fp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Ip(e){this._internalRoot=e}Lp.prototype.render=Ip.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;lp(n,vu(),e,t,null,null)},Lp.prototype.unmount=Ip.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lp(e.current,2,null,e,null,null),Tu(),t[vt]=null}};function Lp(e){this._internalRoot=e}Lp.prototype.unstable_scheduleHydration=function(e){if(e){var t=pt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wp.length&&t!==0&&t<wp[n].priority;n++);wp.splice(n,0,e),n===0&&Op(e)}};var Rp=n.version;if(Rp!==`19.2.0`)throw Error(i(527,Rp,`19.2.0`));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var zp={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:T,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{We=Bp.inject(zp),Ge=Bp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=qs,s=Js,c=Ys;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=sp(e,1,!1,null,null,n,r,null,o,s,c,Fp),e[vt]=t.current,Od(e),new Ip(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=u(),v=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),y=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),b=e=>{let t=y(e);return t.charAt(0).toUpperCase()+t.slice(1)},x=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),S=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},ee={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},C=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...ee,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:x(`lucide`,i),...!a&&!S(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),w=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(C,{ref:i,iconNode:t,className:x(`lucide-${v(b(e))}`,`lucide-${e}`,n),...r}));return n.displayName=b(e),n},te=w(`calculator`,[[`rect`,{width:`16`,height:`20`,x:`4`,y:`2`,rx:`2`,key:`1nb95v`}],[`line`,{x1:`8`,x2:`16`,y1:`6`,y2:`6`,key:`x4nwl0`}],[`line`,{x1:`16`,x2:`16`,y1:`14`,y2:`18`,key:`wjye3r`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}]]),ne=w(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),re=w(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),ie=w(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),ae=w(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),oe=w(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),se=w(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),ce=w(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),le=w(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),ue=w(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),T=w(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),E=w(`dollar-sign`,[[`line`,{x1:`12`,x2:`12`,y1:`2`,y2:`22`,key:`7eqyqh`}],[`path`,{d:`M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`,key:`1b0p4s`}]]),de=w(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),fe=w(`grip-vertical`,[[`circle`,{cx:`9`,cy:`12`,r:`1`,key:`1vctgf`}],[`circle`,{cx:`9`,cy:`5`,r:`1`,key:`hp0tcf`}],[`circle`,{cx:`9`,cy:`19`,r:`1`,key:`fkjjf6`}],[`circle`,{cx:`15`,cy:`12`,r:`1`,key:`1tmaij`}],[`circle`,{cx:`15`,cy:`5`,r:`1`,key:`19l28e`}],[`circle`,{cx:`15`,cy:`19`,r:`1`,key:`f4zoj3`}]]),pe=w(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),me=w(`layout-list`,[[`rect`,{width:`7`,height:`7`,x:`3`,y:`3`,rx:`1`,key:`1g98yp`}],[`rect`,{width:`7`,height:`7`,x:`3`,y:`14`,rx:`1`,key:`1bb6yr`}],[`path`,{d:`M14 4h7`,key:`3xa0d5`}],[`path`,{d:`M14 9h7`,key:`1icrd9`}],[`path`,{d:`M14 15h7`,key:`1mj8o2`}],[`path`,{d:`M14 20h7`,key:`11slyb`}]]),he=w(`link`,[[`path`,{d:`M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71`,key:`1cjeqo`}],[`path`,{d:`M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71`,key:`19qd67`}]]),D=w(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),ge=w(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),_e=w(`map`,[[`path`,{d:`M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z`,key:`169xi5`}],[`path`,{d:`M15 5.764v15`,key:`1pn4in`}],[`path`,{d:`M9 3.236v15`,key:`1uimfh`}]]),ve=w(`menu`,[[`path`,{d:`M4 5h16`,key:`1tepv9`}],[`path`,{d:`M4 12h16`,key:`1lakjw`}],[`path`,{d:`M4 19h16`,key:`1djgab`}]]),ye=w(`minimize-2`,[[`path`,{d:`m14 10 7-7`,key:`oa77jy`}],[`path`,{d:`M20 10h-6V4`,key:`mjg0md`}],[`path`,{d:`m3 21 7-7`,key:`tjx5ai`}],[`path`,{d:`M4 14h6v6`,key:`rmj7iw`}]]),be=w(`pen-line`,[[`path`,{d:`M13 21h8`,key:`1jsn5i`}],[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),xe=w(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Se=w(`qr-code`,[[`rect`,{width:`5`,height:`5`,x:`3`,y:`3`,rx:`1`,key:`1tu5fj`}],[`rect`,{width:`5`,height:`5`,x:`16`,y:`3`,rx:`1`,key:`1v8r4q`}],[`rect`,{width:`5`,height:`5`,x:`3`,y:`16`,rx:`1`,key:`1x03jg`}],[`path`,{d:`M21 16h-3a2 2 0 0 0-2 2v3`,key:`177gqh`}],[`path`,{d:`M21 21v.01`,key:`ents32`}],[`path`,{d:`M12 7v3a2 2 0 0 1-2 2H7`,key:`8crl2c`}],[`path`,{d:`M3 12h.01`,key:`nlz23k`}],[`path`,{d:`M12 3h.01`,key:`n36tog`}],[`path`,{d:`M12 16v.01`,key:`133mhm`}],[`path`,{d:`M16 12h1`,key:`1slzba`}],[`path`,{d:`M21 12v.01`,key:`1lwtk9`}],[`path`,{d:`M12 21v-1`,key:`1880an`}]]),Ce=w(`receipt`,[[`path`,{d:`M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z`,key:`q3az6g`}],[`path`,{d:`M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8`,key:`1h4pet`}],[`path`,{d:`M12 17.5v-11`,key:`1jc1ny`}]]),we=w(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),Te=w(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),Ee=w(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),De=w(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),Oe=w(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),ke=w(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),Ae=w(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),je=w(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]);const Me=[];var Ne=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),O=o(((e,t)=>{t.exports=Ne()}))();const Pe=({user:e,trip:t,participants:n,onMenuClick:r,onEdit:i,isMinimized:a,activeTabLabel:o})=>{let s=t.title&&t.title.trim()!==``,c=(()=>{if(!t.startDate||t.startDate===`TBD`)return 0;let e=new Date;e.setHours(0,0,0,0);let n=new Date(t.startDate);n.setHours(0,0,0,0);let r=n.getTime()-e.getTime();return Math.ceil(r/(1e3*60*60*24))})();function l(e,t){let n=new Date(e),r=new Date(t),i=[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],a=n.getDate(),o=n.getMonth(),s=i[o],c=n.getFullYear(),l=r.getDate(),u=r.getMonth(),d=i[u],f=r.getFullYear();return c===f?o===u?`${a} - ${l} ${s} ${f}`:`${a} ${s} - ${l} ${d} ${f}`:`${a} ${s} ${c} - ${l} ${d} ${f}`}return a?(0,O.jsxs)(`div`,{className:`flex-none bg-white px-5 py-3 shadow-sm z-20 flex items-center justify-between h-[60px]`,children:[(0,O.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,O.jsx)(`button`,{onClick:r,className:`p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full transition-colors`,children:(0,O.jsx)(ve,{className:`w-6 h-6`})}),(0,O.jsx)(`h1`,{className:`text-lg font-bold text-gray-800`,children:o||``})]}),(0,O.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,O.jsx)(`img`,{src:e.avatar,className:`w-8 h-8 rounded-full border border-gray-200 object-cover`,alt:`avatar`})})]}):(0,O.jsxs)(`div`,{className:`flex-none bg-white p-2 shadow-sm z-20 transition-all duration-300 px-5`,children:[(0,O.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,O.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,O.jsx)(`button`,{onClick:r,className:`p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full transition-colors`,children:(0,O.jsx)(ve,{className:`w-6 h-6`})}),(0,O.jsxs)(`div`,{className:`flex flex-col`,children:[(0,O.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,O.jsx)(`h1`,{className:`text-2xl font-bold leading-tight max-w-[220px] truncate ${s?`text-gray-800`:`text-gray-400`}`,children:s?t.title:``}),(0,O.jsx)(`button`,{onClick:i,className:`p-1.5 rounded-full bg-gray-50 text-gray-400 hover:text-green-600 hover:bg-green-50 transition-colors`,children:(0,O.jsx)(be,{className:`w-4 h-4`})})]}),s&&(0,O.jsxs)(`div`,{className:`flex items-center gap-1 mt-1 text-gray-500 text-xs font-medium`,children:[(0,O.jsx)(`span`,{className:`w-2 h-2 rounded-full bg-green-500`}),(0,O.jsx)(`p`,{children:l(t.startDate,t.endDate)})]})]})]}),s&&(0,O.jsxs)(`div`,{className:`px-3 py-1.5 rounded-xl border text-center min-w-[60px] ${c>=0?`bg-green-50 text-green-700 border-green-100`:`bg-gray-100 text-gray-500 border-gray-200`}`,children:[(0,O.jsx)(`span`,{className:`block text-[8px] uppercase opacity-60 font-bold tracking-wider`,children:c>0?`Coming in`:c===0?`Today!`:`Ended`}),c>0&&(0,O.jsxs)(`span`,{className:`text-sm font-extrabold`,children:[c,` `,(0,O.jsx)(`span`,{className:`text-[9px] font-normal`,children:`Days`})]})]})]}),s&&n.length>0&&(0,O.jsx)(`div`,{className:`flex -space-x-2 overflow-hidden pl-1 mt-3`,children:n.slice(0,5).map((e,t)=>(0,O.jsx)(`img`,{src:e.avatar,className:`inline-block h-8 w-8 rounded-full ring-2 ring-white object-cover bg-gray-100`,style:{zIndex:10-t},alt:e.name},e.id))})]})},Fe=({isOpen:e,onClose:t,onNavigate:n,activeScreen:r,user:i,onLogout:a,onEditProfile:o})=>(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(`div`,{className:`fixed inset-0 bg-black/60 z-[55] transition-opacity duration-300 ${e?`opacity-100`:`opacity-0 pointer-events-none`}`,onClick:t}),(0,O.jsxs)(`div`,{className:`fixed inset-y-0 left-0 w-[80%] max-w-[300px] bg-white shadow-2xl z-[60] flex flex-col transition-transform duration-300 ease-out rounded-r-3xl overflow-hidden ${e?`translate-x-0`:`-translate-x-full`}`,children:[(0,O.jsx)(`button`,{onClick:t,className:`absolute top-5 right-5 p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-black/5 active:scale-90 transition-all duration-200 z-20`,children:(0,O.jsx)(ae,{className:`w-6 h-6`,strokeWidth:3})}),(0,O.jsx)(`div`,{className:`pt-14 pb-8 px-6 bg-white relative`,children:(0,O.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,O.jsx)(`div`,{className:`relative group cursor-pointer`,children:(0,O.jsx)(`img`,{src:i.avatar,className:`w-16 h-16 drop-shadow-lg hover:scale-110 transition-transform filter hover:brightness-110`,alt:`avatar`})}),(0,O.jsxs)(`div`,{className:`flex-1 overflow-hidden`,children:[(0,O.jsx)(`h2`,{className:`text-xl font-extrabold text-gray-800 leading-tight truncate`,children:i.name}),(0,O.jsx)(`p`,{className:`text-xs text-orange-400 font-bold mt-0.5`})]})]})}),(0,O.jsx)(`div`,{className:`mx-6 border-b border-gray-100 mb-6`}),(0,O.jsxs)(`nav`,{className:`flex-1 px-5 space-y-2 overflow-y-auto`,children:[(0,O.jsxs)(`button`,{onClick:()=>{n(`plan`),t()},className:`w-full flex items-center gap-4 p-3 rounded-2xl transition-all group ${r===`plan`?`bg-green-50 text-green-700`:`text-gray-600 hover:bg-gray-50`}`,children:[(0,O.jsx)(`div`,{className:`w-10 h-10 flex items-center justify-center rounded-xl transition-colors ${r===`plan`?`bg-white shadow-sm text-green-600`:`bg-gray-100 text-gray-400 group-hover:bg-white group-hover:shadow-sm`}`,children:(0,O.jsx)(_e,{className:`w-5 h-5`,strokeWidth:2.5})}),(0,O.jsxs)(`div`,{className:`text-left`,children:[(0,O.jsx)(`div`,{className:`text-sm font-bold`,children:`Plan`}),(0,O.jsx)(`div`,{className:`text-[10px] opacity-70 font-medium`,children:``})]})]}),(0,O.jsxs)(`button`,{onClick:()=>{n(`bill`),t()},className:`w-full flex items-center gap-4 p-3 rounded-2xl transition-all group ${r===`bill`?`bg-blue-50 text-blue-700`:`text-gray-600 hover:bg-gray-50`}`,children:[(0,O.jsx)(`div`,{className:`w-10 h-10 flex items-center justify-center rounded-xl transition-colors ${r===`bill`?`bg-white shadow-sm text-blue-600`:`bg-gray-100 text-gray-400 group-hover:bg-white group-hover:shadow-sm`}`,children:(0,O.jsx)(Ce,{className:`w-5 h-5`,strokeWidth:2.5})}),(0,O.jsxs)(`div`,{className:`text-left`,children:[(0,O.jsx)(`div`,{className:`text-sm font-bold`,children:`Bill`}),(0,O.jsx)(`div`,{className:`text-[10px] opacity-70 font-medium`,children:``})]})]})]}),(0,O.jsxs)(`div`,{className:`p-6 mt-auto space-y-2`,children:[(0,O.jsxs)(`button`,{onClick:()=>{confirm(`? ()`)&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-orange-500 bg-orange-50 rounded-xl text-xs font-bold hover:bg-orange-100 transition-colors`,children:[(0,O.jsx)(Oe,{className:`w-4 h-4`}),`  (!)`]}),(0,O.jsxs)(`button`,{disabled:!0,className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-gray-300 bg-gray-50 rounded-xl text-xs font-bold cursor-not-allowed opacity-60`,children:[(0,O.jsx)(D,{className:`w-4 h-4`}),` `]})]})]})]}),Ie=({isOpen:e,onClose:t,title:n,children:r,footer:i})=>{let[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{if(e)o(!0),requestAnimationFrame(()=>{c(!0)});else{c(!1);let e=setTimeout(()=>{o(!1)},300);return()=>clearTimeout(e)}},[e]),a?(0,O.jsxs)(`div`,{className:`fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 transition-opacity duration-300 ${s?`opacity-100`:`opacity-0`}`,children:[(0,O.jsx)(`div`,{className:`absolute inset-0 bg-black/60 backdrop-blur-md`,onClick:t}),(0,O.jsxs)(`div`,{className:`
          bg-white w-full max-w-md 
          
          /* Mobile Fix:  */
          h-full max-h-full rounded-none sm:rounded-[2rem] 
          
          shadow-2xl relative flex flex-col 
          transform transition-transform duration-300 cubic-bezier(0.2, 0.8, 0.2, 1)
          
          /* Animation:  */
          ${s?`translate-y-0 scale-100`:`translate-y-full sm:translate-y-10 sm:scale-95`}
        `,children:[(0,O.jsxs)(`div`,{className:`flex-none px-4 py-2 border-b border-gray-50 flex justify-between items-center bg-white`,children:[(0,O.jsx)(`h2`,{className:`text-xl font-extrabold text-gray-800 tracking-tight`,children:n}),(0,O.jsx)(`button`,{onClick:t,className:`p-2 -mr-2 text-gray-400 hover:text-gray-800 hover:bg-gray-50 rounded-full transition-all active:scale-90 bg-gray-50/50`,"aria-label":`Close Modal`,children:(0,O.jsx)(ie,{className:`w-6 h-6`,strokeWidth:3})})]}),(0,O.jsx)(`div`,{className:`flex-1 overflow-y-auto px-5 py-2  custom-scrollbar`,children:r}),i&&(0,O.jsx)(`div`,{className:`flex-none p-6 pt-4 border-t border-gray-50 bg-white pb-8 sm:pb-6`,children:i})]})]}):null};var Le=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),Re=e=>`https://api.dicebear.com/9.x/micah/svg?seed=${e}&mouth=smile,laughing&baseColor=f9c9b6,ac6651&t=${Date.now()}`;const ze=({isOpen:e,onClose:t,currentUser:n,onSave:r})=>{let[i,a]=(0,_.useState)(n.name),[o,s]=(0,_.useState)(n.avatar),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{e&&(l(!1),d(!1),s(n.avatar))},[e,n]),(0,O.jsxs)(Ie,{isOpen:e,onClose:t,title:` `,footer:(0,O.jsx)(`button`,{type:`submit`,form:`edit-profile-form`,className:`w-full bg-green-600 text-white font-bold py-3.5 rounded-2xl shadow-lg shadow-green-200 hover:bg-green-700 active:scale-95 transition-all text-base flex items-center justify-center gap-2`,children:`! `}),children:[(0,O.jsx)(`style`,{children:`
            @keyframes flip-vertical-fast {
                0% { transform: perspective(400px) rotateY(0deg); }
                100% { transform: perspective(400px) rotateY(360deg); }
            }
            .animate-flip-fast {
                animation: flip-vertical-fast 0.4s infinite linear;
            }
        `}),(0,O.jsxs)(`form`,{id:`edit-profile-form`,onSubmit:e=>{if(e.preventDefault(),!i.trim()){navigator.vibrate&&navigator.vibrate(200);return}r({...n,name:i,avatar:o}),t()},className:`space-y-6 py-4`,children:[(0,O.jsx)(`div`,{className:`flex flex-col items-center`,children:(0,O.jsxs)(`div`,{className:`relative group cursor-pointer`,onClick:()=>{if(c||u)return;l(!0),d(!1);let e=Re(Le()),t=new Image;t.src=e,setTimeout(()=>{s(e),l(!1),d(!0),setTimeout(()=>{d(!1)},800)},700)},children:[(0,O.jsxs)(`div`,{className:`
                        w-40 h-40 rounded-[2rem] border-4 overflow-hidden flex items-center justify-center 
                        transform transition-all duration-300 ease-out shadow-xl bg-white
                        ${c?`animate-flip-fast border-green-300 opacity-90`:``} 
                        ${u?`border-yellow-400 scale-110 shadow-yellow-200 ring-4 ring-yellow-100`:`border-green-400 hover:scale-105`}
                    `,children:[(0,O.jsx)(`img`,{src:o,className:`w-full h-full object-cover transform translate-y-2 scale-110`,alt:`Avatar`},o),u&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(De,{className:`absolute top-3 right-3 text-yellow-400 w-6 h-6 animate-bounce drop-shadow-sm`}),(0,O.jsx)(De,{className:`absolute bottom-5 left-3 text-yellow-300 w-4 h-4 animate-ping`})]})]}),(0,O.jsx)(`div`,{className:`
                        absolute -bottom-3 left-1/2 transform -translate-x-1/2 
                        px-4 py-1.5 rounded-full border shadow-md transition-colors duration-300 
                        flex items-center gap-2 whitespace-nowrap z-10
                        ${u?`bg-yellow-400 text-white border-yellow-500`:`bg-white text-gray-600 border-gray-200 hover:bg-gray-50`}
                    `,children:c?(0,O.jsx)(`span`,{className:`text-[10px] font-bold`,children:`...`}):u?(0,O.jsx)(`span`,{className:`text-[10px] font-bold`,children:`! `}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(`span`,{className:`text-lg leading-none`,children:``}),(0,O.jsx)(`span`,{className:`text-[10px] font-bold`,children:``})]})})]})}),(0,O.jsxs)(`div`,{children:[(0,O.jsx)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-2 uppercase tracking-wider text-center`,children:``}),(0,O.jsx)(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),placeholder:`! ? `,className:`w-full bg-gray-50 border-2 border-gray-100 rounded-2xl p-4 text-center font-bold text-xl text-gray-800 focus:outline-none focus:border-green-500 focus:bg-white transition-all placeholder-gray-300`})]})]})]})},Be=({isOpen:e,onClose:t,onSave:n,initialData:r})=>{let[i,a]=(0,_.useState)(`08:00`),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)(`url`);(0,_.useEffect)(()=>{e&&(r?(a(r.time),s(r.title),l(r.note||``),d(r.links||[])):(a(`08:00`),s(``),l(``),d([]),p(``)))},[e,r]);let g=()=>{f.trim()&&(d([...u,{type:m,url:f,title:m===`map`?`Map`:`Link`}]),p(``))},v=e=>{d(t=>t.filter((t,n)=>n!==e))};return(0,O.jsx)(Ie,{isOpen:e,onClose:t,title:``,footer:(0,O.jsxs)(`button`,{onClick:()=>{o&&n({time:i,title:o,note:c,links:u})},className:`w-full bg-green-600 text-white font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-transform hover:bg-green-700`,children:[(0,O.jsx)(we,{className:`w-5 h-5`}),` `]}),children:(0,O.jsxs)(`div`,{className:`space-y-5`,children:[(0,O.jsxs)(`div`,{children:[(0,O.jsxs)(`div`,{children:[(0,O.jsx)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1 uppercase`,children:``}),(0,O.jsx)(`input`,{type:`time`,value:i,onChange:e=>a(e.target.value),className:`w-full bg-gray-50 border border-gray-200 p-3 rounded-xl font-bold text-center outline-none focus:ring-2 ring-green-500/20 focus:bg-white transition-all`})]}),(0,O.jsxs)(`div`,{children:[(0,O.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1 uppercase`,children:[` `,(0,O.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,O.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),className:`w-full bg-white border-2 border-gray-100 p-3 rounded-xl font-bold outline-none focus:border-green-500 transition-all`,placeholder:`?`,autoFocus:!0})]})]}),(0,O.jsxs)(`div`,{children:[(0,O.jsx)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1 uppercase`,children:``}),(0,O.jsx)(`textarea`,{rows:2,value:c,onChange:e=>l(e.target.value),className:`w-full bg-gray-50 border-none p-3 rounded-xl text-sm outline-none focus:ring-2 ring-green-500/20 resize-none placeholder-gray-300`,placeholder:`Note...`})]}),(0,O.jsxs)(`div`,{className:`bg-blue-50/50 p-4 rounded-xl border border-blue-100/50`,children:[(0,O.jsx)(`label`,{className:`block text-[10px] font-bold text-blue-400 mb-2 uppercase`,children:` / `}),u.length>0&&(0,O.jsx)(`div`,{className:`flex flex-wrap gap-2 mb-3`,children:u.map((e,t)=>(0,O.jsxs)(`div`,{className:`flex items-center gap-1 bg-white border border-blue-100 px-2 py-1.5 rounded-lg text-xs text-gray-600 shadow-sm`,children:[e.type===`map`?(0,O.jsx)(ge,{className:`w-3 h-3 text-red-500`}):(0,O.jsx)(he,{className:`w-3 h-3 text-blue-500`}),(0,O.jsx)(`span`,{className:`max-w-[120px] truncate font-medium`,children:e.url}),(0,O.jsx)(`button`,{onClick:()=>v(t),className:`text-gray-300 hover:text-red-500 ml-1 p-0.5 rounded hover:bg-red-50`,children:(0,O.jsx)(je,{className:`w-3 h-3`})})]},t))}),(0,O.jsxs)(`div`,{className:`flex gap-2`,children:[(0,O.jsxs)(`div`,{className:`flex bg-white rounded-lg border border-gray-200 p-1 shadow-sm`,children:[(0,O.jsx)(`button`,{onClick:()=>h(`url`),className:`p-2 rounded-md transition-all ${m===`url`?`bg-blue-50 text-blue-500 shadow-sm`:`text-gray-400 hover:bg-gray-50`}`,children:(0,O.jsx)(he,{className:`w-4 h-4`})}),(0,O.jsx)(`button`,{onClick:()=>h(`map`),className:`p-2 rounded-md transition-all ${m===`map`?`bg-red-50 text-red-500 shadow-sm`:`text-gray-400 hover:bg-gray-50`}`,children:(0,O.jsx)(ge,{className:`w-4 h-4`})})]}),(0,O.jsx)(`input`,{type:`text`,value:f,onChange:e=>p(e.target.value),className:`flex-1 bg-white border border-gray-200 rounded-lg px-3 text-xs outline-none focus:border-green-500 shadow-sm`,placeholder:m===`map`?`Google Maps URL...`:`Link URL...`}),(0,O.jsx)(`button`,{onClick:g,className:`bg-gray-800 text-white p-2.5 rounded-lg hover:bg-black shadow-md active:scale-95 transition-transform`,children:(0,O.jsx)(xe,{className:`w-4 h-4`})})]})]})]})})};var Ve=(...e)=>e.flat().filter(Boolean).join(` `);function He(...e){return Ve(e)}const Ue=_.forwardRef(({className:e,variant:t=`primary`,size:n=`md`,children:r,...i},a)=>(0,O.jsx)(`button`,{ref:a,className:(0,_.useMemo)(()=>He(`font-bold rounded-2xl transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap`,{primary:`bg-green-600 text-white shadow-lg shadow-green-200 hover:bg-green-700`,danger:`bg-red-500 text-white shadow-lg shadow-red-200 hover:bg-red-600`,outline:`bg-white text-gray-600 border-2 border-gray-100 hover:bg-gray-50`,ghost:`bg-transparent text-gray-500 hover:bg-gray-100`}[t],{sm:`py-2 px-3 text-xs w-full`,md:`py-3 px-4 text-sm w-full`,lg:`py-3.5 px-6 text-base w-full`}[n],e),[t,n,e]),...i,children:r}));Ue.displayName=`Button`;const We=({isOpen:e,onClose:t,onSave:n,initialTrip:r})=>{let[i,a]=(0,_.useState)(r.title),[o,s]=(0,_.useState)(r.startDate),[c,l]=(0,_.useState)(r.endDate),[u,d]=(0,_.useState)({}),f=()=>new Date().toISOString().split(`T`)[0];return(0,O.jsx)(Ie,{isOpen:e,onClose:t,title:` `,footer:(0,O.jsxs)(Ue,{type:`submit`,form:`edit-trip-form`,variant:`primary`,size:`lg`,children:[(0,O.jsx)(`span`,{className:`text-lg`,children:``}),` `]}),children:(0,O.jsxs)(`form`,{id:`edit-trip-form`,onSubmit:e=>{e.preventDefault();let t={},a=!1,s=f();if(i?.trim()||(t.title=``,a=!0),!o||o===`TBD`?(t.startDate=``,a=!0):o<s&&(t.startDate=``,a=!0),!c||c===`TBD`?(t.endDate=``,a=!0):o&&c<o&&(t.endDate=``,a=!0),a){d(t);return}n({title:i?.trim(),startDate:o,endDate:c,participants:r.participants}),d({})},className:`space-y-6 py-2`,children:[(0,O.jsxs)(`div`,{children:[(0,O.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1.5 uppercase tracking-widest`,children:[` `,(0,O.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,O.jsx)(`input`,{name:`title`,type:`text`,value:i,onChange:e=>{a(e.target.value),d({...u,title:void 0})},className:`w-full bg-white border-2 rounded-2xl p-4 font-bold text-lg text-gray-800 focus:outline-none focus:ring-4 ring-green-500/10 transition-all ${u.title?`border-red-400 bg-red-50`:`border-gray-100 focus:border-green-500`}`,placeholder:` Japan 2025`,autoFocus:!0}),u.title&&(0,O.jsxs)(`div`,{className:`flex items-center gap-1 mt-2 text-red-500 text-[10px] font-bold animate-pulse`,children:[(0,O.jsx)(se,{className:`w-3 h-3`}),u.title]})]}),(0,O.jsxs)(`div`,{children:[(0,O.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1.5 uppercase tracking-widest`,children:[` `,(0,O.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,O.jsx)(`input`,{name:`startDate`,type:`date`,value:o===`TBD`?``:o,min:f(),onChange:e=>{s(e.target.value),d({...u,startDate:void 0})},className:`w-full bg-gray-50 border-2 rounded-xl p-3 text-sm font-medium focus:outline-none focus:ring-2 ring-green-500/20 ${u.startDate?`border-red-400 bg-red-50`:`border-gray-100 focus:border-green-500`}`}),u.startDate&&(0,O.jsx)(`div`,{className:`text-red-500 text-[10px] font-bold mt-1 leading-tight`,children:u.startDate})]}),(0,O.jsxs)(`div`,{children:[(0,O.jsxs)(`label`,{className:`block text-[10px] font-bold text-gray-400 mb-1.5 uppercase tracking-widest`,children:[` `,(0,O.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,O.jsx)(`input`,{name:`endDate`,type:`date`,value:c===`TBD`?``:c,min:o===`TBD`?f():o,onChange:e=>{l(e.target.value),d({...u,endDate:void 0})},className:`w-full bg-gray-50 border-2 rounded-xl p-3 text-sm font-medium focus:outline-none focus:ring-2 ring-green-500/20 ${u.endDate?`border-red-400 bg-red-50`:`border-gray-100 focus:border-green-500`}`}),u.endDate&&(0,O.jsx)(`div`,{className:`text-red-500 text-[10px] font-bold mt-1 leading-tight`,children:u.endDate})]})]})})};var Ge=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i})=>e?(0,O.jsx)(`div`,{className:`fixed inset-0 z-[150] flex items-center justify-center bg-black/60 backdrop-blur-sm p-6 animate-fade-in`,children:(0,O.jsxs)(`div`,{className:`bg-white w-full max-w-xs rounded-3xl p-6 shadow-2xl text-center relative`,children:[(0,O.jsx)(`div`,{className:`w-14 h-14 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4`,children:(0,O.jsx)(Oe,{className:`w-7 h-7`})}),(0,O.jsx)(`h3`,{className:`text-lg font-bold text-gray-800 mb-2`,children:r}),(0,O.jsx)(`p`,{className:`text-sm text-gray-500 mb-6`,children:i}),(0,O.jsxs)(`div`,{className:`flex gap-3`,children:[(0,O.jsx)(`button`,{onClick:t,className:`flex-1 bg-gray-100 text-gray-600 font-bold py-3 rounded-xl hover:bg-gray-200 transition-colors`,children:``}),(0,O.jsx)(`button`,{onClick:()=>{n(),t()},className:`flex-1 bg-red-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-red-200 hover:bg-red-600 transition-colors`,children:``})]})]})}):null,Ke=()=>void 0,qe=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Je=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Je(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Xe;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Xe=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Ze=function(e){let t=qe(e);return Ye.encodeByteArray(t,!0)},Qe=function(e){return Ze(e).replace(/\./g,``)},$e=function(e){try{return Ye.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function et(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var tt=()=>et().__FIREBASE_DEFAULTS__,nt=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rt=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&$e(e[1]);return t&&JSON.parse(t)},it=()=>{try{return Ke()||tt()||nt()||rt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},at=e=>it()?.emulatorHosts?.[e],ot=e=>{let t=at(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},st=()=>it()?.config,ct=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function lt(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function ut(e){return(await fetch(e,{credentials:`include`})).ok}function dt(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[Qe(JSON.stringify(n)),Qe(JSON.stringify(o)),``].join(`.`)}var ft={};function pt(){let e={prod:[],emulator:[]};for(let t of Object.keys(ft))ft[t]?e.emulator.push(t):e.prod.push(t);return e}function mt(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var ht=!1;function gt(e,t){if(typeof window>`u`||typeof document>`u`||!lt(window.location.host)||ft[e]===t||ft[e]||ht)return;ft[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=pt().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{ht=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=mt(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function _t(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function vt(){let e=it()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function yt(){return!vt()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function bt(){try{return typeof indexedDB==`object`}catch{return!1}}function xt(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var St=`FirebaseError`,Ct=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=St,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}},wt=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Tt(i,n):`Error`;return new Ct(r,`${this.serviceName}: ${a} (${r}).`,n)}};function Tt(e,t){return e.replace(Et,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Et=/\{\$([^}]+)}/g;function Dt(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Ot(n)&&Ot(a)){if(!Dt(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Ot(e){return typeof e==`object`&&!!e}function kt(e){return e&&e._delegate?e._delegate:e}var At=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},jt=`[DEFAULT]`,Mt=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new ct;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Pt(e))try{this.getOrInitializeService({instanceIdentifier:jt})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=jt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jt){return this.instances.has(e)}getOptions(e=jt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Nt(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=jt){return this.component?this.component.multipleInstances?e:jt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function Nt(e){return e===jt?void 0:e}function Pt(e){return e.instantiationMode===`EAGER`}var Ft=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},It=[],k;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(k||={});var Lt={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},Rt=k.INFO,zt={[k.DEBUG]:`log`,[k.VERBOSE]:`log`,[k.INFO]:`info`,[k.WARN]:`warn`,[k.ERROR]:`error`},A=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=zt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Bt=class{constructor(e){this.name=e,this._logLevel=Rt,this._logHandler=A,this._userLogHandler=null,It.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in k))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Lt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...e),this._logHandler(this,k.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...e),this._logHandler(this,k.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,k.INFO,...e),this._logHandler(this,k.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,k.WARN,...e),this._logHandler(this,k.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...e),this._logHandler(this,k.ERROR,...e)}},Vt=(e,t)=>t.some(t=>e instanceof t),Ht,Ut;function Wt(){return Ht||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Gt(){return Ut||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Kt=new WeakMap,qt=new WeakMap,Jt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap;function Zt(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(rn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Kt.set(t,e)}).catch(()=>{}),Xt.set(t,e),t}function Qt(e){if(qt.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});qt.set(e,t)}var $t={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return qt.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||Jt.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function en(e){$t=e($t)}function tn(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(an(this),t,...n);return Jt.set(r,t.sort?t.sort():[t]),rn(r)}:Gt().includes(e)?function(...t){return e.apply(an(this),t),rn(Kt.get(this))}:function(...t){return rn(e.apply(an(this),t))}}function nn(e){return typeof e==`function`?tn(e):(e instanceof IDBTransaction&&Qt(e),Vt(e,Wt())?new Proxy(e,$t):e)}function rn(e){if(e instanceof IDBRequest)return Zt(e);if(Yt.has(e))return Yt.get(e);let t=nn(e);return t!==e&&(Yt.set(e,t),Xt.set(t,e)),t}var an=e=>Xt.get(e);function on(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=rn(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(rn(o.result),e.oldVersion,e.newVersion,rn(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var sn=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],cn=[`put`,`add`,`delete`,`clear`],ln=new Map;function un(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(ln.get(t))return ln.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=cn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sn.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return ln.set(t,a),a}en(e=>({...e,get:(t,n,r)=>un(t,n)||e.get(t,n,r),has:(t,n)=>!!un(t,n)||e.has(t,n)}));var dn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(fn(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function fn(e){return e.getComponent()?.type===`VERSION`}var pn=`@firebase/app`,mn=`0.14.6`,hn=new Bt(`@firebase/app`),gn=`@firebase/app-compat`,_n=`@firebase/analytics-compat`,vn=`@firebase/analytics`,yn=`@firebase/app-check-compat`,bn=`@firebase/app-check`,xn=`@firebase/auth`,Sn=`@firebase/auth-compat`,Cn=`@firebase/database`,wn=`@firebase/data-connect`,Tn=`@firebase/database-compat`,En=`@firebase/functions`,Dn=`@firebase/functions-compat`,On=`@firebase/installations`,kn=`@firebase/installations-compat`,An=`@firebase/messaging`,jn=`@firebase/messaging-compat`,Mn=`@firebase/performance`,Nn=`@firebase/performance-compat`,Pn=`@firebase/remote-config`,Fn=`@firebase/remote-config-compat`,In=`@firebase/storage`,Ln=`@firebase/storage-compat`,Rn=`@firebase/firestore`,zn=`@firebase/ai`,Bn=`@firebase/firestore-compat`,Vn=`firebase`,Hn=`12.6.0`,Un=`[DEFAULT]`,Wn={[pn]:`fire-core`,[gn]:`fire-core-compat`,[vn]:`fire-analytics`,[_n]:`fire-analytics-compat`,[bn]:`fire-app-check`,[yn]:`fire-app-check-compat`,[xn]:`fire-auth`,[Sn]:`fire-auth-compat`,[Cn]:`fire-rtdb`,[wn]:`fire-data-connect`,[Tn]:`fire-rtdb-compat`,[En]:`fire-fn`,[Dn]:`fire-fn-compat`,[On]:`fire-iid`,[kn]:`fire-iid-compat`,[An]:`fire-fcm`,[jn]:`fire-fcm-compat`,[Mn]:`fire-perf`,[Nn]:`fire-perf-compat`,[Pn]:`fire-rc`,[Fn]:`fire-rc-compat`,[In]:`fire-gcs`,[Ln]:`fire-gcs-compat`,[Rn]:`fire-fst`,[Bn]:`fire-fst-compat`,[zn]:`fire-vertex`,"fire-js":`fire-js`,[Vn]:`fire-js-all`},Gn=new Map,Kn=new Map,qn=new Map;function Jn(e,t){try{e.container.addComponent(t)}catch(n){hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yn(e){let t=e.name;if(qn.has(t))return hn.debug(`There were multiple attempts to register component ${t}.`),!1;qn.set(t,e);for(let t of Gn.values())Jn(t,e);for(let t of Kn.values())Jn(t,e);return!0}function Xn(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zn(e){return e==null?!1:e.settings!==void 0}var Qn=new wt(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),$n=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new At(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create(`app-deleted`,{appName:this._name})}},er=Hn;function tr(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:Un,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw Qn.create(`bad-app-name`,{appName:String(i)});if(n||=st(),!n)throw Qn.create(`no-options`);let a=Gn.get(i);if(a){if(Dt(n,a.options)&&Dt(r,a.config))return a;throw Qn.create(`duplicate-app`,{appName:i})}let o=new Ft(i);for(let e of qn.values())o.addComponent(e);let s=new $n(n,r,o);return Gn.set(i,s),s}function nr(e=Un){let t=Gn.get(e);if(!t&&e===`[DEFAULT]`&&st())return tr();if(!t)throw Qn.create(`no-app`,{appName:e});return t}function rr(e,t,n){let r=Wn[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hn.warn(e.join(` `));return}Yn(new At(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var ir=`firebase-heartbeat-database`,ar=1,or=`firebase-heartbeat-store`,sr=null;function cr(){return sr||=on(ir,ar,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(or)}catch(e){console.warn(e)}}}}).catch(e=>{throw Qn.create(`idb-open`,{originalErrorMessage:e.message})}),sr}async function lr(e){try{let t=(await cr()).transaction(or),n=await t.objectStore(or).get(dr(e));return await t.done,n}catch(e){if(e instanceof Ct)hn.warn(e.message);else{let t=Qn.create(`idb-get`,{originalErrorMessage:e?.message});hn.warn(t.message)}}}async function ur(e,t){try{let n=(await cr()).transaction(or,`readwrite`);await n.objectStore(or).put(t,dr(e)),await n.done}catch(e){if(e instanceof Ct)hn.warn(e.message);else{let t=Qn.create(`idb-set`,{originalErrorMessage:e?.message});hn.warn(t.message)}}}function dr(e){return`${e.name}!${e.options.appId}`}var fr=1024,pr=30,mr=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new _r(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=hr();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>pr){let e=yr(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=hr(),{heartbeatsToSend:t,unsentEntries:n}=gr(this._heartbeatsCache.heartbeats),r=Qe(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return hn.warn(e),``}}};function hr(){return new Date().toISOString().substring(0,10)}function gr(e,t=fr){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),vr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var _r=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bt()?xt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await lr(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return ur(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return ur(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function vr(e){return Qe(JSON.stringify({version:2,heartbeats:e})).length}function yr(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function br(e){Yn(new At(`platform-logger`,e=>new dn(e),`PRIVATE`)),Yn(new At(`heartbeat`,e=>new mr(e),`PRIVATE`)),rr(pn,mn,e),rr(pn,mn,`esm2020`),rr(`fire-js`,``)}br(``);var xr=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Sr={},Cr,wr;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wr=Sr.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Cr=Sr.Integer=o}).apply(xr===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:xr);var Tr=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Er={},Dr,Or,kr,Ar,jr,Mr,Nr,Pr;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof Tr==`object`&&Tr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=ee;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,ee=new v,C=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(w)}};function w(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function te(){this.u=this.u,this.C=this.C}te.prototype.u=!1,te.prototype.dispose=function(){this.u||(this.u=!0,this.N())},te.prototype[Symbol.dispose]=function(){this.dispose()},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function ie(e){return/^[\s\xa0]*$/.test(e)}function ae(e,t){ne.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(ae,ne),ae.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var oe=`closure_listenable_`+(Math.random()*1e6|0),se=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++se,this.da=this.fa=!1}function le(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ue(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function T(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function E(e){let t={};for(let n in e)t[n]=e[n];return t}let de=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function fe(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<de.length;t++)n=de[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pe(e){this.src=e,this.g={},this.h=0}pe.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=he(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new ce(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function me(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(le(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function he(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var D=`closure_lm_`+(Math.random()*1e6|0),ge={};function _e(e,t,n,r,i){if(r&&r.once)return be(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)_e(e,t[a],n,r,i);return null}return n=De(n),e&&e[oe]?e.J(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=Te(e);if(c||(e[D]=c=new pe(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ye(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ce(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ye(){function e(n){return t.call(e.src,e.listener,n)}let t=we;return e}function be(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=De(n),e&&e[oe]?e.K(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function xe(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xe(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=De(n),e&&e[oe]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=he(t,n,r,i),n>-1&&(le(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=Te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=he(t,n,r,i)),(n=e>-1?t[e]:null)&&Se(n))}function Se(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[oe])me(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(me(n,e),n.h==0&&(n.src=null,t[D]=null)):le(e)}}}function Ce(e){return e in ge?ge[e]:ge[e]=`on`+e}function we(e,t){if(e.da)e=!0;else{t=new ae(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Se(e),e=n.call(r,t)}return e}function Te(e){return e=e[D],e instanceof pe?e:null}var Ee=`__closure_events_fn_`+(Math.random()*1e9>>>0);function De(e){return typeof e==`function`?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Oe(){te.call(this),this.i=new pe(this),this.M=this,this.G=null}d(Oe,te),Oe.prototype[oe]=!0,Oe.prototype.removeEventListener=function(e,t,n,r){xe(this,e,t,n,r)};function ke(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new ne(t,e);else if(t instanceof ne)t.target=t.target||e;else{var i=t;t=new ne(r,e),fe(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Ae(a,r,!0,t)&&i;if(a=t.g=e,i=Ae(a,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Ae(a,r,!1,t)&&i}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)le(n[e]);delete e.g[t],e.h--}}this.G=null},Oe.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ae(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&me(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function je(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function Me(e){e.g=je(()=>{e.g=null,e.i&&(e.i=!1,Me(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Ne extends te{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Me(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function O(e){te.call(this),this.h=e,this.g={}}d(O,te);var Pe=[];function Fe(e){ue(e.g,function(e,t){this.g.hasOwnProperty(t)&&Se(e)},e),e.g={}}O.prototype.N=function(){O.Z.N.call(this),Fe(this)},O.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Ie=o.JSON.stringify,Le=o.JSON.parse,Re=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function ze(){}function Be(){}var Ve={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function He(){ne.call(this,`d`)}d(He,ne);function Ue(){ne.call(this,`c`)}d(Ue,ne);var We={},Ge=null;function Ke(){return Ge||=new Oe}We.Ia=`serverreachability`;function qe(e){ne.call(this,We.Ia,e)}d(qe,ne);function Je(e){let t=Ke();ke(t,new qe(t))}We.STAT_EVENT=`statevent`;function Ye(e,t){ne.call(this,We.STAT_EVENT,e),this.stat=t}d(Ye,ne);function Xe(e){let t=Ke();ke(t,new Ye(t,e))}We.Ja=`timingevent`;function Ze(e,t){ne.call(this,We.Ja,e),this.size=t}d(Ze,ne);function Qe(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function $e(){this.g=!0}$e.prototype.ua=function(){this.g=!1};function et(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function tt(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function nt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+it(e,n)+(r?` `+r:``)})}function rt(e,t){e.info(function(){return`TIMEOUT: `+t})}$e.prototype.info=function(){};function it(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Ie(a)}catch{return t}}var at={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ot={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},st;function ct(){}d(ct,ze),ct.prototype.g=function(){return new XMLHttpRequest},st=new ct;function lt(e){return encodeURIComponent(String(e))}function ut(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function dt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new O(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ft}function ft(){this.i=null,this.g=``,this.h=!1}var pt={},mt={};function ht(e,t,n){e.M=1,e.A=Bt(k(t)),e.u=n,e.R=!0,gt(e,null)}function gt(e,t){e.F=Date.now(),bt(e),e.B=k(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),en(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new ft,e.g=Kn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Ne(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Pe[0]=i.toString()),i=Pe);for(let e=0;e<i.length;e++){let a=_e(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?E(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Je(),et(e.i,e.v,e.B,e.l,e.S,e.u)}dt.prototype.ba=function(e){e=e.target;let t=this.O;t&&Cn(e)==3?t.j():this.Y(e)},dt.prototype.Y=function(e){try{if(e==this.g)a:{let s=Cn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||wn(this.g)))){this.K||s!=4||c==7||Je(c==8||l<=0?3:2),St(this);var t=this.g.ca();this.X=t;var n=_t(this);if(this.o=t==200,tt(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!ie(r)){var a=r;break b}}a=null}if(e=a)nt(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,Tt(this,e);else{this.o=!1,this.m=3,Xe(12),wt(this),Ct(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=yt(this,n),t==mt){s==4&&(this.m=4,Xe(14),e=!1),nt(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==pt){this.m=4,Xe(15),nt(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else nt(this.i,this.l,t,null),Tt(this,t);if(vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Xe(16),e=!1),this.o=this.o&&e,!e)nt(this.i,this.l,n,`[Invalid Chunked Response]`),wt(this),Ct(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),Rn(o),o.P=!0,Xe(11))}}else nt(this.i,this.l,n,null),Tt(this,n);s==4&&wt(this),this.o&&!this.K&&(s==4?Vn(this.j,this):(this.o=!1,bt(this)))}else Tn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),wt(this),Ct(this)}}}catch{}};function _t(e){if(!vt(e))return e.g.la();let t=wn(e.g);if(t===``)return``;let n=``,r=t.length,i=Cn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return wt(e),Ct(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function vt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function yt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?mt:(n=Number(t.substring(n,r)),isNaN(n)?pt:(r+=1,r+n>t.length?mt:(t=t.slice(r,r+n),e.C=r+n,t)))}dt.prototype.cancel=function(){this.K=!0,wt(this)};function bt(e){e.T=Date.now()+e.H,xt(e,e.H)}function xt(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=Qe(l(e.aa,e),t)}function St(e){e.D&&=(o.clearTimeout(e.D),null)}dt.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(rt(this.i,this.B),this.M!=2&&(Je(),Xe(17)),wt(this),this.m=2,Ct(this)):xt(this,this.T-e)};function Ct(e){e.j.I==0||e.K||Vn(e.j,e)}function wt(e){St(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Fe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Tt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||At(n.h,e))){if(!e.L&&At(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Bn(n),kn(n);else break a;Ln(n),Xe(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Qe(l(n.Va,n),6e3));kt(n.h)<=1&&n.ta&&(n.ta=void 0)}else Un(n,11)}else if((e.L||n.g==e)&&Bn(n),!ie(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(jt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,A(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Gn(r,r.L?r.ba:null,r.W),o.L){Mt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(St(s),bt(s)),r.g=o}else In(r);n.i.length>0&&jn(n)}else l[0]!=`stop`&&l[0]!=`close`||Un(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Un(n,7):On(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Je(4)}catch{}}var Et=class{constructor(e,t){this.g=e,this.map=t}};function Dt(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ot(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function kt(e){return e.h?1:e.g?e.g.size:0}function At(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function jt(e,t){e.g?e.g.add(t):e.h=t}function Mt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Dt.prototype.cancel=function(){if(this.i=Nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Nt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Pt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Ft(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function It(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof It?(this.l=e.l,Lt(this,e.j),this.o=e.o,this.g=e.g,Rt(this,e.u),this.h=e.h,zt(this,tn(e.i)),this.m=e.m):e&&(t=String(e).match(Pt))?(this.l=!1,Lt(this,t[1]||``,!0),this.o=Vt(t[2]||``),this.g=Vt(t[3]||``,!0),Rt(this,t[4]),this.h=Vt(t[5]||``,!0),zt(this,t[6]||``,!0),this.m=Vt(t[7]||``)):(this.l=!1,this.i=new Yt(null,this.l))}It.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Ht(t,Wt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Ht(t,Wt,!0),`@`),e.push(lt(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Ht(n,n.charAt(0)==`/`?Kt:Gt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Ht(n,Jt)),e.join(``)},It.prototype.resolve=function(e){let t=k(this),n=!!e.j;n?Lt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Rt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?zt(t,tn(e.i)):n=!!e.m,n&&(t.m=e.m),t};function k(e){return new It(e)}function Lt(e,t,n){e.j=n?Vt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function zt(e,t,n){t instanceof Yt?(e.i=t,rn(e.i,e.l)):(n||(t=Ht(t,qt)),e.i=new Yt(t,e.l))}function A(e,t,n){e.i.set(t,n)}function Bt(e){return A(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Ht(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Ut),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Ut(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Wt=/[#\/\?@]/g,Gt=/[#\?:]/g,Kt=/[#\?]/g,qt=/[#\?@]/g,Jt=/#/g;function Yt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xt(e){e.g||(e.g=new Map,e.h=0,e.i&&Ft(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Yt.prototype,e.add=function(e,t){Xt(this),this.i=null,e=nn(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Zt(e,t){Xt(e),t=nn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Qt(e,t){return Xt(e),t=nn(e,t),e.g.has(t)}e.forEach=function(e,t){Xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function $t(e,t){Xt(e);let n=[];if(typeof t==`string`)Qt(e,t)&&(n=n.concat(e.g.get(nn(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Xt(this),this.i=null,e=nn(this,e),Qt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=$t(this,e),e.length>0?String(e[0]):t):t};function en(e,t,n){Zt(e,t),n.length>0&&(e.i=null,e.g.set(nn(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=lt(n);n=$t(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+lt(n[t])),e.push(r)}}return this.i=e.join(`&`)};function tn(e){let t=new Yt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function nn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function rn(e,t){t&&!e.j&&(Xt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(Zt(this,t),en(this,n,e))},e)),e.j=t}function an(e,t){let n=new $e;if(o.Image){let r=new Image;r.onload=u(sn,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(sn,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(sn,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(sn,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function on(e,t){let n=new $e,r=new AbortController,i=setTimeout(()=>{r.abort(),sn(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?sn(n,`TestPingServer: ok`,!0,t):sn(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),sn(n,`TestPingServer: error`,!1,t)})}function sn(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function cn(){this.g=new Re}function ln(e){this.i=e.Sb||null,this.h=e.ab||!1}d(ln,ze),ln.prototype.g=function(){return new un(this.i,this.h)};function un(e,t){Oe.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(un,Oe),e=un.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,pn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pn(this)),this.g&&(this.readyState=3,pn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;dn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function dn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fn(this):pn(this),this.readyState==3&&dn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,fn(this))},e.Na=function(e){this.g&&(this.response=e,fn(this))},e.ga=function(){this.g&&fn(this)};function fn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,pn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function pn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(un.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function mn(e){let t=``;return ue(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function hn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=mn(n),typeof e==`string`||A(e,t,n))}function gn(e){Oe.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(gn,Oe);var _n=/^https?$/i,vn=[`POST`,`PUT`];e=gn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():st.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){yn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(vn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){yn(this,e)}};function yn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,bn(e),Sn(e)}function bn(e){e.A||(e.A=!0,ke(e,`complete`),ke(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ke(this,`complete`),ke(this,`abort`),Sn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),gn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?xn(this):this.Xa())},e.Xa=function(){xn(this)};function xn(e){if(e.h&&a!==void 0){if(e.v&&Cn(e)==4)setTimeout(e.Ca.bind(e),0);else if(ke(e,`readystatechange`),Cn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Pt)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!_n.test(t?t.toLowerCase():``)}n=r}if(n)ke(e,`complete`),ke(e,`success`);else{e.o=6;try{var i=Cn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,bn(e)}}finally{Sn(e)}}}}function Sn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||ke(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Cn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return Cn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Le(t)}};function wn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Tn(e){let t={};e=(e.g&&Cn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(ie(e[r]))continue;var n=ut(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}T(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function En(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dn(e){this.za=0,this.i=[],this.j=new $e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=En(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=En(`baseRetryDelayMs`,5e3,e),this.Za=En(`retryDelaySeedMs`,1e4,e),this.Ta=En(`forwardChannelMaxRetries`,2,e),this.va=En(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Dt(e&&e.concurrentRequestLimit),this.Ba=new cn,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Dn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Xe(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Gn(this,null,this.W),jn(this)};function On(e){if(An(e),e.I==3){var t=e.V++,n=k(e.J);if(A(n,`SID`,e.M),A(n,`RID`,t),A(n,`TYPE`,`terminate`),Pn(e,n),t=new dt(e,e.j,t),t.M=2,t.A=Bt(k(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Kn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),bt(t)}Wn(e)}function kn(e){e.g&&=(Rn(e),e.g.cancel(),null)}function An(e){kn(e),e.v&&=(o.clearTimeout(e.v),null),Bn(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function jn(e){if(!Ot(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||C(),S||=(x(),!0),ee.add(t,e),e.D=0}}function Mn(e,t){return kt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=Qe(l(e.Ea,e,t),Hn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new dt(this,this.j,e),a=this.o;if(this.U&&(a?(a=E(a),fe(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Fn(this,i,t),n=k(this.J),A(n,`RID`,e),A(n,`CVER`,22),this.G&&A(n,`X-HTTP-Session-Id`,this.G),Pn(this,n),a&&(this.R?t=`headers=`+lt(mn(a))+`&`+t:this.u&&hn(n,this.u,a)),jt(this.h,i),this.Ra&&A(n,`TYPE`,`init`),this.S?(A(n,`$req`,t),A(n,`SID`,`null`),i.U=!0,ht(i,n,null)):ht(i,n,t),this.I=2}}else this.I==3&&(e?Nn(this,e):this.i.length==0||Ot(this.h)||Nn(this))};function Nn(e,t){var n=t?t.l:e.V++;let r=k(e.J);A(r,`SID`,e.M),A(r,`RID`,n),A(r,`AID`,e.K),Pn(e,r),e.u&&e.o&&hn(r,e.u,e.o),n=new dt(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Fn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),jt(e.h,n),ht(n,r,t)}function Pn(e,t){e.H&&ue(e.H,function(e,n){A(t,n,e)}),e.l&&ue({},function(e,n){A(t,n,e)})}function Fn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Ie(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function In(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||C(),S||=(x(),!0),ee.add(t,e),e.A=0}}function Ln(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=Qe(l(e.Da,e),Hn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,zn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=Qe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Xe(10),kn(this),zn(this))};function Rn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function zn(e){e.g=new dt(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=k(e.na);A(t,`RID`,`rpc`),A(t,`SID`,e.M),A(t,`AID`,e.K),A(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&A(t,`TO`,e.ia),A(t,`TYPE`,`xmlhttp`),Pn(e,t),e.u&&e.o&&hn(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Bt(k(t)),n.u=null,n.R=!0,gt(n,e)}e.Va=function(){this.C!=null&&(this.C=null,kn(this),Ln(this),Xe(19))};function Bn(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Vn(e,t){var n=null;if(e.g==t){Bn(e),Rn(e),e.g=null;var r=2}else if(At(e.h,t))n=t.G,Mt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Ke(),ke(r,new Ze(r,n)),jn(e)}else In(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Mn(e,t)||r==2&&Ln(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Un(e,5);break;case 4:Un(e,10);break;case 3:Un(e,6);break;default:Un(e,2)}}}function Hn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Un(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new It(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Lt(r,`https`),Bt(r),t?an(r.toString(),n):on(r.toString(),n)}else Xe(2);e.I=0,e.l&&e.l.pa(t),Wn(e),An(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Xe(2)):(this.j.info(`Failed to ping google.com`),Xe(1))};function Wn(e){if(e.I=0,e.ja=[],e.l){let t=Nt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Gn(e,t,n){var r=n instanceof It?k(n):new It(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Rt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new It(null);r&&Lt(e,r),t&&(e.g=t),i&&Rt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&A(r,n,t),A(r,`VER`,e.ka),Pn(e,r),r}function Kn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new gn(new ln({ab:n})):new gn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qn(){}e=qn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Jn(){}Jn.prototype.g=function(e,t){return new Yn(e,t)};function Yn(e,t){Oe.call(this),this.g=new Dn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!ie(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!ie(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Qn(this)}d(Yn,Oe),Yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){On(this.g)},Yn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ie(e),e=n);t.i.push(new Et(t.Ya++,e)),t.I==3&&jn(t)},Yn.prototype.N=function(){this.g.l=null,delete this.j,On(this.g),delete this.g,Yn.Z.N.call(this)};function Xn(e){He.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Xn,He);function Zn(){Ue.call(this),this.status=1}d(Zn,Ue);function Qn(e){this.g=e}d(Qn,qn),Qn.prototype.ra=function(){ke(this.g,`a`)},Qn.prototype.qa=function(e){ke(this.g,new Xn(e))},Qn.prototype.pa=function(e){ke(this.g,new Zn)},Qn.prototype.oa=function(){ke(this.g,`b`)},Jn.prototype.createWebChannel=Jn.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Pr=Er.createWebChannelTransport=function(){return new Jn},Nr=Er.getStatEventTarget=function(){return Ke()},Mr=Er.Event=We,jr=Er.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,Ar=Er.ErrorCode=at,ot.COMPLETE=`complete`,kr=Er.EventType=ot,Be.EventType=Ve,Ve.OPEN=`a`,Ve.CLOSE=`b`,Ve.ERROR=`c`,Ve.MESSAGE=`d`,Oe.prototype.listen=Oe.prototype.J,Or=Er.WebChannel=Be,Er.FetchXmlHttpFactory=ln,gn.prototype.listenOnce=gn.prototype.K,gn.prototype.getLastError=gn.prototype.Ha,gn.prototype.getLastErrorCode=gn.prototype.ya,gn.prototype.getStatus=gn.prototype.ca,gn.prototype.getResponseJson=gn.prototype.La,gn.prototype.getResponseText=gn.prototype.la,gn.prototype.send=gn.prototype.ea,gn.prototype.setWithCredentials=gn.prototype.Fa,Dr=Er.XhrIo=gn}).apply(Tr===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Tr);var Fr=`@firebase/firestore`,Ir=`4.9.2`,Lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr(`google-credentials-uid`),Lr.FIRST_PARTY=new Lr(`first-party-uid`),Lr.MOCK_USER=new Lr(`mock-user`);var Rr=`12.3.0`,zr=new Bt(`@firebase/firestore`);function Br(){return zr.logLevel}function j(e,...t){if(zr.logLevel<=k.DEBUG){let n=t.map(Ur);zr.debug(`Firestore (${Rr}): ${e}`,...n)}}function Vr(e,...t){if(zr.logLevel<=k.ERROR){let n=t.map(Ur);zr.error(`Firestore (${Rr}): ${e}`,...n)}}function Hr(e,...t){if(zr.logLevel<=k.WARN){let n=t.map(Ur);zr.warn(`Firestore (${Rr}): ${e}`,...n)}}function Ur(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function M(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Wr(e,r,n)}function Wr(e,t,n){let r=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Vr(r),Error(r)}function N(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Wr(t,i,r)}function P(e,t){return e}var F={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},I=class extends Ct{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Gr=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Kr=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},qr=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Lr.UNAUTHENTICATED)))}shutdown(){}},Jr=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Yr=class{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){N(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{j(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(j(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Gr)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(N(typeof t.accessToken==`string`,31837,{l:t}),new Kr(t.accessToken,this.currentUser)):null:(j(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return N(e===null||typeof e==`string`,2055,{h:e}),new Lr(e)}},Xr=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Lr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},Zr=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Xr(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Lr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Qr=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},$r=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){N(this.o===void 0,3512);let n=e=>{e.error!=null&&j(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,j(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{j(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):j(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Qr(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(N(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Qr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ei(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var ti=class{static newId(){let e=``;for(;e.length<20;){let t=ei(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function L(e,t){return e<t?-1:e>t?1:0}function ni(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return ai(n)===ai(i)?L(n,i):ai(n)?1:-1}return L(e.length,t.length)}var ri=55296,ii=57343;function ai(e){let t=e.charCodeAt(0);return t>=ri&&t<=ii}function oi(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var si=`__name__`,ci=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&M(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&M(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return L(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):ni(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}},li=class e extends ci{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new I(F.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},ui=/^[_a-zA-Z][_a-zA-Z0-9]*$/,di=class e extends ci{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return ui.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===si}static keyField(){return new e([si])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new I(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new I(F.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new I(F.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new I(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},R=class e{constructor(e){this.path=e}static fromPath(t){return new e(li.fromString(t))}static fromName(t){return new e(li.fromString(t).popFirst(5))}static empty(){return new e(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&li.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return li.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new li(t.slice()))}};function fi(e,t,n){if(!n)throw new I(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pi(e,t,n,r){if(!0===t&&!0===r)throw new I(F.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function mi(e){if(!R.isDocumentKey(e))throw new I(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hi(e){if(R.isDocumentKey(e))throw new I(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function gi(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function _i(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:M(12329,{type:typeof e})}function vi(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new I(F.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=_i(e);throw new I(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function yi(e,t){let n={typeString:e};return t&&(n.value=t),n}function bi(e,t){if(!gi(e))throw new I(F.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new I(F.INVALID_ARGUMENT,n);return!0}var xi=-62135596800,Si=1e6,Ci=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*Si))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new I(F.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<xi||e>=253402300800)throw new I(F.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Si}_compareTo(e){return this.seconds===e.seconds?L(this.nanoseconds,e.nanoseconds):L(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bi(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-xi;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};Ci._jsonSchemaVersion=`firestore/timestamp/1.0`,Ci._jsonSchema={type:yi(`string`,Ci._jsonSchemaVersion),seconds:yi(`number`),nanoseconds:yi(`number`)};var z=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new Ci(0,0))}static max(){return new e(new Ci(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},wi=-1,Ti=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};Ti.UNKNOWN_ID=-1;function Ei(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Oi(z.fromTimestamp(r===1e9?new Ci(n+1,0):new Ci(n,r)),R.empty(),t)}function Di(e){return new Oi(e.readTime,e.key,wi)}var Oi=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(z.min(),R.empty(),wi)}static max(){return new e(z.max(),R.empty(),wi)}};function ki(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=R.comparator(e.documentKey,t.documentKey),n===0?L(e.largestBatchId,t.largestBatchId):n):n}var Ai=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,ji=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Mi(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==Ai)throw e;j(`LocalStore`,`Unexpectedly lost primary lease`)}var B=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&M(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Ni(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Pi(e){return e.name===`IndexedDbTransactionError`}var Fi=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Fi.ce=-1;var Ii=-1;function Li(e){return e==null}function Ri(e){return e===0&&1/e==-1/0}function zi(e){return typeof e==`number`&&Number.isInteger(e)&&!Ri(e)&&e<=2**53-1&&e>=-(2**53-1)}var Bi=``;function Vi(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Ui(t)),t=Hi(e.get(n),t);return Ui(t)}function Hi(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Bi:n+=``;break;default:n+=r}}return n}function Ui(e){return e+Bi+``}function Wi(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gi(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ki(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var qi=class e{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ji(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ji(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ji(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ji(this.root,e,this.comparator,!0)}},Ji=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yi=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw M(43730,{key:this.key,value:this.value});if(this.right.isRed())throw M(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw M(27949);return e+(this.isRed()?0:1)}};Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw M(57766)}get value(){throw M(16141)}get color(){throw M(16727)}get left(){throw M(29726)}get right(){throw M(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Yi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xi=class e{constructor(e){this.comparator=e,this.data=new qi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zi(this.data.getIterator())}getIteratorFrom(e){return new Zi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Zi=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},Qi=class e{constructor(e){this.fields=e,e.sort(di.comparator)}static empty(){return new e([])}unionWith(t){let n=new Xi(di.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},$i=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},ea=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new $i(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return L(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ea.EMPTY_BYTE_STRING=new ea(``);var ta=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(e){if(N(!!e,39018),typeof e==`string`){let t=0,n=ta.exec(e);if(N(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ra(e.seconds),nanos:ra(e.nanos)}}function ra(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function ia(e){return typeof e==`string`?ea.fromBase64String(e):ea.fromUint8Array(e)}var aa=`server_timestamp`,oa=`__type__`,sa=`__previous_value__`,ca=`__local_write_time__`;function la(e){return(e?.mapValue?.fields||{})[oa]?.stringValue===aa}function ua(e){let t=e.mapValue.fields[sa];return la(t)?ua(t):t}function da(e){let t=na(e.mapValue.fields[ca].timestampValue);return new Ci(t.seconds,t.nanos)}var fa=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},pa=`(default)`,ma=class e{constructor(e,t){this.projectId=e,this.database=t||pa}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===pa}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},ha=`__type__`,ga=`__max__`,_a={mapValue:{fields:{__type__:{stringValue:ga}}}},va=`__vector__`,ya=`value`;function ba(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?la(e)?4:La(e)?9007199254740991:Fa(e)?10:11:M(28295,{value:e})}function xa(e,t){if(e===t)return!0;let n=ba(e);if(n!==ba(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return da(e).isEqual(da(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=na(e.timestampValue),r=na(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ia(e.bytesValue).isEqual(ia(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ra(e.geoPointValue.latitude)===ra(t.geoPointValue.latitude)&&ra(e.geoPointValue.longitude)===ra(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return ra(e.integerValue)===ra(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=ra(e.doubleValue),r=ra(t.doubleValue);return n===r?Ri(n)===Ri(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oi(e.arrayValue.values||[],t.arrayValue.values||[],xa);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wi(n)!==Wi(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!xa(n[e],r[e])))return!1;return!0}(e,t);default:return M(52216,{left:e})}}function Sa(e,t){return(e.values||[]).find((e=>xa(e,t)))!==void 0}function Ca(e,t){if(e===t)return 0;let n=ba(e),r=ba(t);if(n!==r)return L(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return L(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=ra(e.integerValue||e.doubleValue),r=ra(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return wa(e.timestampValue,t.timestampValue);case 4:return wa(da(e),da(t));case 5:return ni(e.stringValue,t.stringValue);case 6:return function(e,t){let n=ia(e),r=ia(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=L(n[e],r[e]);if(t!==0)return t}return L(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=L(ra(e.latitude),ra(t.latitude));return n===0?L(ra(e.longitude),ra(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return Ta(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[ya]?.arrayValue,a=r[ya]?.arrayValue,o=L(i?.values?.length||0,a?.values?.length||0);return o===0?Ta(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_a.mapValue&&t===_a.mapValue)return 0;if(e===_a.mapValue)return 1;if(t===_a.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=ni(r[e],a[e]);if(t!==0)return t;let o=Ca(n[r[e]],i[a[e]]);if(o!==0)return o}return L(r.length,a.length)}(e.mapValue,t.mapValue);default:throw M(23264,{he:n})}}function wa(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return L(e,t);let n=na(e),r=na(t),i=L(n.seconds,r.seconds);return i===0?L(n.nanos,r.nanos):i}function Ta(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=Ca(n[e],r[e]);if(t)return t}return L(n.length,r.length)}function Ea(e){return Da(e)}function Da(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=na(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return ia(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return R.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Da(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Da(e.fields[i])}`;return n+`}`}(e.mapValue):M(61005,{value:e})}function Oa(e){switch(ba(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=ua(e);return t?16+Oa(t):16;case 5:return 2*e.stringValue.length;case 6:return ia(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Oa(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Gi(e.fields,((e,n)=>{t+=e.length+Oa(n)})),t}(e.mapValue);default:throw M(13486,{value:e})}}function ka(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Aa(e){return!!e&&`integerValue`in e}function ja(e){return!!e&&`arrayValue`in e}function Ma(e){return!!e&&`nullValue`in e}function Na(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function Pa(e){return!!e&&`mapValue`in e}function Fa(e){return(e?.mapValue?.fields||{})[ha]?.stringValue===va}function Ia(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Gi(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ia(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ia(e.arrayValue.values[n]);return t}return{...e}}function La(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ga}var Ra=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Pa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(t)}setAll(e){let t=di.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ia(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());Pa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Pa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Gi(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(Ia(this.value))}};function za(e){let t=[];return Gi(e.fields,((e,n)=>{let r=new di([e]);if(Pa(n)){let e=za(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new Qi(t)}var Ba=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,z.min(),z.min(),z.min(),Ra.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,z.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,z.min(),z.min(),Ra.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,z.min(),z.min(),Ra.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Va=class{constructor(e,t){this.position=e,this.inclusive=t}};function Ha(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):Ca(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Ua(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xa(e.position[n],t.position[n]))return!1;return!0}var Wa=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Ga(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ka=class{},qa=class e extends Ka{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new to(t,n,r):n===`array-contains`?new ao(t,r):n===`in`?new oo(t,r):n===`not-in`?new so(t,r):n===`array-contains-any`?new co(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new no(e,n):new ro(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ca(t,this.value)):t!==null&&ba(this.value)===ba(t)&&this.matchesComparison(Ca(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return M(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ja=class e extends Ka{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Ya(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Ya(e){return e.op===`and`}function Xa(e){return Za(e)&&Ya(e)}function Za(e){for(let t of e.filters)if(t instanceof Ja)return!1;return!0}function Qa(e){if(e instanceof qa)return e.field.canonicalString()+e.op.toString()+Ea(e.value);if(Xa(e))return e.filters.map((e=>Qa(e))).join(`,`);{let t=e.filters.map((e=>Qa(e))).join(`,`);return`${e.op}(${t})`}}function $a(e,t){return e instanceof qa?function(e,t){return t instanceof qa&&e.op===t.op&&e.field.isEqual(t.field)&&xa(e.value,t.value)}(e,t):e instanceof Ja?function(e,t){return t instanceof Ja&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&$a(n,t.filters[r])),!0):!1}(e,t):void M(19439)}function eo(e){return e instanceof qa?function(e){return`${e.field.canonicalString()} ${e.op} ${Ea(e.value)}`}(e):e instanceof Ja?function(e){return e.op.toString()+` {`+e.getFilters().map(eo).join(` ,`)+`}`}(e):`Filter`}var to=class extends qa{constructor(e,t,n){super(e,t,n),this.key=R.fromName(n.referenceValue)}matches(e){let t=R.comparator(e.key,this.key);return this.matchesComparison(t)}},no=class extends qa{constructor(e,t){super(e,`in`,t),this.keys=io(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},ro=class extends qa{constructor(e,t){super(e,`not-in`,t),this.keys=io(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function io(e,t){return(t.arrayValue?.values||[]).map((e=>R.fromName(e.referenceValue)))}var ao=class extends qa{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return ja(t)&&Sa(t.arrayValue,this.value)}},oo=class extends qa{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&Sa(this.value.arrayValue,t)}},so=class extends qa{constructor(e,t){super(e,`not-in`,t)}matches(e){if(Sa(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Sa(this.value.arrayValue,t)}},co=class extends qa{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!ja(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Sa(this.value.arrayValue,e)))}},lo=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function uo(e,t=null,n=[],r=[],i=null,a=null,o=null){return new lo(e,t,n,r,i,a,o)}function fo(e){let t=P(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>Qa(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Li(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>Ea(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>Ea(e))).join(`,`)),t.Te=e}return t.Te}function V(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ga(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$a(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ua(e.startAt,t.startAt)&&Ua(e.endAt,t.endAt)}function po(e){return R.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var mo=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function ho(e,t,n,r,i,a,o,s){return new mo(e,t,n,r,i,a,o,s)}function go(e){return new mo(e)}function _o(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function vo(e){return e.collectionGroup!==null}function yo(e){let t=P(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Xi(di.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Wa(r,n))})),e.has(di.keyField().canonicalString())||t.Ie.push(new Wa(di.keyField(),n))}return t.Ie}function bo(e){let t=P(e);return t.Ee||=xo(t,yo(e)),t.Ee}function xo(e,t){if(e.limitType===`F`)return uo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new Wa(e.field,t)}));let n=e.endAt?new Va(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Va(e.startAt.position,e.startAt.inclusive):null;return uo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function So(e,t){let n=e.filters.concat([t]);return new mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Co(e,t,n){return new mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wo(e,t){return V(bo(e),bo(t))&&e.limitType===t.limitType}function To(e){return`${fo(bo(e))}|lt:${e.limitType}`}function Eo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>eo(e))).join(`, `)}]`),Li(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>Ea(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>Ea(e))).join(`,`)),`Target(${t})`}(bo(e))}; limitType=${e.limitType})`}function Do(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?R.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of yo(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Ha(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yo(e),t)||e.endAt&&!function(e,t,n){let r=Ha(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yo(e),t))}(e,t)}function Oo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ko(e){return(t,n)=>{let r=!1;for(let i of yo(e)){let e=Ao(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function Ao(e,t,n){let r=e.field.isKeyField()?R.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?Ca(r,i):M(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return M(19790,{direction:e.dir})}}var jo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Ki(this.inner)}size(){return this.innerSize}},Mo=new qi(R.comparator);function No(){return Mo}var Po=new qi(R.comparator);function Fo(...e){let t=Po;for(let n of e)t=t.insert(n.key,n);return t}function Io(e){let t=Po;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Lo(){return zo()}function Ro(){return zo()}function zo(){return new jo((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Bo=new qi(R.comparator),Vo=new Xi(R.comparator);function H(...e){let t=Vo;for(let n of e)t=t.add(n);return t}var Ho=new Xi(L);function Uo(){return Ho}function Wo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Ri(t)?`-0`:t}}function Go(e){return{integerValue:``+e}}function Ko(e,t){return zi(t)?Go(t):Wo(e,t)}var qo=class{constructor(){this._=void 0}};function Jo(e,t,n){return e instanceof Zo?function(e,t){let n={fields:{[oa]:{stringValue:aa},[ca]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&la(t)&&(t=ua(t)),t&&(n.fields[sa]=t),{mapValue:n}}(n,t):e instanceof Qo?$o(e,t):e instanceof es?ts(e,t):function(e,t){let n=Xo(e,t),r=rs(n)+rs(e.Ae);return Aa(n)&&Aa(e.Ae)?Go(r):Wo(e.serializer,r)}(e,t)}function Yo(e,t,n){return e instanceof Qo?$o(e,t):e instanceof es?ts(e,t):n}function Xo(e,t){return e instanceof ns?function(e){return Aa(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Zo=class extends qo{},Qo=class extends qo{constructor(e){super(),this.elements=e}};function $o(e,t){let n=is(t);for(let t of e.elements)n.some((e=>xa(e,t)))||n.push(t);return{arrayValue:{values:n}}}var es=class extends qo{constructor(e){super(),this.elements=e}};function ts(e,t){let n=is(t);for(let t of e.elements)n=n.filter((e=>!xa(e,t)));return{arrayValue:{values:n}}}var ns=class extends qo{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function rs(e){return ra(e.integerValue||e.doubleValue)}function is(e){return ja(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var as=class{constructor(e,t){this.field=e,this.transform=t}};function os(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qo&&t instanceof Qo||e instanceof es&&t instanceof es?oi(e.elements,t.elements,xa):e instanceof ns&&t instanceof ns?xa(e.Ae,t.Ae):e instanceof Zo&&t instanceof Zo}(e.transform,t.transform)}var ss=class{constructor(e,t){this.version=e,this.transformResults=t}},cs=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ls(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var us=class{};function ds(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new xs(e.key,cs.none()):new gs(e.key,e.data,cs.none());{let n=e.data,r=Ra.empty(),i=new Xi(di.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new _s(e.key,r,new Qi(i.toArray()),cs.none())}}function fs(e,t,n){e instanceof gs?function(e,t,n){let r=e.value.clone(),i=ys(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _s?function(e,t,n){if(!ls(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=ys(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vs(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ps(e,t,n,r){return e instanceof gs?function(e,t,n,r){if(!ls(e.precondition,t))return n;let i=e.value.clone(),a=bs(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _s?function(e,t,n,r){if(!ls(e.precondition,t))return n;let i=bs(e.fieldTransforms,r,t),a=t.data;return a.setAll(vs(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ls(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ms(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=Xo(r.transform,e||null);i!=null&&(n===null&&(n=Ra.empty()),n.set(r.field,i))}return n||null}function hs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&oi(e,t,((e,t)=>os(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gs=class extends us{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},_s=class extends us{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function vs(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function ys(e,t,n){let r=new Map;N(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Yo(o,s,n[i]))}return r}function bs(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Jo(e,a,t))}return r}var xs=class extends us{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ss=class extends us{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},Cs=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&fs(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=ps(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=ps(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Ro();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=ds(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(z.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),H())}isEqual(e){return this.batchId===e.batchId&&oi(this.mutations,e.mutations,((e,t)=>hs(e,t)))&&oi(this.baseMutations,e.baseMutations,((e,t)=>hs(e,t)))}},ws=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){N(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Bo}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},Ts=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},Es=class{constructor(e,t){this.count=e,this.unchangedNames=t}},Ds,U;function Os(e){switch(e){case F.OK:return M(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return M(15467,{code:e})}}function ks(e){if(e===void 0)return Vr(`GRPC error has no .code`),F.UNKNOWN;switch(e){case Ds.OK:return F.OK;case Ds.CANCELLED:return F.CANCELLED;case Ds.UNKNOWN:return F.UNKNOWN;case Ds.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ds.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ds.INTERNAL:return F.INTERNAL;case Ds.UNAVAILABLE:return F.UNAVAILABLE;case Ds.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ds.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ds.NOT_FOUND:return F.NOT_FOUND;case Ds.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ds.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ds.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ds.ABORTED:return F.ABORTED;case Ds.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ds.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ds.DATA_LOSS:return F.DATA_LOSS;default:return M(39323,{code:e})}}(U=Ds||={})[U.OK=0]=`OK`,U[U.CANCELLED=1]=`CANCELLED`,U[U.UNKNOWN=2]=`UNKNOWN`,U[U.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,U[U.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,U[U.NOT_FOUND=5]=`NOT_FOUND`,U[U.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,U[U.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,U[U.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,U[U.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,U[U.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,U[U.ABORTED=10]=`ABORTED`,U[U.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,U[U.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,U[U.INTERNAL=13]=`INTERNAL`,U[U.UNAVAILABLE=14]=`UNAVAILABLE`,U[U.DATA_LOSS=15]=`DATA_LOSS`;var As=null;function js(){return new TextEncoder}var Ms=new Cr([4294967295,4294967295],0);function Ns(e){let t=js().encode(e),n=new wr;return n.update(t),new Uint8Array(n.digest())}function Ps(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Cr([n,r],0),new Cr([i,a],0)]}var Fs=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Is(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Is(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Is(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Cr.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Cr.fromNumber(n)));return r.compare(Ms)===1&&(r=new Cr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=Ps(Ns(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=Ps(Ns(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Is=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Ls=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Rs.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(z.min(),i,new qi(L),No(),H())}},Rs=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,H(),H(),H())}},zs=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},Bs=class{constructor(e,t){this.targetId=e,this.Ce=t}},Vs=class{constructor(e,t,n=ea.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},Hs=class{constructor(){this.ve=0,this.Fe=Gs(),this.Me=ea.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=H(),t=H(),n=H();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:M(38017,{changeType:i})}})),new Rs(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Gs()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,N(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Us=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=No(),this.Je=Ws(),this.He=Ws(),this.Ye=new qi(L)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:M(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(po(i))if(n===0){let e=new R(i.path);this.et(t,e,Ba.newNoDocument(e,z.min()))}else N(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}As?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=ia(n).toUint8Array()}catch(e){if(e instanceof $i)return Hr(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new Fs(a,r,i)}catch(e){return Hr(e instanceof Is?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&po(i.target)){let t=new R(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ba.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=H();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new Ls(e,t,this.Ye,this.je,n);return this.je=No(),this.Je=Ws(),this.He=Ws(),this.Ye=new qi(L),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Hs,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xi(L),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xi(L),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||j(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Hs),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Ws(){return new qi(R.comparator)}function Gs(){return new qi(R.comparator)}var Ks=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),qs=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),Js=(()=>({and:`AND`,or:`OR`}))(),Ys=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Xs(e,t){return e.useProto3Json||Li(t)?t:{value:t}}function Zs(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function Qs(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $s(e,t){return Zs(e,t.toTimestamp())}function ec(e){return N(!!e,49232),z.fromTimestamp(function(e){let t=na(e);return new Ci(t.seconds,t.nanos)}(e))}function tc(e,t){return nc(e,t).canonicalString()}function nc(e,t){let n=function(e){return new li([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function rc(e){let t=li.fromString(e);return N(Ec(t),10190,{key:t.toString()}),t}function ic(e,t){return tc(e.databaseId,t.path)}function ac(e,t){let n=rc(t);if(n.get(1)!==e.databaseId.projectId)throw new I(F.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new I(F.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new R(lc(n))}function oc(e,t){return tc(e.databaseId,t)}function sc(e){let t=rc(e);return t.length===4?li.emptyPath():lc(t)}function cc(e){return new li([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function lc(e){return N(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function uc(e,t,n){return{name:ic(e,t),fields:n.value.mapValue.fields}}function dc(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:M(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(N(t===void 0||typeof t==`string`,58123),ea.fromBase64String(t||``)):(N(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),ea.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Vs(r,i,a,o&&function(e){return new I(e.code===void 0?F.UNKNOWN:ks(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=ac(e,r.document.name),a=ec(r.document.updateTime),o=r.document.createTime?ec(r.document.createTime):z.min(),s=new Ra({mapValue:{fields:r.document.fields}}),c=Ba.newFoundDocument(i,a,o,s);n=new zs(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=ac(e,r.document),a=r.readTime?ec(r.readTime):z.min(),o=Ba.newNoDocument(i,a);n=new zs([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=ac(e,r.document);n=new zs([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return M(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new Es(r,i),o=e.targetId;n=new Bs(o,a)}}return n}function fc(e,t){let n;if(t instanceof gs)n={update:uc(e,t.key,t.value)};else if(t instanceof xs)n={delete:ic(e,t.key)};else if(t instanceof _s)n={update:uc(e,t.key,t.data),updateMask:Tc(t.fieldMask)};else{if(!(t instanceof Ss))return M(16599,{Vt:t.type});n={verify:ic(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof Zo)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof Qo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof es)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ns)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw M(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?M(27497):{exists:t.exists}:{updateTime:$s(e,t.updateTime)}}(e,t.precondition)),n}function pc(e,t){return e&&e.length>0?(N(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?ec(e.updateTime):ec(t);return n.isEqual(z.min())&&(n=ec(t)),new ss(n,e.transformResults||[])}(e,t)))):[]}function mc(e,t){return{documents:[oc(e,t.path)]}}function hc(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=oc(e,i);let a=function(e){if(e.length!==0)return wc(Ja.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:Sc(e.field),direction:yc(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Xs(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function gc(e){let t=sc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){N(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=vc(e);return t instanceof Ja&&Xa(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Wa(Cc(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Li(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Va(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Va(e.values||[],t)}(n.endAt)),ho(t,i,o,a,s,`F`,c,l)}function _c(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return M(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function vc(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?M(30097,{filter:e}):function(e){return Ja.create(e.compositeFilter.filters.map((e=>vc(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return M(1026)}}(e.compositeFilter.op))}(e):function(e){return qa.create(Cc(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return M(58110);default:return M(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=Cc(e.unaryFilter.field);return qa.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=Cc(e.unaryFilter.field);return qa.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=Cc(e.unaryFilter.field);return qa.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=Cc(e.unaryFilter.field);return qa.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return M(61313);default:return M(60726)}}(e)}function yc(e){return Ks[e]}function bc(e){return qs[e]}function xc(e){return Js[e]}function Sc(e){return{fieldPath:e.canonicalString()}}function Cc(e){return di.fromServerFormat(e.fieldPath)}function wc(e){return e instanceof qa?function(e){if(e.op===`==`){if(Na(e.value))return{unaryFilter:{field:Sc(e.field),op:`IS_NAN`}};if(Ma(e.value))return{unaryFilter:{field:Sc(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(Na(e.value))return{unaryFilter:{field:Sc(e.field),op:`IS_NOT_NAN`}};if(Ma(e.value))return{unaryFilter:{field:Sc(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:Sc(e.field),op:bc(e.op),value:e.value}}}(e):e instanceof Ja?function(e){let t=e.getFilters().map((e=>wc(e)));return t.length===1?t[0]:{compositeFilter:{op:xc(e.op),filters:t}}}(e):M(54877,{filter:e})}function Tc(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ec(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var Dc=class e{constructor(e,t,n,r,i=z.min(),a=z.min(),o=ea.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Oc=class{constructor(e){this.yt=e}};function kc(e){let t=gc({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?Co(t,t.limit,`L`):t}var Ac=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(ra(e.integerValue));else if(`doubleValue`in e){let n=ra(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ri(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=na(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(ia(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?La(e)?this.Ft(t,2**53-1):Fa(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):M(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=ya,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ra(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),R.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Ac.Kt=new Ac;var jc=class{constructor(){this.Cn=new Mc}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Oi.min())}updateCollectionGroup(e,t,n){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},Mc=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xi(li.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Xi(li.comparator)).toArray()}};new Uint8Array;var Nc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pc=41943040,Fc=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Fc.DEFAULT_COLLECTION_PERCENTILE=10,Fc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fc.DEFAULT=new Fc(Pc,Fc.DEFAULT_COLLECTION_PERCENTILE,Fc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fc.DISABLED=new Fc(-1,0,0);var Ic=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},Lc=`LruGarbageCollector`,Rc=1048576;function zc([e,t],[n,r]){let i=L(e,n);return i===0?L(t,r):i}var Bc=class{constructor(e){this.Ir=e,this.buffer=new Xi(zc),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();zc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},Vc=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){j(Lc,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Pi(e)?j(Lc,`Ignoring IndexedDB error during garbage collection: `,e):await Mi(e)}await this.Vr(3e5)}))}},Hc=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return B.resolve(Fi.ce);let n=new Bc(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(j(`LruGarbageCollector`,`Garbage collection skipped; disabled`),B.resolve(Nc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(j(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nc):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(j(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Br()<=k.DEBUG&&j(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Uc(e,t){return new Hc(e,t)}var Wc=class{constructor(){this.changes=new jo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ba.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):B.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Gc=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Kc=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&ps(n.mutation,e,Qi.empty(),Ci.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,H()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=H()){let r=Lo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Fo();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=Lo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,H())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=No(),a=zo(),o=function(){return zo()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof _s)?i=i.insert(t.key,t):o===void 0?a.set(t.key,Qi.empty()):(a.set(t.key,o.mutation.getFieldMask()),ps(o.mutation,t,o.mutation.getFieldMask(),Ci.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Gc(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=zo(),r=new qi(((e,t)=>e-t)),i=H();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||Qi.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||H()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Ro();c.forEach((e=>{if(!i.has(e)){let r=ds(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return B.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return R.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):B.resolve(Lo()),o=wi,s=i;return a.next((t=>B.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?B.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,H()))).next((e=>({batchId:o,changes:Io(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new R(t)).next((e=>{let t=Fo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=Fo();return this.indexManager.getCollectionParents(e,i).next((o=>B.forEach(o,(o=>{let s=function(e,t){return new mo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Ba.newInvalidDocument(r)))}));let n=Fo();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&ps(a.mutation,r,Qi.empty(),Ci.now()),Do(t,r)&&(n=n.insert(e,r))})),n}))}},qc=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return B.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ec(e.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:kc(e.bundledQuery),readTime:ec(e.readTime)}}(t)),B.resolve()}},Jc=class{constructor(){this.overlays=new qi(R.comparator),this.qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let n=Lo();return B.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),B.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),B.resolve()}getOverlaysForCollection(e,t,n){let r=Lo(),i=t.length+1,a=new R(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return B.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new qi(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=Lo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=Lo(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return B.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ts(t,n));let i=this.qr.get(t);i===void 0&&(i=H(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},Yc=class{constructor(){this.sessionToken=ea.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}},Xc=class{constructor(){this.Qr=new Xi(Zc.$r),this.Ur=new Xi(Zc.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new Zc(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new Zc(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new R(new li([])),n=new Zc(t,e),r=new Zc(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new R(new li([])),n=new Zc(t,e),r=new Zc(t,e+1),i=H();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new Zc(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Zc=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return R.comparator(e.key,t.key)||L(e.Yr,t.Yr)}static Kr(e,t){return L(e.Yr,t.Yr)||R.comparator(e.key,t.key)}},Qc=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xi(Zc.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Cs(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new Zc(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,t){return B.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ii:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new Zc(t,0),r=new Zc(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xi(L);return t.forEach((e=>{let t=new Zc(e,0),r=new Zc(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),B.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;R.isDocumentKey(i)||(i=i.child(``));let a=new Zc(new R(i),0),o=new Xi(L);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),B.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){N(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return B.forEach(t.mutations,(r=>{let i=new Zc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new Zc(t,0),r=this.Zr.firstAfterOrEqual(n);return B.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},$c=class{constructor(e){this.ri=e,this.docs=function(){return new qi(R.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return B.resolve(n?n.document.mutableCopy():Ba.newInvalidDocument(t))}getEntries(e,t){let n=No();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ba.newInvalidDocument(e))})),B.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=No(),a=t.path,o=new R(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||ki(Di(o),n)<=0||(r.has(o.key)||Do(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,t,n,r){M(9500)}ii(e,t){return B.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new el(this)}getSize(e){return B.resolve(this.size)}},el=class extends Wc{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),B.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},tl=class{constructor(e){this.persistence=e,this.si=new jo((e=>fo(e)),V),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.oi=0,this._i=new Xc,this.targetCount=0,this.ai=Ic.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),B.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Pr(t),B.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,B.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),B.waitFor(i).next((()=>r))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return B.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),B.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),B.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return B.resolve(n)}containsKey(e,t){return B.resolve(this._i.containsKey(t))}},nl=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Fi(0),this.li=!1,this.li=!0,this.hi=new Yc,this.referenceDelegate=e(this),this.Pi=new tl(this),this.indexManager=new jc,this.remoteDocumentCache=function(e){return new $c(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new Oc(t),this.Ii=new qc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Qc(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){j(`MemoryPersistence`,`Starting transaction:`,e);let r=new rl(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return B.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},rl=class extends ji{constructor(e){super(),this.currentSequenceNumber=e}},il=class e{constructor(e){this.persistence=e,this.Ri=new Xc,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw M(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),B.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(n=>{let r=R.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,z.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},al=class e{constructor(e,t){this.persistence=e,this.pi=new jo((e=>Vi(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Uc(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return B.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?B.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,z.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oa(e.data.value)),t}br(e,t,n){return B.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return B.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},ol=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=H(),i=H();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},sl=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},cl=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yt()?8:Ni(_t())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new sl;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Br()<=k.DEBUG&&j(`QueryEngine`,`SDK will not create cache indexes for query:`,Eo(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),B.resolve()):(Br()<=k.DEBUG&&j(`QueryEngine`,`Query:`,Eo(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(Br()<=k.DEBUG&&j(`QueryEngine`,`The SDK decides to create cache indexes for query:`,Eo(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,bo(t))):B.resolve())}ys(e,t){if(_o(t))return B.resolve(null);let n=bo(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Co(t,null,`F`),n=bo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=H(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,Co(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return _o(t)||r.isEqual(z.min())?B.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?B.resolve(null):(Br()<=k.DEBUG&&j(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),Eo(t)),this.vs(e,a,t,Ei(r,wi)).next((e=>e)))}))}Ds(e,t){let n=new Xi(ko(e));return t.forEach(((t,r)=>{Do(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Br()<=k.DEBUG&&j(`QueryEngine`,`Using full collection scan to execute query:`,Eo(t)),this.ps.getDocumentsMatchingQuery(e,t,Oi.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},ll=`LocalStore`,ul=3e8,dl=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new qi(L),this.xs=new jo((e=>fo(e)),V),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kc(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function fl(e,t,n,r){return new dl(e,t,n,r)}async function pl(e,t){let n=P(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=H();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function ml(e,t){let n=P(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=B.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);N(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=H();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function hl(e){let t=P(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function gl(e,t){let n=P(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(ea.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=ul?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=No(),c=H();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(_l(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(z.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return B.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function _l(e,t,n){let r=H(),i=H();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=No();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(z.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):j(ll,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function vl(e,t){let n=P(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Ii),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function yl(e,t){let n=P(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,B.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new Dc(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function bl(e,t,n){let r=P(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Pi(e))throw e;j(ll,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function xl(e,t,n){let r=P(e),i=z.min(),a=H();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=P(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):B.resolve(r.Ms.get(i))}(r,e,bo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:z.min(),n?a:H()))).next((e=>(Sl(r,Oo(t),e),{documents:e,Qs:a})))))}function Sl(e,t,n){let r=e.Os.get(t)||z.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var Cl=class{constructor(){this.activeTargetIds=Uo()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},wl=class{constructor(){this.Mo=new Cl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},Tl=class{Oo(e){}shutdown(){}},El=`ConnectivityMonitor`,Dl=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){j(El,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){j(El,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Ol=null;function kl(){return Ol===null?Ol=function(){return 268435456+Math.round(2147483648*Math.random())}():Ol++,`0x`+Ol.toString(16)}var Al=`RestConnection`,jl={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},Ml=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===pa?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=kl(),o=this.zo(e,t.toUriEncodedString());j(Al,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=lt(c);return this.Jo(e,o,s,n,l).then((t=>(j(Al,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Hr(Al,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Rr}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=jl[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},Nl=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},Pl=`WebChannelConnection`,Fl=class extends Ml{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=kl();return new Promise(((i,o)=>{let s=new Dr;s.setWithCredentials(!0),s.listenOnce(kr.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Ar.NO_ERROR:let t=s.getResponseJson();j(Pl,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Ar.TIMEOUT:j(Pl,`RPC '${e}' ${a} timed out`),o(new I(F.DEADLINE_EXCEEDED,`Request time out`));break;case Ar.HTTP_ERROR:let n=s.getStatus();if(j(Pl,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new I(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(F).indexOf(t)>=0?t:F.UNKNOWN}(t.status),t.message)):o(new I(F.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new I(F.UNAVAILABLE,`Connection failed.`));break;default:M(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{j(Pl,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);j(Pl,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=kl(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Pr(),o=Nr(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);j(Pl,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new Nl({Yo:t=>{f?j(Pl,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(j(Pl,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),j(Pl,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Or.EventType.OPEN,(()=>{f||(j(Pl,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,Or.EventType.CLOSE,(()=>{f||(f=!0,j(Pl,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,Or.EventType.ERROR,(t=>{f||(f=!0,Hr(Pl,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new I(F.UNAVAILABLE,`The operation could not be completed`)))})),m(u,Or.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];N(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){j(Pl,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=Ds[e];if(t!==void 0)return ks(t)}(t),i=a.message;n===void 0&&(n=F.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new I(n,i)),u.close()}else j(Pl,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,Mr.STAT_EVENT,(t=>{t.stat===jr.PROXY?j(Pl,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===jr.NOPROXY&&j(Pl,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function Il(){return typeof document<`u`?document:null}function Ll(e){return new Ys(e,!0)}var Rl=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&j(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},zl=`PersistentStream`,Bl=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rl(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===F.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new I(F.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return j(zl,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(j(zl,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Vl=class extends Bl{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=dc(this.serializer,e),n=function(e){if(!(`targetChange`in e))return z.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?z.min():t.readTime?ec(t.readTime):z.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=cc(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=po(r)?{documents:mc(e,r)}:{query:hc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Qs(e,t.resumeToken);let r=Xs(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(z.min())>0){n.readTime=Zs(e,t.snapshotVersion.toTimestamp());let r=Xs(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=_c(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=cc(this.serializer),t.removeTarget=e,this.q_(t)}},Hl=class extends Bl{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return N(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,N(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){N(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=pc(e.writeResults,e.commitTime),n=ec(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=cc(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>fc(this.serializer,e)))};this.q_(t)}},W=class{},G=class extends W{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new I(F.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,nc(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(F.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,nc(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(F.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},Ul=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(t),this.aa=!1):j(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},Wl=`RemoteStore`,Gl=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{eu(this)&&(j(Wl,`Restarting streams for network reachability change.`),await async function(e){let t=P(e);t.Ea.add(4),await ql(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await Kl(t)}(this))}))})),this.Ra=new Ul(n,r)}};async function Kl(e){if(eu(e))for(let t of e.da)await t(!0)}async function ql(e){for(let t of e.da)await t(!1)}function Jl(e,t){let n=P(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),$l(n)?Ql(n):yu(n).O_()&&Xl(n,t))}function Yl(e,t){let n=P(e),r=yu(n);n.Ia.delete(t),r.O_()&&Zl(n,t),n.Ia.size===0&&(r.O_()?r.L_():eu(n)&&n.Ra.set(`Unknown`))}function Xl(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(z.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yu(e).Y_(t)}function Zl(e,t){e.Va.Ue(t),yu(e).Z_(t)}function Ql(e){e.Va=new Us({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),yu(e).start(),e.Ra.ua()}function $l(e){return eu(e)&&!yu(e).x_()&&e.Ia.size>0}function eu(e){return P(e).Ea.size===0}function tu(e){e.Va=void 0}async function nu(e){e.Ra.set(`Online`)}async function ru(e){e.Ia.forEach(((t,n)=>{Xl(e,t)}))}async function iu(e,t){tu(e),$l(e)?(e.Ra.ha(t),Ql(e)):e.Ra.set(`Unknown`)}async function au(e,t,n){if(e.Ra.set(`Online`),t instanceof Vs&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){j(Wl,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await ou(e,n)}else if(t instanceof zs?e.Va.Ze(t):t instanceof Bs?e.Va.st(t):e.Va.tt(t),!n.isEqual(z.min()))try{let t=await hl(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(ea.EMPTY_BYTE_STRING,r.snapshotVersion)),Zl(e,t),Xl(e,new Dc(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){j(Wl,`Failed to raise snapshot:`,t),await ou(e,t)}}async function ou(e,t,n){if(!Pi(t))throw t;e.Ea.add(1),await ql(e),e.Ra.set(`Offline`),n||=()=>hl(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{j(Wl,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await Kl(e)}))}function su(e,t){return t().catch((n=>ou(e,n,t)))}async function cu(e){let t=P(e),n=bu(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ii;for(;lu(t);)try{let e=await vl(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,uu(t,e)}catch(e){await ou(t,e)}du(t)&&fu(t)}function lu(e){return eu(e)&&e.Ta.length<10}function uu(e,t){e.Ta.push(t);let n=bu(e);n.O_()&&n.X_&&n.ea(t.mutations)}function du(e){return eu(e)&&!bu(e).x_()&&e.Ta.length>0}function fu(e){bu(e).start()}async function pu(e){bu(e).ra()}async function mu(e){let t=bu(e);for(let n of e.Ta)t.ea(n.mutations)}async function hu(e,t,n){let r=e.Ta.shift(),i=ws.from(r,t,n);await su(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await cu(e)}async function gu(e,t){t&&bu(e).X_&&await async function(e,t){if(function(e){return Os(e)&&e!==F.ABORTED}(t.code)){let n=e.Ta.shift();bu(e).B_(),await su(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await cu(e)}}(e,t),du(e)&&fu(e)}async function _u(e,t){let n=P(e);n.asyncQueue.verifyOperationInProgress(),j(Wl,`RemoteStore received new credentials`);let r=eu(n);n.Ea.add(3),await ql(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Kl(n)}async function vu(e,t){let n=P(e);t?(n.Ea.delete(2),await Kl(n)):t||(n.Ea.add(2),await ql(n),n.Ra.set(`Unknown`))}function yu(e){return e.ma||(e.ma=function(e,t,n){let r=P(e);return r.sa(),new Vl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:nu.bind(null,e),t_:ru.bind(null,e),r_:iu.bind(null,e),H_:au.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),$l(e)?Ql(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),tu(e))}))),e.ma}function bu(e){return e.fa||(e.fa=function(e,t,n){let r=P(e);return r.sa(),new Hl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:pu.bind(null,e),r_:gu.bind(null,e),ta:mu.bind(null,e),na:hu.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await cu(e)):(await e.fa.stop(),e.Ta.length>0&&(j(Wl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var xu=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new I(F.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Su(e,t){if(Vr(`AsyncQueue`,`${t}: ${e}`),Pi(e))return new I(F.UNAVAILABLE,`${t}: ${e}`);throw e}var Cu=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||R.comparator(t.key,n.key):(e,t)=>R.comparator(e.key,t.key),this.keyedMap=Fo(),this.sortedSet=new qi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},wu=class{constructor(){this.ga=new qi(R.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):M(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},Tu=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,Cu.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},Eu=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},Du=class{constructor(){this.queries=Ou(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=P(e),r=n.queries;n.queries=Ou(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new I(F.ABORTED,`Firestore shutting down`))}};function Ou(){return new jo((e=>To(e)),wo)}async function ku(e,t){let n=P(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Eu,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=Su(e,`Initialization of query '${Eo(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Nu(n)}async function Au(e,t){let n=P(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ju(e,t){let n=P(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&Nu(n)}function Mu(e,t,n){let r=P(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function Nu(e){e.Ca.forEach((e=>{e.next()}))}var Pu,Fu;(Fu=Pu||={}).Ma=`default`,Fu.Cache=`cache`;var Iu=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new Tu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pu.Cache}},Lu=class{constructor(e){this.key=e}},Ru=class{constructor(e){this.key=e}},zu=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=H(),this.mutatedKeys=H(),this.eu=ko(e),this.tu=new Cu(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new wu,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=Do(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new Tu(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wu,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=H(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new Ru(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new Lu(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=H();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Bu=`SyncEngine`,Vu=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},Hu=class{constructor(e){this.key=e,this.hu=!1}},Uu=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new jo((e=>To(e)),wo),this.Iu=new Map,this.Eu=new Set,this.du=new qi(R.comparator),this.Au=new Map,this.Ru=new Xc,this.Vu={},this.mu=new Map,this.fu=Ic.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function Wu(e,t,n=!0){let r=fd(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Ku(r,t,n,!0),i}async function Gu(e,t){await Ku(fd(e),t,!0,!1)}async function Ku(e,t,n,r){let i=await yl(e.localStore,bo(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await qu(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&Jl(e.remoteStore,i),s}async function qu(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await xl(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return od(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await xl(e.localStore,t,!0),o=new zu(t,a.Qs),s=o.ru(a.documents),c=Rs.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);od(e,n,l.au);let u=new Vu(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function Ju(e,t,n){let r=P(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!wo(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bl(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yl(r.remoteStore,i.targetId),id(r,i.targetId)})).catch(Mi)):(id(r,i.targetId),await bl(r.localStore,i.targetId,!0))}async function Yu(e,t){let n=P(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yl(n.remoteStore,r.targetId))}async function Xu(e,t,n){let r=pd(e);try{let e=await function(e,t){let n=P(e),r=Ci.now(),i=t.reduce(((e,t)=>e.add(t.key)),H()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=No(),c=H();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=ms(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new _s(e.key,t,za(t.value.mapValue),cs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Io(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new qi(L),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await ld(r,e.changes),await cu(r.remoteStore)}catch(e){let t=Su(e,`Failed to persist write`);n.reject(t)}}async function Zu(e,t){let n=P(e);try{let e=await gl(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?N(r.hu,14607):e.removedDocuments.size>0&&(N(r.hu,42227),r.hu=!1))})),await ld(n,e,t)}catch(e){await Mi(e)}}function Qu(e,t,n){let r=P(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=P(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&Nu(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $u(e,t,n){let r=P(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new qi(R.comparator);e=e.insert(a,Ba.newNoDocument(a,z.min()));let n=H().add(a);await Zu(r,new Ls(z.min(),new Map,new qi(L),e,n)),r.du=r.du.remove(a),r.Au.delete(t),cd(r)}else await bl(r.localStore,t,!1).then((()=>id(r,t,n))).catch(Mi)}async function ed(e,t){let n=P(e),r=t.batch.batchId;try{let e=await ml(n.localStore,t);rd(n,r,null),nd(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await ld(n,e)}catch(e){await Mi(e)}}async function td(e,t,n){let r=P(e);try{let e=await function(e,t){let n=P(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(N(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);rd(r,t,n),nd(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await ld(r,e)}catch(e){await Mi(e)}}function nd(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function rd(e,t,n){let r=P(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function id(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||ad(e,t)}))}function ad(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(Yl(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),cd(e))}function od(e,t,n){for(let r of n)r instanceof Lu?(e.Ru.addReference(r.key,t),sd(e,r)):r instanceof Ru?(j(Bu,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ad(e,r.key)):M(19791,{wu:r})}function sd(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(j(Bu,`New document in limbo: `+n),e.Eu.add(r),cd(e))}function cd(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new R(li.fromString(t)),r=e.fu.next();e.Au.set(r,new Hu(n)),e.du=e.du.insert(n,r),Jl(e.remoteStore,new Dc(bo(go(n.path)),r,`TargetPurposeLimboResolution`,Fi.ce))}}async function ld(e,t,n){let r=P(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=ol.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=P(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>B.forEach(t,(t=>B.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>B.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Pi(e))throw e;j(ll,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function ud(e,t){let n=P(e);if(!n.currentUser.isEqual(t)){j(Bu,`User change. New user:`,t.toKey());let e=await pl(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new I(F.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ld(n,e.Ls)}}function dd(e,t){let n=P(e),r=n.Au.get(t);if(r&&r.hu)return H().add(r.key);{let e=H(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function fd(e){let t=P(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$u.bind(null,t),t.Pu.H_=ju.bind(null,t.eventManager),t.Pu.yu=Mu.bind(null,t.eventManager),t}function pd(e){let t=P(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ed.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=td.bind(null,t),t}var md=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=Ll(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return fl(this.persistence,new cl,e.initialUser,this.serializer)}Cu(e){return new nl(il.mi,this.serializer)}Du(e){return new wl}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};md.provider={build:()=>new md};var hd=class extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){N(this.persistence.referenceDelegate instanceof al,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new Vc(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Fc.DEFAULT:Fc.withCacheSize(this.cacheSizeBytes);return new nl((e=>al.mi(e,t)),this.serializer)}},gd=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ud.bind(null,this.syncEngine),await vu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Du}()}createDatastore(e){let t=Ll(e.databaseInfo.databaseId),n=function(e){return new Fl(e)}(e.databaseInfo);return function(e,t,n,r){return new G(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Gl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Qu(this.syncEngine,e,0)),function(){return Dl.v()?new Dl:new Tl}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new Uu(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=P(e);j(Wl,`RemoteStore shutting down.`),t.Ea.add(5),await ql(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};gd.provider={build:()=>new gd};var _d=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},vd=`FirestoreClient`,yd=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Lr.UNAUTHENTICATED,this.clientId=ti.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{j(vd,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(j(vd,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=Su(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function bd(e,t){e.asyncQueue.verifyOperationInProgress(),j(vd,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await pl(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function xd(e,t){e.asyncQueue.verifyOperationInProgress();let n=await Sd(e);j(vd,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>_u(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>_u(t.remoteStore,n))),e._onlineComponents=t}async function Sd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){j(vd,`Using user provided OfflineComponentProvider`);try{await bd(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===F.FAILED_PRECONDITION||e.code===F.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Hr(`Error using user provided cache. Falling back to memory cache: `+n),await bd(e,new md)}}else j(vd,`Using default OfflineComponentProvider`),await bd(e,new hd(void 0));return e._offlineComponents}async function Cd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(j(vd,`Using user provided OnlineComponentProvider`),await xd(e,e._uninitializedComponentsProvider._online)):(j(vd,`Using default OnlineComponentProvider`),await xd(e,new gd))),e._onlineComponents}function wd(e){return Cd(e).then((e=>e.syncEngine))}async function Td(e){let t=await Cd(e),n=t.eventManager;return n.onListen=Wu.bind(null,t.syncEngine),n.onUnlisten=Ju.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yu.bind(null,t.syncEngine),n}function K(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Ed=new Map,Dd=`firestore.googleapis.com`,Od=!0,kd=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new I(F.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Dd,this.ssl=Od}else this.host=e.host,this.ssl=e.ssl??Od;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pc;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rc)throw new I(F.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}pi(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new I(F.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new I(F.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new I(F.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ad=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new kd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new I(F.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new I(F.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new kd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new qr;switch(e.type){case`firstParty`:return new Zr(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new I(F.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Ed.get(e);t&&(j(`ComponentProvider`,`Removing Datastore`),Ed.delete(e),t.terminate())}(this),Promise.resolve()}};function jd(e,t,n,r={}){e=vi(e,Ad);let i=lt(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(ut(`https://${s}`),gt(`Firestore`,!0)),a.host!==Dd&&a.host!==s&&Hr(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!Dt(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Lr.MOCK_USER;else{t=dt(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new I(F.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Lr(i)}e._authCredentials=new Jr(new Kr(t,n))}}var Md=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Nd=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(bi(n,e._jsonSchema))return new e(t,r||null,new R(li.fromString(n.referencePath)))}};Nd._jsonSchemaVersion=`firestore/documentReference/1.0`,Nd._jsonSchema={type:yi(`string`,Nd._jsonSchemaVersion),referencePath:yi(`string`)};var Pd=class e extends Md{constructor(e,t,n){super(e,t,go(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nd(this.firestore,null,new R(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Fd(e,t,...n){if(e=kt(e),fi(`collection`,`path`,t),e instanceof Ad){let r=li.fromString(t,...n);return hi(r),new Pd(e,null,r)}{if(!(e instanceof Nd||e instanceof Pd))throw new I(F.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(li.fromString(t,...n));return hi(r),new Pd(e.firestore,null,r)}}function Id(e,t,...n){if(e=kt(e),arguments.length===1&&(t=ti.newId()),fi(`doc`,`path`,t),e instanceof Ad){let r=li.fromString(t,...n);return mi(r),new Nd(e,null,new R(r))}{if(!(e instanceof Nd||e instanceof Pd))throw new I(F.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(li.fromString(t,...n));return mi(r),new Nd(e.firestore,e instanceof Pd?e.converter:null,new R(r))}}var Ld=`AsyncQueue`,Rd=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rl(this,`async_queue_retry`),this._c=()=>{let e=Il();e&&j(Ld,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=Il();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Il();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pi(e))throw e;j(Ld,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Vr(`INTERNAL UNHANDLED ERROR: `,zd(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=xu.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&M(47125,{Pc:zd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function zd(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Bd(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var Vd=class extends Ad{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new Rd,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rd(e),this._firestoreClient=void 0,await e}}};function Hd(e,t){let n=typeof e==`object`?e:nr(),r=typeof e==`string`?e:t||pa,i=Xn(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=ot(`firestore`);e&&jd(i,...e)}return i}function Ud(e){if(e._terminated)throw new I(F.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||Wd(e),e._firestoreClient}function Wd(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new fa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,K(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new yd(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var Gd=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(ea.fromBase64String(t))}catch(e){throw new I(F.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(ea.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bi(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};Gd._jsonSchemaVersion=`firestore/bytes/1.0`,Gd._jsonSchema={type:yi(`string`,Gd._jsonSchemaVersion),bytes:yi(`string`)};var Kd=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new I(F.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},qd=class{constructor(e){this._methodName=e}},Jd=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new I(F.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new I(F.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return L(this._lat,e._lat)||L(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(bi(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};Jd._jsonSchemaVersion=`firestore/geoPoint/1.0`,Jd._jsonSchema={type:yi(`string`,Jd._jsonSchemaVersion),latitude:yi(`number`),longitude:yi(`number`)};var Yd=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bi(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new I(F.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};Yd._jsonSchemaVersion=`firestore/vectorValue/1.0`,Yd._jsonSchema={type:yi(`string`,Yd._jsonSchemaVersion),vectorValues:yi(`object`)};var Xd=/^__.*__$/,Zd=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new gs(e,this.data,t,this.fieldTransforms):new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}},Qd=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function $d(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M(40011,{Ac:e})}}var ef=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _f(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if($d(this.Ac)&&Xd.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},tf=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ll(e)}Cc(e,t,n,r=!1){return new ef({Ac:e,methodName:t,Dc:n,path:di.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nf(e){let t=e._freezeSettings(),n=Ll(e._databaseId);return new tf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rf(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);pf(`Data must be an object, but it was:`,o,r);let s=df(r,o),c,l;if(a.merge)c=new Qi(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=mf(t,r,n);if(!o.contains(i))throw new I(F.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);vf(e,i)||e.push(i)}c=new Qi(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new Zd(new Ra(s),c,l)}var af=class e extends qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},of=class e extends qd{_toFieldTransform(e){return new as(e.path,new Zo)}isEqual(t){return t instanceof e}};function sf(e,t,n,r){let i=e.Cc(1,t,n);pf(`Data must be an object, but it was:`,i,r);let a=[],o=Ra.empty();return Gi(r,((e,r)=>{let s=gf(t,e,n);r=kt(r);let c=i.yc(s);if(r instanceof af)a.push(s);else{let e=uf(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new Qd(o,new Qi(a),i.fieldTransforms)}function cf(e,t,n,r,i,a){let o=e.Cc(1,t,n),s=[mf(t,r,n)],c=[i];if(a.length%2!=0)throw new I(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(mf(t,a[e])),c.push(a[e+1]);let l=[],u=Ra.empty();for(let e=s.length-1;e>=0;--e)if(!vf(l,s[e])){let t=s[e],n=c[e];n=kt(n);let r=o.yc(t);if(n instanceof af)l.push(t);else{let e=uf(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new Qd(u,new Qi(l),o.fieldTransforms)}function lf(e,t,n,r=!1){return uf(n,e.Cc(r?4:3,t))}function uf(e,t){if(ff(e=kt(e)))return pf(`Unsupported field value:`,t,e),df(e,t);if(e instanceof qd)return function(e,t){if(!$d(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=uf(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=kt(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Ko(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=Ci.fromDate(e);return{timestampValue:Zs(t.serializer,n)}}if(e instanceof Ci){let n=new Ci(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zs(t.serializer,n)}}if(e instanceof Jd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gd)return{bytesValue:Qs(t.serializer,e._byteString)};if(e instanceof Nd){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:tc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Yd)return function(e,t){return{mapValue:{fields:{[ha]:{stringValue:va},[ya]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return Wo(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${_i(e)}`)}(e,t)}function df(e,t){let n={};return Ki(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gi(e,((e,r)=>{let i=uf(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function ff(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof Ci||e instanceof Jd||e instanceof Gd||e instanceof Nd||e instanceof qd||e instanceof Yd)}function pf(e,t,n){if(!ff(n)||!gi(n)){let r=_i(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function mf(e,t,n){if((t=kt(t))instanceof Kd)return t._internalPath;if(typeof t==`string`)return gf(e,t);throw _f(`Field path arguments must be of type string or `,e,!1,void 0,n)}var hf=RegExp(`[~\\*/\\[\\]]`);function gf(e,t,n){if(t.search(hf)>=0)throw _f(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Kd(...t.split(`.`))._internalPath}catch{throw _f(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _f(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new I(F.INVALID_ARGUMENT,s+e+c)}function vf(e,t){return e.some((e=>e.isEqual(t)))}var yf=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nd(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(xf(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},bf=class extends yf{data(){return super.data()}};function xf(e,t){return typeof t==`string`?gf(e,t):t instanceof Kd?t._internalPath:t._delegate._internalPath}function Sf(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new I(F.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var Cf=class{},wf=class extends Cf{};function Tf(e,t,...n){let r=[];t instanceof Cf&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof Df)).length,n=e.filter((e=>e instanceof Ef)).length;if(t>1||t>0&&n>0)throw new I(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var Ef=class e extends wf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return Mf(e._query,t),new Md(e.firestore,e.converter,So(e._query,t))}_parse(e){let t=nf(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new I(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){jf(o,a);let t=[];for(let n of o)t.push(Af(r,e,n));s={arrayValue:{values:t}}}else s=Af(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||jf(o,a),s=lf(n,t,o,a===`in`||a===`not-in`);return qa.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}},Df=class e extends Cf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:Ja.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)Mf(n,e),n=So(n,e)}(e._query,t),new Md(e.firestore,e.converter,So(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}},Of=class e extends wf{constructor(e,t){super(),this._field=e,this._direction=t,this.type=`orderBy`}static _create(t,n){return new e(t,n)}_apply(e){let t=function(e,t,n){if(e.startAt!==null)throw new I(F.INVALID_ARGUMENT,`Invalid query. You must not call startAt() or startAfter() before calling orderBy().`);if(e.endAt!==null)throw new I(F.INVALID_ARGUMENT,`Invalid query. You must not call endAt() or endBefore() before calling orderBy().`);return new Wa(t,n)}(e._query,this._field,this._direction);return new Md(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new mo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}};function kf(e,t=`asc`){let n=t,r=xf(`orderBy`,e);return Of._create(r,n)}function Af(e,t,n){if(typeof(n=kt(n))==`string`){if(n===``)throw new I(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!vo(t)&&n.indexOf(`/`)!==-1)throw new I(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(li.fromString(n));if(!R.isDocumentKey(r))throw new I(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ka(e,new R(r))}if(n instanceof Nd)return ka(e,n._key);throw new I(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_i(n)}.`)}function jf(e,t){if(!Array.isArray(e)||e.length===0)throw new I(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Mf(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new I(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new I(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}var Nf=class{convertValue(e,t=`none`){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ra(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw M(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Gi(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[ya].arrayValue?.values?.map((e=>ra(e.doubleValue)));return new Yd(t)}convertGeoPoint(e){return new Jd(ra(e.latitude),ra(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=ua(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){let t=na(e);return new Ci(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=li.fromString(e);N(Ec(n),9688,{name:e});let r=new ma(n.get(1),n.get(3)),i=new R(n.popFirst(5));return r.isEqual(t)||Vr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function Pf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var Ff=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},If=class e extends yf{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(xf(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new I(F.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};If._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,If._jsonSchema={type:yi(`string`,If._jsonSchemaVersion),bundleSource:yi(`string`,`DocumentSnapshot`),bundleName:yi(`string`),bundle:yi(`string`)};var Lf=class extends If{data(e={}){return super.data(e)}},Rf=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ff(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Lf(this._firestore,this._userDataWriter,n.key,n,new Ff(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new I(F.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new Lf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ff(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new Lf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ff(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:zf(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new I(F.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=ti.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function zf(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return M(61501,{type:e})}}Rf._jsonSchemaVersion=`firestore/querySnapshot/1.0`,Rf._jsonSchema={type:yi(`string`,Rf._jsonSchemaVersion),bundleSource:yi(`string`,`QuerySnapshot`),bundleName:yi(`string`),bundle:yi(`string`)};var Bf=class extends Nf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nd(this.firestore,null,t)}};function Vf(e,t,n){e=vi(e,Nd);let r=vi(e.firestore,Vd),i=Pf(e.converter,t,n);return Kf(r,[rf(nf(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,cs.none())])}function Hf(e,t,n,...r){e=vi(e,Nd);let i=vi(e.firestore,Vd),a=nf(i),o;return o=typeof(t=kt(t))==`string`||t instanceof Kd?cf(a,`updateDoc`,e._key,t,n,r):sf(a,`updateDoc`,e._key,t),Kf(i,[o.toMutation(e._key,cs.exists(!0))])}function Uf(e){return Kf(vi(e.firestore,Vd),[new xs(e._key,cs.none())])}function Wf(e,t){let n=vi(e.firestore,Vd),r=Id(e),i=Pf(e.converter,t);return Kf(n,[rf(nf(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,cs.exists(!1))]).then((()=>r))}function Gf(e,...t){e=kt(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||Bd(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Bd(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Nd)o=vi(e.firestore,Vd),s=go(e._key.path),a={next:n=>{t[r]&&t[r](qf(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=vi(e,Md);o=vi(n.firestore,Vd),s=n._query;let i=new Bf(o);a={next:e=>{t[r]&&t[r](new Rf(o,i,n,e))},error:t[r+1],complete:t[r+2]},Sf(e._query)}return function(e,t,n,r){let i=new _d(r),a=new Iu(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ku(await Td(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>Au(await Td(e),a)))}}(Ud(o),s,i,a)}function Kf(e,t){return function(e,t){let n=new Gr;return e.asyncQueue.enqueueAndForget((async()=>Xu(await wd(e),t,n))),n.promise}(Ud(e),t)}function qf(e,t,n){let r=n.docs.get(t._key);return new If(e,new Bf(e),t._key,r,new Ff(n.hasPendingWrites,n.fromCache),t.converter)}function Jf(){return new of(`serverTimestamp`)}(function(e,t=!0){(function(e){Rr=e})(er),Yn(new At(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new Vd(new Yr(e.getProvider(`auth-internal`)),new $r(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new I(F.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new ma(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),rr(Fr,Ir,e),rr(Fr,Ir,`esm2020`)})(),rr(`firebase`,`12.6.0`,`app`);const Yf=Hd(tr({apiKey:`_API_KEY__FIREBASE_CONSOLE`,authDomain:`_AUTH_DOMAIN`,projectId:`_PROJECT_ID`,storageBucket:`_STORAGE_BUCKET`,messagingSenderId:`_MESSAGING_SENDER_ID`,appId:`_APP_ID`}));var Xf=typeof globalThis<`u`&&globalThis||typeof self<`u`&&self||typeof global<`u`&&global||{},Zf={searchParams:`URLSearchParams`in Xf,iterable:`Symbol`in Xf&&`iterator`in Symbol,blob:`FileReader`in Xf&&`Blob`in Xf&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:`FormData`in Xf,arrayBuffer:`ArrayBuffer`in Xf};function Qf(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Zf.arrayBuffer)var $f=[`[object Int8Array]`,`[object Uint8Array]`,`[object Uint8ClampedArray]`,`[object Int16Array]`,`[object Uint16Array]`,`[object Int32Array]`,`[object Uint32Array]`,`[object Float32Array]`,`[object Float64Array]`],ep=ArrayBuffer.isView||function(e){return e&&$f.indexOf(Object.prototype.toString.call(e))>-1};function tp(e){if(typeof e!=`string`&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e===``)throw TypeError(`Invalid character in header field name: "`+e+`"`);return e.toLowerCase()}function np(e){return typeof e!=`string`&&(e=String(e)),e}function rp(e){var t={next:function(){var t=e.shift();return{done:t===void 0,value:t}}};return Zf.iterable&&(t[Symbol.iterator]=function(){return t}),t}function ip(e){this.map={},e instanceof ip?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(e.length!=2)throw TypeError(`Headers constructor: expected name/value pair to be length 2, found`+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}ip.prototype.append=function(e,t){e=tp(e),t=np(t);var n=this.map[e];this.map[e]=n?n+`, `+t:t},ip.prototype.delete=function(e){delete this.map[tp(e)]},ip.prototype.get=function(e){return e=tp(e),this.has(e)?this.map[e]:null},ip.prototype.has=function(e){return this.map.hasOwnProperty(tp(e))},ip.prototype.set=function(e,t){this.map[tp(e)]=np(t)},ip.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},ip.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),rp(e)},ip.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),rp(e)},ip.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),rp(e)},Zf.iterable&&(ip.prototype[Symbol.iterator]=ip.prototype.entries);function ap(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError(`Already read`));e.bodyUsed=!0}}function op(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function sp(e){var t=new FileReader,n=op(t);return t.readAsArrayBuffer(e),n}function cp(e){var t=new FileReader,n=op(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:`utf-8`;return t.readAsText(e,i),n}function lp(e){for(var t=new Uint8Array(e),n=Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join(``)}function up(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function dp(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e==`string`?this._bodyText=e:Zf.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Zf.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Zf.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Zf.arrayBuffer&&Zf.blob&&Qf(e)?(this._bodyArrayBuffer=up(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Zf.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||ep(e))?this._bodyArrayBuffer=up(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=``),this.headers.get(`content-type`)||(typeof e==`string`?this.headers.set(`content-type`,`text/plain;charset=UTF-8`):this._bodyBlob&&this._bodyBlob.type?this.headers.set(`content-type`,this._bodyBlob.type):Zf.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set(`content-type`,`application/x-www-form-urlencoded;charset=UTF-8`))},Zf.blob&&(this.blob=function(){var e=ap(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error(`could not read FormData body as blob`);return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return ap(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(Zf.blob)return this.blob().then(sp);throw Error(`could not read as ArrayBuffer`)},this.text=function(){var e=ap(this);if(e)return e;if(this._bodyBlob)return cp(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(lp(this._bodyArrayBuffer));if(this._bodyFormData)throw Error(`could not read FormData body as text`);return Promise.resolve(this._bodyText)},Zf.formData&&(this.formData=function(){return this.text().then(hp)}),this.json=function(){return this.text().then(JSON.parse)},this}var fp=[`CONNECT`,`DELETE`,`GET`,`HEAD`,`OPTIONS`,`PATCH`,`POST`,`PUT`,`TRACE`];function pp(e){var t=e.toUpperCase();return fp.indexOf(t)>-1?t:e}function mp(e,t){if(!(this instanceof mp))throw TypeError(`Please use the "new" operator, this DOM object constructor cannot be called as a function.`);t||={};var n=t.body;if(e instanceof mp){if(e.bodyUsed)throw TypeError(`Already read`);this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new ip(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||`same-origin`,(t.headers||!this.headers)&&(this.headers=new ip(t.headers)),this.method=pp(t.method||this.method||`GET`),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if(`AbortController`in Xf)return new AbortController().signal}(),this.referrer=null,(this.method===`GET`||this.method===`HEAD`)&&n)throw TypeError(`Body not allowed for GET or HEAD requests`);if(this._initBody(n),(this.method===`GET`||this.method===`HEAD`)&&(t.cache===`no-store`||t.cache===`no-cache`)){var r=/([?&])_=[^&]*/;r.test(this.url)?this.url=this.url.replace(r,`$1_=`+new Date().getTime()):this.url+=(/\?/.test(this.url)?`&`:`?`)+`_=`+new Date().getTime()}}mp.prototype.clone=function(){return new mp(this,{body:this._bodyInit})};function hp(e){var t=new FormData;return e.trim().split(`&`).forEach(function(e){if(e){var n=e.split(`=`),r=n.shift().replace(/\+/g,` `),i=n.join(`=`).replace(/\+/g,` `);t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function gp(e){var t=new ip;return e.replace(/\r?\n[\t ]+/g,` `).split(`\r`).map(function(e){return e.indexOf(`
`)===0?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(`:`),r=n.shift().trim();if(r){var i=n.join(`:`).trim();try{t.append(r,i)}catch(e){console.warn(`Response `+e.message)}}}),t}dp.call(mp.prototype);function _p(e,t){if(!(this instanceof _p))throw TypeError(`Please use the "new" operator, this DOM object constructor cannot be called as a function.`);if(t||={},this.type=`default`,this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw RangeError(`Failed to construct 'Response': The status provided (0) is outside the range [200, 599].`);this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?``:``+t.statusText,this.headers=new ip(t.headers),this.url=t.url||``,this._initBody(e)}dp.call(_p.prototype),_p.prototype.clone=function(){return new _p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ip(this.headers),url:this.url})},_p.error=function(){var e=new _p(null,{status:200,statusText:``});return e.ok=!1,e.status=0,e.type=`error`,e};var vp=[301,302,303,307,308];_p.redirect=function(e,t){if(vp.indexOf(t)===-1)throw RangeError(`Invalid status code`);return new _p(null,{status:t,headers:{location:e}})};var yp=Xf.DOMException;try{new yp}catch{yp=function(e,t){this.message=e,this.name=t,this.stack=Error(e).stack},yp.prototype=Object.create(Error.prototype),yp.prototype.constructor=yp}function bp(e,t){return new Promise(function(n,r){var i=new mp(e,t);if(i.signal&&i.signal.aborted)return r(new yp(`Aborted`,`AbortError`));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var e={statusText:a.statusText,headers:gp(a.getAllResponseHeaders()||``)};i.url.indexOf(`file://`)===0&&(a.status<200||a.status>599)?e.status=200:e.status=a.status,e.url=`responseURL`in a?a.responseURL:e.headers.get(`X-Request-URL`);var t=`response`in a?a.response:a.responseText;setTimeout(function(){n(new _p(t,e))},0)},a.onerror=function(){setTimeout(function(){r(TypeError(`Network request failed`))},0)},a.ontimeout=function(){setTimeout(function(){r(TypeError(`Network request timed out`))},0)},a.onabort=function(){setTimeout(function(){r(new yp(`Aborted`,`AbortError`))},0)};function s(e){try{return e===``&&Xf.location.href?Xf.location.href:e}catch{return e}}if(a.open(i.method,s(i.url),!0),i.credentials===`include`?a.withCredentials=!0:i.credentials===`omit`&&(a.withCredentials=!1),`responseType`in a&&(Zf.blob?a.responseType=`blob`:Zf.arrayBuffer&&(a.responseType=`arraybuffer`)),t&&typeof t.headers==`object`&&!(t.headers instanceof ip||Xf.Headers&&t.headers instanceof Xf.Headers)){var c=[];Object.getOwnPropertyNames(t.headers).forEach(function(e){c.push(tp(e)),a.setRequestHeader(e,np(t.headers[e]))}),i.headers.forEach(function(e,t){c.indexOf(t)===-1&&a.setRequestHeader(t,e)})}else i.headers.forEach(function(e,t){a.setRequestHeader(t,e)});i.signal&&(i.signal.addEventListener(`abort`,o),a.onreadystatechange=function(){a.readyState===4&&i.signal.removeEventListener(`abort`,o)}),a.send(i._bodyInit===void 0?null:i._bodyInit)})}bp.polyfill=!0,Xf.fetch||(Xf.fetch=bp,Xf.Headers=ip,Xf.Request=mp,Xf.Response=_p);var xp=function(e,t){return xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},xp(e,t)};function q(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);xp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Sp=function(){return Sp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sp.apply(this,arguments)};function J(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function Y(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator==`function`?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Cp(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)}function X(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function wp(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Tp(e,t){return Object.defineProperty?Object.defineProperty(e,`raw`,{value:t}):e.raw=t,e}var Ep;(function(e){e[e.DEBUG=1]=`DEBUG`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`})(Ep||={});var Z=new(function(){function e(e){e===void 0&&(e=Ep.INFO),this.logLevel=e,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){var e=[...arguments];this.logLevel<=Ep.DEBUG&&(e.unshift(`[DEBUG]`),this._debug.apply(this,wp([],X(e),!1)))},e.prototype.info=function(){var e=[...arguments];this.logLevel<=Ep.INFO&&(e.unshift(`[INFO]`),this._info.apply(this,wp([],X(e),!1)))},e.prototype.warn=function(){var e=[...arguments];this.logLevel<=Ep.WARN&&(e.unshift(`[WARN]`),this._warn.apply(this,wp([],X(e),!1)))},e.prototype.error=function(){var e=[...arguments];this.logLevel<=Ep.ERROR&&(e.unshift(`[ERROR]`),this._error.apply(this,wp([],X(e),!1)))},e}())(3),Dp=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},Op=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks},kp=function(){function e(e,t){this.pluginCtx=new Op(e,t),this.moduleCtx=new Dp(e,t)}return Object.defineProperty(e.prototype,`pluginContext`,{get:function(){return this.pluginCtx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`moduleContext`,{get:function(){return this.moduleCtx},enumerable:!1,configurable:!0}),e}(),Ap=function(){function e(){this.modules=new Map,this.hooks={},this.internalHooks={}}return e.prototype.addModule=function(e,t){this.modules.set(e,t),t.hooks&&(this.hooks[e]=Object.entries(t.hooks).reduce((function(e,t){var n,r=X(t,2),i=r[0],a=r[1];return Sp(Sp({},e),((n={})[i]=a.on.bind(a),n))}),{})),`internalHooks`in t&&t.internalHooks&&(this.internalHooks[e]=Object.entries(t.internalHooks).reduce((function(e,t){var n,r=X(t,2),i=r[0],a=r[1];return Sp(Sp({},e),((n={})[i]=a.on.bind(a),n))}),{}))},e.prototype.hasModule=function(e){return this.modules.has(e)},e}(),Q=function(){},jp=function(e){return e instanceof Q},Mp=function(e){function t(t,n,r){var i=e.call(this)||this;return i.driver=t,i.contextHolder=n,i.option=r,i}return q(t,e),t.prototype.install=function(){return this.factory(this.driver,this.contextHolder)},Object.defineProperty(t.prototype,`name`,{get:function(){return`use`},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`defaultOption`,{get:function(){return{namespacePrefix:`$`}},enumerable:!1,configurable:!0}),t.prototype.factory=function(e,t){var n=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(r,i){if(!r||typeof r.install!=`function`||typeof r.name!=`string`)return Z.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var a=jp(r)?r.name:`${n}${r.name}`;if(e.hasModule(a))return this;var o=jp(r)?r.install.call(r,t.moduleContext,i):r.install.call(r,t.pluginContext,i);return this[`${a}`]?(Z.warn(`There is a duplicate plugin name. \`${a}\` plugin namespace will be override.`),this[`${a}`]=o):o!==void 0&&(this[`${a}`]=o),e.addModule(a,r),this}},t}(Q),Np,Pp=new Promise((function(e){Np=e})),Fp=`UNKNOWN`,Ip=`UNAUTHORIZED`,Lp=`INVALID_ARGUMENT`,Rp=`INIT_FAILED`,zp=`FORBIDDEN`,Bp=`INVALID_CONFIG`,Vp=`INVALID_ID_TOKEN`,Hp=`CREATE_SUBWINDOW_FAILED`,Up=`EXCEPTION_IN_SUBWINDOW`,Wp=`liffEvent`,Gp=`LIFF_STORE`,Kp=`https://liff.line.me/`,qp=`https://miniapp.line.me/`,Jp={ACCESS_TOKEN:`accessToken`,ID_TOKEN:`IDToken`,DECODED_ID_TOKEN:`decodedIDToken`,FEATURE_TOKEN:`featureToken`,LOGIN_TMP:`loginTmp`,CONFIG:`config`,CONTEXT:`context`,EXPIRES:`expires`,RAW_CONTEXT:`rawContext`,CLIENT_ID:`clientId`,IS_SUBSEQUENT_LIFF_APP:`isSubsequentLiffApp`,MST_CHALLENGE:`mstChallenge`,MSIT:`msit`,MST:`mst`,MST_VERIFIER:`mstVerifier`,APP_DATA:`appData`},Yp=[`context_token`,`feature_token`,`access_token`,`id_token`,`client_id`,`mst_verifier`,`mst_challenge`,`msit`],Xp=[`liff.ref.source`,`liff.ref.medium`,`liff.ref.campaign`,`liff.ref.term`,`liff.ref.content`],Zp=`liff://subwindow`,Qp={INIT:`init`,SUBMIT:`submit`,CANCEL:`cancel`,CLOSE:`close`,ERROR:`error`},$p=`liff.subwindow`,em=`healthCheck`,tm=[`profile`,`chat_message.write`,`openid`,`email`];function nm(e){return window.atob(e.replace(/-/g,`+`).replace(/_/g,`/`))}var rm={decode:nm,encode:function(e){return window.btoa(e).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)},decodeUnicode:function(e){var t=nm(e).split(``).map((function(e){return`%`+(`00`+e.charCodeAt(0).toString(16)).slice(-2)})).join(``);return decodeURIComponent(t)}};function im(e,t){if(e===t)return 0;for(var n=e.split(`.`),r=t.split(`.`),i=Math.max(n.length,r.length),a=0;a<i;a++){n[a]||(n[a]=`0`),r[a]||(r[a]=`0`);var o=parseInt(n[a])-parseInt(r[a]);if(o!==0)return o>0?1:-1}return 0}function am(e){var t=e.replace(`#`,``).match(/.{2}/g)||[];if(t.length!==4)return Z.warn(`convertArgbToRgba: Received invalid ARGB color`),``;var n=function(e){var t=om(e);return Math.round(t/255*100)/100}(t[0]);return`rgba(${om(t[1])}, ${om(t[2])}, ${om(t[3])}, ${n})`}function om(e){return parseInt(e,16)}function sm(e){var t=e.replace(`#`,``).match(/.{2}/g)||[];return t.length===3?`${om(t[0])}, ${om(t[1])}, ${om(t[2])}`:(Z.warn(`convertArgbToRgba: Received invalid hex color`),``)}function cm(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}var lm={get:function(e){var t=RegExp(`(?:(?:^|.*;\\s*)${e}\\s*\\=\\s*([^;]*).*\$)|^.*\$`);return document.cookie.replace(t,`$1`)},set:function(e,t,n){var r=e+`=`+t;if(n)for(var i in n){var a=n[i]?`=${n[i]}`:``;r+=`; ${i}${a}`}Z.debug(`set cookie`,r),document.cookie=r},remove:function(e,t){var n=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT`;if(t)for(var r in t)n+=`; ${r}=${t[r]}`;document.cookie=n}},um=new Set([`400`,`401`,`403`,`404`,`429`,`500`]),dm=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.code=t,i}return q(t,e),t}(Error);function $(e,t,n){return n!=null&&n.cause&&console.error(`This is the cause of LiffError described below.`,n.cause),new dm(e,t||``,n||{})}function fm(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function pm(e){var t=``;return e.replace(/\r|\n/g,``).replace(/([\da-fA-F]{2}) ?/g,`0x$1 `).replace(/ +$/,``).split(` `).forEach((function(e){t+=String.fromCharCode(parseInt(e))})),window.btoa(t)}var mm=function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(e){var t=this.map[e];return t===void 0?null:t},e.prototype.setItem=function(e,t){this.map[e]=t},e.prototype.removeItem=function(e){delete this.map[e]},e.prototype.key=function(e){var t=Object.keys(this.map)[e];return t===void 0?null:t},Object.defineProperty(e.prototype,`length`,{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),e}(),hm,gm={parse:function(e){return e.replace(/^\?/,``).replace(/^#\/?/,``).split(/&+/).filter((function(e){return e.length>0})).reduce((function(e,t){var n=X(t.split(`=`).map(decodeURIComponent),2),r=n[0],i=n[1],a=e[r];return Array.isArray(a)?a.push(i):Object.prototype.hasOwnProperty.call(e,r)?e[r]=[a,i]:e[r]=i,e}),{})},stringify:function(e){return Object.keys(e).map((function(t){var n=e[t],r=function(e){return e===void 0?encodeURIComponent(t):`${encodeURIComponent(t)}=${encodeURIComponent(e)}`};return Array.isArray(n)?n.map((function(e){return r(e)})).join(`&`):r(n)})).join(`&`)}},_m=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`;function vm(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function ym(e){for(var t=``,n=0;n<e;n++)t+=_m[Math.floor(vm()*_m.length)];return t}function bm(e){var t=new URL(e);return t.hash=t.hash.slice(1).split(`&`).filter((function(e){return!Yp.some((function(t){return e.startsWith(`${t}=`)}))})).join(`&`),t.toString()}function xm(e){var t=new URL(e);return t.toString().replace(new RegExp(String.raw(wm||=Tp([`^`,``],[`^`,``]),t.origin)),``)}var Sm=function(e){var t=bm(e);if(t!==e){var n=xm(t);window.history.replaceState(history.state,``,n)}};function Cm(e,t){if(!e)throw Error(`addParamsToUrl: invalid URL`);var n=new URL(e);return Object.entries(t).forEach((function(e){var t=X(e,2),r=t[0],i=t[1];n.searchParams.set(r,i)})),n.toString()}var wm,Tm=((hm={})[Kp]=function(){var e=Dm(Kp);return RegExp(`^${e}(\\d+-\\w+)`)},hm[qp]=function(){var e=Dm(qp);return RegExp(`^${e}((\\d+-\\w+)|(\\w+\$))`)},hm);function Em(e){for(var t in Tm){var n=e.match(Tm[t]());if(n)return n[1]}return null}function Dm(e){return e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}function Om(e){var t=e.match(/^(https?:\/\/.*?)\//);return t&&t[1]||``}function km(e){return e.startsWith(`line:`)}function Am(e){return e===void 0&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}function jm(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(e)}function Mm(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(e)}function Nm(e){return e===void 0&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e)}var Pm=function(){return typeof window>`u`},Fm=null;function Im(){return Fm===null&&(Fm=Mm()||jm()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem(`LIFF_STORE:isInClient`)===`1`,sessionStorage.setItem(`LIFF_STORE:isInClient`,Fm?`1`:`0`)),!!Fm}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isInClient`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Im()}},t})(Q);function Lm(){return window.__liffConfig??{}}function Rm(e){window.__liffConfig=e}function zm(e,t){if(!t)throw $(Bp,`liffId is necessary for liff.init()`);var n=(Im()?sessionStorage:localStorage).getItem(`${Gp}:${t}:${e}`);try{return n===null?null:JSON.parse(n)}catch{return null}}function Bm(e){return zm(e,Lm().liffId)}function Vm(e,t){var n=Lm().liffId;if(!n)throw $(Bp,`liffId is necessary for liff.init()`);(Im()?sessionStorage:localStorage).setItem(`${Gp}:${n}:${e}`,JSON.stringify(t))}function Hm(){return Bm(Jp.CONTEXT)}function Um(e){Vm(Jp.CONTEXT,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getContext`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Hm()}},t})(Q);function Wm(){return((Hm()||{}).d||{}).aId}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getAId`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Wm()}},t})(Q);function Gm(){return((Hm()||{}).d||{}).autoplay||!1}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getIsVideoAutoPlay`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Gm()}},t})(Q);function Km(){return(Hm()||{}).profilePlus}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getProfilePlus`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Km()}},t})(Q);function qm(){return!!Bm(Jp.IS_SUBSEQUENT_LIFF_APP)}function Jm(e){Vm(Jp.IS_SUBSEQUENT_LIFF_APP,e)}function Ym(){return Bm(Jp.APP_DATA)}function Xm(e){Vm(Jp.APP_DATA,e)}function Zm(){return Bm(Jp.MST_VERIFIER)}function Qm(e){Vm(Jp.MST_VERIFIER,e)}function $m(){return Bm(Jp.MSIT)}function eh(e){Vm(Jp.MSIT,e)}function th(){return Bm(Jp.MST)}function nh(e){Vm(Jp.MST,e)}function rh(){return Bm(Jp.MST_CHALLENGE)}function ih(e){Vm(Jp.MST_CHALLENGE,e)}function ah(){return Bm(Jp.CLIENT_ID)}function oh(e){Vm(Jp.CLIENT_ID,e)}function sh(){return Bm(Jp.RAW_CONTEXT)}function ch(){return Bm(Jp.FEATURE_TOKEN)}function lh(e){Vm(Jp.FEATURE_TOKEN,e)}function uh(){return Bm(Jp.ID_TOKEN)}function dh(e){Vm(Jp.ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getIDToken`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return uh()}},t})(Q);function fh(){return Bm(Jp.ACCESS_TOKEN)}function ph(e){Vm(Jp.ACCESS_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getAccessToken`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return fh()}},t})(Q);function mh(e){var t=Lm().liffId;if(!t)throw $(Bp,`liffId is necessary for liff.init()`);(Im()?sessionStorage:localStorage).removeItem(`${Gp}:${t}:${e}`)}function hh(){return Bm(Jp.LOGIN_TMP)}function gh(e){Vm(Jp.LOGIN_TMP,e)}function _h(){mh(Jp.LOGIN_TMP)}function vh(e){var t=Lm();lm.set(`${Gp}:${Jp.EXPIRES}:${t.liffId}`,e.getTime(),{expires:e.toUTCString(),path:`/`,secure:null})}function yh(){var e=Lm();return lm.get(`${Gp}:${Jp.EXPIRES}:${e.liffId}`)}function bh(){var e=Lm();lm.remove(`${Gp}:${Jp.EXPIRES}:${e.liffId}`,{path:`/`})}function xh(){return Bm(Jp.DECODED_ID_TOKEN)}function Sh(e){Vm(Jp.DECODED_ID_TOKEN,e)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getDecodedIDToken`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return xh()}},t})(Q);function Ch(){Object.keys(Jp).forEach((function(e){mh(Jp[e])})),bh()}function wh(){return!!fh()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isLoggedIn`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return wh()}},t})(Q);function Th(){return`2.27.3`}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getVersion`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return`2.27.3`}},t})(Q);var Eh=function(){function e(){}return e.prototype.invoke=function(){return Nm()},e}(),Dh=function(){function e(e){this.storage=e}return Object.defineProperty(e,`IN_SUB_WINDOW_KEY`,{get:function(){return`inSubWindow`},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){return new URLSearchParams(window.location.search).has(`liff.subwindow`)&&this.setInSubWindow(!0),!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())},e.prototype.getInSubWindow=function(){var t=this.storage.getItem(`${Gp}:${this.getLiffId()}:${e.IN_SUB_WINDOW_KEY}`);return t!==null&&JSON.parse(t)},e.prototype.getSubWindowIdentifier=function(){var e,t,n=`liff.subwindow.identifier`,r=new URLSearchParams(window.location.search);return r.get(n)||(e=n,(t=r.get(`liff.state`))?new URLSearchParams(t).get(e):null)||null},e.prototype.setInSubWindow=function(t){this.storage.setItem(`${Gp}:${this.getLiffId()}:${e.IN_SUB_WINDOW_KEY}`,String(t))},e.prototype.getLiffId=function(){var e=Lm().liffId;if(!e)throw $(Bp,`liffId is necessary for liff.init()`);return e},e}(),Oh=new(function(e){function t(){var t=e.call(this)||this;return Pm()?t.impl={invoke:function(){return!1}}:Im()?t.impl=new Eh:t.impl=new Dh(window.sessionStorage),t}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isSubWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.impl.invoke.bind(this.impl)},t}(Q)),kh=Oh.install();function Ah(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getLineVersion`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Ah()}},t})(Q);var jh;function Mh(){if(!jh){var e=window.navigator.userAgent.toLowerCase();jh=/iphone|ipad|ipod/.test(e)?`ios`:/android/.test(e)?`android`:`web`}return jh}(function(e){function t(){return e.call(this)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getOS`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Mh()}},t})(Q);function Nh(e){return Hm()?.availability?.[e]}function Ph(e,t,n){var r=Nh(e),i=n||e;if(!r)return{available:!1,error:{code:zp,message:`${i} is not allowed in this LIFF app`}};var a=r.minVer,o=r.unsupportedFromVer,s=!a||function(e,t){var n=Ah();return!!n&&!(t&&im(n,t)>0)&&im(n,e)>=0}(a,o),c=Im();return c&&!s?{available:!1,error:{code:zp,message:`${i} is unavailable in this client version.`}}:r.permission?c&&s||t?{available:!0}:{available:!1,error:{code:zp,message:`${i} is not allowed in external browser`}}:{available:!1,error:{code:zp,message:`${i} is not allowed in this LIFF app`}}}var Fh=function(){return wh()?!Mm()&&jm()?{available:!1,error:{code:zp,message:`Subwindow is not supported in this browser`}}:kh()?{available:!1,error:{code:zp,message:`this api can be only called in parent window`}}:Ph(`subwindowOpen`,!0):{available:!1,error:{code:Ip,message:`Need access_token for api call, Please login first`}}},Ih=[`subwindowOpen`,`shareTargetPicker`,`multipleLiffTransition`,`scanCode`,`scanCodeV2`,`getAdvertisingId`,`addToHomeScreen`,`bluetoothLeFunction`,`skipChannelVerificationScreen`,`createShortcutOnHomeScreen`,`internalCreateShortcutOnHomeScreen`,`iap`],Lh={scanCode:function(){return Ph(`scanCode`)},getAdvertisingId:function(){return Ph(`getAdvertisingId`)},bluetoothLeFunction:function(){return Ph(`bluetoothLeFunction`)},shareTargetPicker:function(){return kh()?{available:!1,error:{code:zp,message:`this api can be only called in parent window`}}:wh()?Ph(`shareTargetPicker`,!0):{available:!1,error:{code:Ip,message:`Need access_token for api call, Please login first`}}},multipleLiffTransition:function(){var e=Nh(`multipleLiffTransition`);return e&&e.permission?Im()?{available:!0}:{available:!1,error:{code:zp,message:`multipleLiffTransition is available only in the LINE App browser`}}:{available:!1,error:{code:zp,message:`multipleLiffTransition is not allowed in this LIFF app`}}},subwindowOpen:Fh,scanCodeV2:function(){if(!wh())return{available:!1,error:{code:Ip,message:`Need access_token for api call, Please login first`}};var e=Fh();return e.available?Ph(`scanCodeV2`,!0):e},addToHomeScreen:function(){return kh()?{available:!1,error:{code:zp,message:`this api can be only called in parent window`}}:Ph(`addToHomeScreen`)},skipChannelVerificationScreen:function(){var e=Hm();return e?e.type===`square_chat`?{available:!1,error:{code:zp,message:`skipChannelVerificationScreen is not allowed in OpenChat`}}:Ph(`skipChannelVerificationScreen`):{available:!1,error:{code:zp,message:`Context is not found`}}},createShortcutOnHomeScreen:function(){if(kh())return{available:!1,error:{code:zp,message:`this api can be only called in parent window`}};if(!wh())return{available:!1,error:{code:Ip,message:`Need access_token for api call, Please login first`}};var e=Mh();return e!==`android`&&e!==`ios`?{available:!1,error:{code:zp,message:`this api can be only called in mobile device`}}:Ph(`addToHomeV2`,!0,`createShortcutOnHomeScreen`)},internalCreateShortcutOnHomeScreen:function(){if(kh())return{available:!1,error:{code:zp,message:`this api can be only called in parent window`}};if(!wh())return{available:!1,error:{code:Ip,message:`Need access_token for api call, Please login first`}};var e=Mh();if(e!==`android`&&e!==`ios`)return{available:!1,error:{code:zp,message:`this api can be only called in mobile device`}};var t=Ph(`addToHomeV2`,!0,`internalCreateShortcutOnHomeScreen`);return t.available?Ph(`addToHomeLineScheme`,!0,`internalCreateShortcutOnHomeScreen`):t},iap:function(){return Im()?wh()?kh()?{available:!1,error:{code:zp,message:`this api can be only called in parent window`}}:Ph(`iap`,!1,`In-App Purchase`):{available:!1,error:{code:Ip,message:`Need access_token for api call, Please login first`}}:{available:!1,error:{code:zp,message:`In-App Purchase is not allowed in external browser`}}}},Rh=function(e){return function(){var t=e();if(!t.available)throw $(t.error.code,t.error.message)}},zh={scanCode:Rh(Lh.scanCode),getAdvertisingId:Rh(Lh.getAdvertisingId),bluetoothLeFunction:Rh(Lh.bluetoothLeFunction),shareTargetPicker:Rh(Lh.shareTargetPicker),multipleLiffTransition:Rh(Lh.multipleLiffTransition),subwindowOpen:Rh(Lh.subwindowOpen),scanCodeV2:Rh(Lh.scanCodeV2),addToHomeScreen:Rh(Lh.addToHomeScreen),skipChannelVerificationScreen:Rh(Lh.skipChannelVerificationScreen),createShortcutOnHomeScreen:Rh(Lh.createShortcutOnHomeScreen),internalCreateShortcutOnHomeScreen:Rh(Lh.internalCreateShortcutOnHomeScreen),iap:Rh(Lh.iap)};function Bh(e){if(!function(e){return Ih.some((function(t){return t===e}))}(e))throw $(Lp,`Unexpected API name.`);var t=Lh[e];return!t||t().available}(function(e){function t(){var t=e.apply(this,wp([],X(arguments),!1))||this;return t.hooks={},t}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`isApiAvailable`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return Bh(e)}},t})(Q);var Vh=function(){function e(){}return e.prototype.invoke=function(e){var t=zh[e];return!!t&&(t(),!0)},e}(),Hh=function(){function e(e){this.liff=e}return e.prototype.invoke=function(e){return this.liff.checkFeature(e)},e}(),Uh=function(){function e(t){im(Th(),e.SDK_VERSION_SUPPORTING_NEW)>=0?this.impl=new Vh:this.impl=new Hh(t)}return Object.defineProperty(e,`SDK_VERSION_SUPPORTING_NEW`,{get:function(){return`2.11.0`},enumerable:!1,configurable:!0}),e.prototype.invoke=function(e){return this.impl.invoke(e)},e}(),Wh=function(e,t){return Wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Wh(e,t)};function Gh(e,t,n,r){return new(n||=Promise)((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function Kh(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw TypeError(`Generator is already executing.`);for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(a[0]===6&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var qh=!1,Jh=function(){return qh},Yh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return function(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);function n(){this.constructor=e}Wh(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`_legacyExtensionsEnabled`},enumerable:!1,configurable:!0}),t.prototype.install=function(){qh=!0},t}(Q);function Xh(){var e;return Mh()===`ios`?(e=Ah())&&im(e,`9.19.0`)<0?`https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js`:`https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js`:`https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js`}function Zh(){return Jh()?function(){return Gh(this,void 0,void 0,(function(){return Kh(this,(function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise((function(e,t){var n=document.createElement(`script`),r=Xh();n.onload=function(){var n=window.liffClientExtension;n?e(n):t($(Rp,`Unable to load client features. (Extension is empty)`))},n.onerror=function(e){t($(Rp,`Unable to load client features.`,{cause:e}))},n.src=r,n.type=`text/javascript`,document.body.appendChild(n)}))]}}))}))}():Promise.resolve(void 0)}function Qh(){Ch()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`logout`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Qh()}},t})(Q);var $h=/([\x90\x9D\x81\x8D\x8F<"{|}>\\^`]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/,eg=function(e){if($h.test(e))throw $(Lp,`invalid URL.`);var t=new URL(e),n=t.username,r=t.password,i=t.hash,a=t.search;return{username:n,password:r,pathname:t.pathname,hash:i,origin:t.origin,search:a}},tg=function(e){return e.substring(1).split(`&`).filter((function(e){return!/^liff\./.test(e)&&!!e}))},ng=function(e,t){var n=e.substring(t.length);return n===`/`?``:(n.length>0&&n[0]!==`/`&&(n=`/`+n),n)},rg=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return`%`+e.charCodeAt(0).toString(16).toUpperCase()}))},ig=function(e,t){var n=function(e,t){for(var n=wp([],X(e),!1),r=0;r<t.length;r++){var i=t[r],a=n.indexOf(i);a>-1&&n.splice(a,1)}return n}(function(e){var t,n,r=e.replace(/\+/g,`%2B`),i=new URLSearchParams(r),a=[];try{for(var o=Cp(i.entries()),s=o.next();!s.done;s=o.next()){var c=X(s.value,2),l=c[0],u=c[1];a.push(`${rg(l)}=${rg(u)}`)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}if(a.length===0)return[``];var d=e.split(`&`);return a.map((function(e,t){return e.endsWith(`=`)&&!d[t].endsWith(`=`)?e.slice(0,-1):e}))}(tg(e).join(`&`)),tg(t)).join(`&`);return n===``?``:`?${n}`},ag=function(e){var t=RegExp(`^${Yp.join(`|`)}`),n=e.substring(1).split(`&`).filter((function(e){return!t.test(e)&&!!e})).join(`&`);return n?`#${n}`:``},og=function(e,t){return t.indexOf(e)===0&&(e.endsWith(`/`)&&(e=e.substring(0,e.length-1)),t[e.length]===void 0||t[e.length]===`/`)},sg=function(e,t){var n=eg(e),r=new URL(t);if(n.username!==r.username||n.password!==r.password||r.origin!==n.origin||!og(r.pathname,n.pathname))throw $(Lp,`invalid URL.`)},cg=new(function(e){function t(){var t=e.apply(this,wp([],X(arguments),!1))||this;return t.extraParams=``,t.getAndValidateContext=function(){var e=Hm();if(!e)throw $(Rp,`Could not get Context from server.`);if(!e.endpointUrl)throw $(Rp,`Could not get endpointUrl from server.`);if(!e.permanentLinkPattern)throw $(Rp,`Could not get permanentLinkPattern from server.`);return e},t.createUrl=function(){var e=t.getAndValidateContext(),n=window.location,r=n.pathname,i=n.search,a=n.hash,o=n.origin,s=new URL(e.endpointUrl);if(s.origin!==o||!og(s.pathname,r))throw $(Bp,`Current page is not under entrypoint.`);var c=r.substring(s.pathname.length);c.length>0&&c[0]!==`/`&&(c=`/`+c);var l=RegExp(`^${Yp.join(`|`)}`),u=a.substring(1).split(`&`).filter((function(e){return!l.test(e)&&!!e})).join(`&`),d=u===s.hash.substring(1)?``:u,f=function(e){return e.substring(1).split(`&`).filter((function(e){return!/liff\.state/.test(e)&&!!e}))},p=f(i),m=f(s.search);t.extraParams&&p.push(t.extraParams);for(var h=0;h<m.length;h++){var g=m[h],_=p.indexOf(g);_>-1&&p.splice(_,1)}var v=p.join(`&`),y=`${c}${v===``?``:`?${v}`}${d?`#${d}`:``}`;return`${Kp}${Lm().liffId}${y}`},t.createUrlBy=function(e){return J(t,void 0,void 0,(function(){var t,n,r,i,a,o;return Y(this,(function(s){if(!(t=Lm().liffId))throw $(Rp,`Should run after liff init.`);return n=this.getAndValidateContext(),sg(e,n.endpointUrl),r=eg(e),i=new URL(n.endpointUrl),a=n.miniDomainAllowed?qp:Kp,o=n.miniDomainAllowed&&n.miniAppId?n.miniAppId:t,[2,a.concat(o,ng(r.pathname,i.pathname),ig(r.search,i.search),ag(r.hash))]}))}))},t.setExtraQueryParam=function(e){t.extraParams=e},t.install=function(){return{createUrl:t.createUrl,createUrlBy:t.createUrlBy,setExtraQueryParam:t.setExtraQueryParam}},t}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`permanentLink`},enumerable:!1,configurable:!0}),t}(Q));function lg(e){return J(this,void 0,void 0,(function(){var t,n,r;return Y(this,(function(i){switch(i.label){case 0:if(!e.ok)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,i.sent()];case 3:return i.sent(),[2,e];case 4:return t=String(e.status),n=um.has(t)?t:Fp,[4,e.json().catch((function(){throw $(n,e.statusText)}))];case 5:throw r=i.sent(),$(r.error||r.errorCode||n,r.error_description||r.message)}}))}))}function ug(e){var t=function(e){if(e)return e;var t=fh();if(!t)throw $(Ip,`Need access_token for api call, Please login first`);return{"Content-Type":`application/json`,Accept:`application/json`,Authorization:`Bearer ${t}`}}(e&&e.headers);return Sp(Sp({},e),{headers:t})}function dg(e,t){var n;try{n=ug(t)}catch(e){return Promise.reject(e)}return fetch(e,n).then(lg)}function fg(e,t){var n;try{n=ug(t)}catch(e){return Promise.reject(e)}return fetch(e,n)}function pg(e){var t=e.subdomain;return`https://${t===void 0?`api`:t}.line.me/${e.pathname}`}var mg={token:pg({pathname:`oauth2/v2.1/token`}),certs:pg({pathname:`oauth2/v2.1/certs`}),"openid-configuration":pg({subdomain:`access`,pathname:`.well-known/openid-configuration`}),authorize:pg({subdomain:`access`,pathname:`liff/v1/authorize`}),profile:pg({pathname:`v2/profile`}),message:pg({pathname:`message/v3/share`}),friendship:pg({pathname:`friendship/v1/status`}),shareTargetPicker:pg({subdomain:`access`,pathname:`oauth2/v2.1/liff/shareTargetPicker`}),shareTargetPickerOtt:pg({pathname:`liff/v2/apps`}),shareTargetPickerResult:pg({subdomain:`access`,pathname:`oauth2/v2.1/liff/shareTargetPicker/result`}),apps:pg({pathname:`liff/v2/apps`}),subWindowGetMSIT:pg({pathname:`liff/v2/sub/msit`}),subWindowGetMSTByMSIT:pg({pathname:`liff/v2/sub/mst`}),subWindowSubscribe:pg({subdomain:`liff`,pathname:`liff/v2/sub/waitResult`}),subWindowPost:pg({pathname:`liff/v2/sub/result`}),subWindowGetAppData:pg({pathname:`liff/v2/sub/appData`}),subWindowGetOrigin:function(e){return pg({pathname:`liff/v2/sub/${e}/origin`})},accessTokenVerify:pg({pathname:`oauth2/v2.1/verify`}),unauthorizedPermissions:pg({subdomain:`liff`,pathname:`liff/v2/incrementalAgreement/unauthorizedPermissions`}),permanentLink:pg({subdomain:`liff`,pathname:`liff/v2/permanentLink`}),createShortcutOnHomeScreen:pg({subdomain:`liff-shortcut`,pathname:`api/shortcut`}),iapVirtualConfirm:pg({pathname:`iap/v1/product/virtualConfirm`})};function hg(e){return mg[e]}function gg(e){return dg(`${hg(`accessTokenVerify`)}?access_token=${encodeURIComponent(e)}`,{headers:{"Content-Type":`application/json`,Accept:`application/json`}})}var _g=`liff.subwindow.identifier`,vg=`liff.subwindow.cryptokey`,yg=Sp(Sp({},Qp),{GET_DATA:`getData`,SET_DATA:`setData`,NOT_FOUND:`notFound`,TEARDOWN:`teardown`}),bg={BROADCAST:`broadcast`,COMMAND:`command`},xg={MAIN:`main`,SUB:`sub`},Sg=function(e){return J(void 0,void 0,void 0,(function(){var t;return Y(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey(`jwk`,{kty:`oct`,k:e,alg:`A128GCM`,ext:!0},{name:`AES-GCM`},!1,[`encrypt`,`decrypt`])];case 1:return[2,n.sent()];case 2:throw t=n.sent(),$(Fp,t);case 3:return[2]}}))}))},Cg=function(e,t,n){return J(void 0,void 0,void 0,(function(){var r,i,a,o;return Y(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,Sg(t)];case 1:return i=s.sent(),[4,window.crypto.subtle.encrypt({name:`AES-GCM`,iv:r},i,new TextEncoder().encode(n))];case 2:return a=s.sent(),[2,btoa(new Uint8Array(a).reduce((function(e,t){return e+String.fromCharCode(t)}),``))];case 3:throw o=s.sent(),$(Fp,o);case 4:return[2]}}))}))},wg=function(e,t,n){return J(void 0,void 0,void 0,(function(){var r,i,a,o,s,c,l;return Y(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,Sg(t)];case 1:for(i=u.sent(),a=atob(n),o=new Uint8Array(a.length),s=0;s<a.length;s++)o[s]=a.charCodeAt(s);return[4,window.crypto.subtle.decrypt({name:`AES-GCM`,iv:r},i,o.buffer)];case 2:return c=u.sent(),[2,new TextDecoder().decode(new Uint8Array(c))];case 3:throw l=u.sent(),$(Fp,l);case 4:return[2]}}))}))},Tg=function(e,t){return Eg(e)===Eg(t)},Eg=function(e){return`${e.identifier}-${e.action}-${e.timestamp}`},Dg=function(e){return Object.keys(Qp).map((function(e){return Qp[e]})).includes(e)?bg.BROADCAST:bg.COMMAND};function Og(){var e=document.createElement(`form`);e.method=`POST`,e.action=`$MESSAGE_HANDLER_URL`;var t=document.createElement(`input`);t.type=`hidden`,t.name=`identifier`,t.value=`$IDENTIFIER`,e.appendChild(t),document.body.appendChild(e),e.submit()}var kg=function(e){e===void 0&&(e=xg.MAIN);var t=this;this.identification={identifier:``,cryptoKey:``},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return J(t,void 0,void 0,(function(){var e,t,n,r,i;return Y(this,(function(a){switch(a.label){case 0:return e=new URLSearchParams(window.location.search),t=function(t){var n=e.get(`liff.state`);return n?new URLSearchParams(n).get(t):null},n=this,i={identifier:this.windowType===xg.MAIN?ym(12):e.get(`liff.subwindow.identifier`)||t(`liff.subwindow.identifier`)||``},this.windowType===xg.MAIN?[4,J(void 0,void 0,void 0,(function(){var e,t,n;return Y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:`AES-GCM`,length:128},!0,[`encrypt`,`decrypt`])];case 1:return e=r.sent(),[4,window.crypto.subtle.exportKey(`jwk`,e)];case 2:if(!(t=r.sent())||!t.k)throw $(Fp,`failed to generate key`);return[2,t.k];case 3:throw n=r.sent(),$(Fp,n);case 4:return[2]}}))}))]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=e.get(`liff.subwindow.cryptokey`)||t(`liff.subwindow.cryptokey`)||``,a.label=3;case 3:return n.identification=(i.cryptoKey=r,i),[2]}}))}))},this.hasIdentification=function(){var e=t.identification,n=e.identifier,r=e.cryptoKey;return typeof n==`string`&&typeof r==`string`&&n.length>0&&r.length>0},this.isReady=function(){return t.hasIdentification()&&!!t.messageHandlerInstance},this.setup=function(){return J(t,void 0,void 0,(function(){var e,t,n,r,i,a=this;return Y(this,(function(o){switch(o.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(o.sent(),!(e=this.identification.identifier))return[2];if(t=/^[a-zA-Z0-9]+$/gm,!e.match(t))throw $(Fp,`Invalid identifier`);return(n=document.createElement(`iframe`)).style.display=`none`,n.src=`about:blank`,document.body.appendChild(n),(i=n?.contentWindow)==null||i.window.eval(`(${Og.toString().replace(`$MESSAGE_HANDLER_URL`,`https://liff-subwindow.line.me/liff/v2/sub/messageHandler`).replace(`$IDENTIFIER`,e.split(`'`)[0])})()`),r=`iframe-${e}-ready`,[4,new Promise((function(e){var t=function(i){i.data[r]&&(a.messageHandlerInstance=n,window.addEventListener(`message`,a.proxyToListeners),e(),document.removeEventListener(`message`,t))};window.addEventListener(`message`,t)}))];case 2:return[2,o.sent()]}}))}))},this.teardown=function(){return J(t,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return this.isReady()?[4,this.send({eventName:yg.TEARDOWN})]:[3,2];case 1:t.sent(),window.removeEventListener(`message`,this.proxyToListeners),this.listeners.clear(),(e=this.messageHandlerInstance?.parentNode)==null||e.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,t.label=2;case 2:return[2]}}))}))},this.listen=function(e){t.listeners.set(e,e)},this.listenRepliedEvent=function(e,n){var r=function(i){i.replyTarget&&Tg(i.replyTarget,e)&&(n(i),t.listeners.delete(r))};t.listeners.set(r,r)},this.send=function(e){return J(t,void 0,void 0,(function(){var t,n,r,i=this;return Y(this,(function(a){switch(a.label){case 0:if(!this.isReady())throw $(`message bus is not ready to send message`);return n={action:Dg(e.eventName),identifier:this.identification.identifier||``,timestamp:new Date().getTime()},[4,this.getEncryptedContext(e)];case 1:return n.context=a.sent(),t=n,(r=this.messageHandlerInstance?.contentWindow)==null||r.postMessage({messageBusEvent:t},`*`),this.sentMessages.push(Eg(t)),[4,new Promise((function(e){i.listenRepliedEvent(t,(function(t){e(t.context)}))}))];case 2:return[2,a.sent()]}}))}))},this.reply=function(e,n){return J(t,void 0,void 0,(function(){var t,r,i;return Y(this,(function(a){switch(a.label){case 0:if(!this.isReady())throw $(`message bus is not ready to send message`);if(!e.identifier||!e.timestamp)throw $(Fp,`target message is not valid`);return r={action:bg.BROADCAST},[4,this.getEncryptedContext(n)];case 1:return r.context=a.sent(),r.identifier=this.identification.identifier||``,r.timestamp=new Date().getTime(),r.replyTarget={action:e.action,identifier:e.identifier,timestamp:e.timestamp},t=r,(i=this.messageHandlerInstance?.contentWindow)==null||i.postMessage({messageBusEvent:t},`*`),this.sentMessages.push(Eg(t)),[2]}}))}))},this.setData=function(e,n){e===void 0&&(e=`appData`),t.send({eventName:yg.SET_DATA,key:e,data:n})},this.getData=function(){return J(t,wp([],X([...arguments]),!1),void 0,(function(e){return e===void 0&&(e=`appData`),Y(this,(function(t){switch(t.label){case 0:return[4,this.send({eventName:yg.GET_DATA,key:e})];case 1:return[2,t.sent()]}}))}))},this.proxyToListeners=function(e){return J(t,void 0,void 0,(function(){var t,n=this;return Y(this,(function(r){return t=e.data.messageBusEvent,e.origin===`https://liff-subwindow.line.me`&&t&&(this.sentMessages.includes(Eg(t))||t.identifier!==this.identification.identifier||t.action!==bg.BROADCAST&&!t.replyTarget||this.listeners.forEach((function(e){return J(n,void 0,void 0,(function(){var n,r,i;return Y(this,(function(a){switch(a.label){case 0:return n=e,r=[Sp({},t)],i={},[4,this.getDecryptedContext(t.context)];case 1:return n.apply(void 0,[Sp.apply(void 0,r.concat([(i.context=a.sent(),i)]))]),[2]}}))}))}))),[2]}))}))},this.getEncryptedContext=function(e){return J(t,void 0,void 0,(function(){var t,n,r,i,a,o,s;return Y(this,(function(c){switch(c.label){case 0:return t=this.identification,n=t.identifier,r=t.cryptoKey,a=(i=JSON).stringify,s={eventName:e.eventName,key:e.key?e.key:void 0},e.data?[4,Cg(n,r,JSON.stringify(e.data))]:[3,2];case 1:return o=c.sent(),[3,3];case 2:o=void 0,c.label=3;case 3:return[2,a.apply(i,[(s.data=o,s)])]}}))}))},this.getDecryptedContext=function(e){return J(t,void 0,void 0,(function(){var t,n,r,i,a,o,s,c;return Y(this,(function(l){switch(l.label){case 0:return t=this.identification,n=t.identifier,r=t.cryptoKey,(i=JSON.parse(e)).data&&typeof i.data==`string`?(c=(s=JSON).parse,[4,wg(n,r,i.data)]):[3,2];case 1:return o=c.apply(s,[l.sent()]),[3,3];case 2:o=void 0,l.label=3;case 3:return a=o,[2,Sp(Sp({},i),{data:a})]}}))}))},this.windowType=e};function Ag(e){return new CustomEvent(Wp,{detail:e})}(function(){if(typeof window<`u`&&typeof window.CustomEvent!=`function`){function e(e,t){var n=t||{},r=n.bubbles,i=r!==void 0&&r,a=n.cancelable,o=a!==void 0&&a,s=n.detail,c=s===void 0?void 0:s,l=document.createEvent(`CustomEvent`);return l.initCustomEvent(e,i,o,c),l}e.prototype=Event.prototype,window.CustomEvent=e}})();var jg={},Mg=!1;function Ng(e,t){Mg||(Mg=!0,window.addEventListener(`liffEvent`,(function(e){e&&e.detail&&e.detail.type&&jg[e.detail.type]&&jg[e.detail.type].forEach((function(t){return t(e)}))}))),jg[e]?jg[e].push(t):jg[e]=[t]}function Pg(e,t){var n=jg[e];if(n&&Array.isArray(n)){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function Fg(e){var t={};try{t=JSON.parse(e)}catch(e){throw $(Lp,e.message)}var n=Ag(t);Z.debug(`[client dispatchEvent to js]`,{type:n.type,detail:n.detail}),window.dispatchEvent(n)}function Ig(e,t,n){t===void 0&&(t={}),n===void 0&&(n=``);var r=ch();if(!r)throw $(zp,`Invalid featureToken for client features`);if(!window._liff||!window._liff.postMessage)throw $(Lp,`postMessage is not available from client`);Z.debug(`[js postMessage to client]`,e,n,t),window._liff.postMessage(e,r,n,JSON.stringify(t))}function Lg(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={once:!0}),ch()?(n=Sp({callbackId:ym(12),once:!0},n),new Promise((function(r,i){var a=function(t){if(t&&t.detail){var o=t.detail.callbackId===n.callbackId,s=typeof t.detail.callbackId!=`string`;(o||s)&&(n.once&&Pg(e,a),Z.debug(`[callback detail]`,t.detail),t.detail.error?i(t.detail.error):t.detail.data?r(t.detail.data):i(t.detail))}i()};Ng(e,a),Ig(e,t,n.callbackId)}))):Promise.reject($(zp,`Invalid featureToken for client features`))}function Rg(){var e=Ah();e!==null&&(Mh()===`ios`&&im(e,`9.19`)>=0||Mh()===`android`&&im(e,`11.6.0`)>=0)?location.href=`liff://close`:window._liff&&window._liff.postMessage?e!==null&&im(e,`10.15.0`)>=0?Mh()===`ios`?window._liff.postMessage(`closeWindow`,``):window._liff.postMessage(`closeWindow`,``,``,``):Lg(`closeWindow`):window.close()}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`closeWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Rg()}},t})(Q);function zg(e){return dg(hg(`subWindowGetOrigin`)(e))}var Bg={};function Vg(e,t){e&&Bg[e]&&Bg[e].forEach((function(e){e(t)}))}function Hg(e,t){Bg[e]||(Bg[e]=[]),Bg[e].push(t)}function Ug(e,t){if(Bg[e]){var n=Bg[e].indexOf(t);n>=0&&Bg[e].splice(n,1)}}var Wg,Gg,Kg,qg,Jg,Yg=function(){function e(e){this.storage=e}return e.prototype.getItem=function(e){return this.storage.getItem(`${this.getKeyPrefix()}:${e}`)},e.prototype.setItem=function(e,t){this.storage.setItem(`${this.getKeyPrefix()}:${e}`,t)},e.prototype.removeItem=function(e){this.storage.removeItem(`${this.getKeyPrefix()}:${e}`)},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return`${Gp}:${this.getLiffId()}`},e.prototype.getLiffId=function(){var e=Lm().liffId;if(!e)throw $(Bp,`liffId is necessary for liff.init()`);return e},e}(),Xg=new Yg(new mm);function Zg(){var e=Xg.getItem(`subWindowStatusUpdated`);return e!==null&&JSON.parse(e)}function Qg(e){Xg.setItem(`subWindowStatusUpdated`,String(e))}function $g(e){Wg=e}function e_(){return Wg}function t_(){return Kg}function n_(){return qg}function r_(){return J(this,arguments,void 0,(function(e){return e===void 0&&(e=xg.MAIN),Y(this,(function(t){switch(t.label){case 0:return[4,(Jg=new kg(e)).setup()];case 1:return t.sent(),[2,Jg]}}))}))}function i_(){return Jg}var a_=new mm,o_=new Yg(Pm()?a_:window.sessionStorage);function s_(e){o_.setItem(`mainWindowOrigin`,e)}function c_(){return o_.getItem(`mainWindowOrigin`)}function l_(e){return J(this,arguments,void 0,(function(e,t){var n,r,i,a,o,s,c,l;return t===void 0&&(t={}),Y(this,(function(u){switch(u.label){case 0:if((n=i_())?.isReady())return[3,5];if(r=JSON.stringify(t),i=Lm().liffId,a=c_(),!window.opener||!a||!i)throw $(Up);o=!1,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,zg(i)];case 2:return s=u.sent(),o=s.subwindowCommonModule,[3,4];case 3:throw c=u.sent(),Z.debug(c),$(Up);case 4:return l=o?a:location.origin,[2,new Promise((function(t){window.addEventListener(`message`,(function n(i){u_(i)&&(window.removeEventListener(`message`,n),t({status:e,result:r}))})),window.opener.postMessage({status:e,result:r},l)}))];case 5:return n.send({eventName:e,data:t}),[4,new Promise((function(e){setTimeout(e,500)}))];case 6:return u.sent(),[2,{status:e,result:JSON.stringify(t)}]}}))}))}function u_(e){return!(!e.data||typeof e.data.type!=`string`||![Qp.SUBMIT,Qp.CANCEL].includes(e.data.type))}function d_(e){var t,n=n_();if(e.origin===n){var r=e.data;if(r){var i,a=r.status,o=r.result;try{i=JSON.parse(o||`{}`)}catch{i={}}switch(a){case em:window.clearInterval(t_()),h_();break;case Qp.CANCEL:case Qp.SUBMIT:Qg(!0),window.clearInterval(t_()),window.removeEventListener(`message`,d_),Vg(a,i),(t=e_())==null||t.postMessage({type:a},n_());break;default:Z.debug(`unexpected message`)}}}}var f_=function(e){return J(void 0,void 0,void 0,(function(){var t,n,r,i;return Y(this,(function(a){if(Zg())return[2];switch(t=e.context,n=t.eventName,r=t.data,i=i_(),n){case Qp.INIT:m_(!r.hasOpener);break;case Qp.CANCEL:case Qp.SUBMIT:Qg(!0),Vg(n,r),i?.reply(e,{eventName:n});break;case Qp.CLOSE:!1===Zg()&&(Qg(!0),Vg(Qp.CLOSE,{})),h_()}return[2]}))}))};function p_(){window.clearInterval(Gg),window.clearInterval(t_()),window.removeEventListener(`message`,d_)}function m_(e){if(e===void 0&&(e=!1),p_(),Qg(!1),e){var t=e_();t&&(t.close(),$g(null))}}function h_(){return J(this,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return(e=i_())?[4,e.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}function g_(e){return J(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,c,l,u,d;return Y(this,(function(f){switch(f.label){case 0:return(t=Em(e.url))?(m_(!0),[4,h_()]):[2,Promise.reject($(Lp,`params.url must be liff url or mini url`))];case 1:return f.sent(),$g(Mh()!==`ios`||Am()?window.open(``,`liffsubwindow`,`width=480, height=640, menubar=no, toolbar=no, scrollbars=yes`):window.open()),n=e.url,r=e.appData,(i=new URL(n)).searchParams.append($p,`true`),[4,r_()];case 2:return a=f.sent(),i.searchParams.append(_g,a.identification.identifier),i.searchParams.append(vg,a.identification.cryptoKey),i.hostname=function(e){var t=X(e.split(`.`)),n=t[0],r=t.slice(1);return wp([`${n}-ext`],X(r),!1).join(`.`)}(i.hostname),o=i.toString(),[4,zg(t)];case 3:if(s=f.sent(),c=s.origin,l=s.subwindowCommonModule,!(u=e_()))throw $(Hp);if(!l)return u.close(),[2];(function(e){qg=e})(c),a.listen(f_),a.setData(`appData`,r),window.addEventListener(`message`,d_),f.label=4;case 4:return f.trys.push([4,6,,7]),[4,e.onBeforeTransition?.call(e)];case 5:return f.sent(),[3,7];case 6:throw d=f.sent(),u.close(),d;case 7:return u.location.href=o,p=function(e,t){var n=e_(),r={type:em};return t&&(r.message=JSON.stringify(t)),window.setInterval((function(){n?.postMessage(r,e)}),100)}(c,r),Kg=p,function(e){Gg=e}(window.setInterval((function(){var e=e_();e&&e.closed&&(p_(),$g(null),!1===Zg()&&(Qg(!0),Vg(Qp.CLOSE,{})))}),100)),[2]}var p}))}))}var __=null;function v_(e){return J(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,c,l,u,d,f,p,m,h=this;return Y(this,(function(g){switch(g.label){case 0:if(t=e.msit,n=e.mstChallenge,r=e.reconnectCount,i=r===void 0?0:r,a=function(){return J(h,void 0,void 0,(function(){return Y(this,(function(r){switch(r.label){case 0:return[4,(a=1e3,new Promise((function(e){return setTimeout(e,a)})))];case 1:return r.sent(),[4,v_({msit:t,mstChallenge:n,onSuccess:e.onSuccess,onError:e.onError,reconnectCount:i+1})];case 2:return r.sent(),[2]}var a}))}))},o=function(){var t=[...arguments];__=null,e.onSuccess.apply(e,wp([],X(t),!1))},s=function(){var t=[...arguments];__=null,e.onError.apply(e,wp([],X(t),!1))},c=Date.now(),__===null&&(__=c),l=c-__,i>=10||l>6e5)return s($(Fp,`Failed to connect`)),[2];g.label=1;case 1:return g.trys.push([1,3,,5]),[4,fg(hg(`subWindowSubscribe`),{method:`POST`,body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return u=g.sent(),[3,5];case 3:return g.sent(),[4,a()];case 4:return g.sent(),[2];case 5:return u.status>=500?[4,a()]:[3,7];case 6:return g.sent(),[3,17];case 7:return u.status>=400&&500>u.status?[4,y_(u)]:[3,9];case 8:return f=g.sent(),d=f?$(Lp,f.errorDetail):$(Fp,`Some error happened in the server`),s(d),[3,17];case 9:return u.status===200?[4,y_(u)]:[3,16];case 10:if(!(f=g.sent()))return s($(Fp,`Some error happened in the server`)),[2];switch(p=f.status,m=f.result,p){case Qp.ERROR:return[3,11];case Qp.CLOSE:case Qp.CANCEL:case Qp.SUBMIT:return[3,13]}return[3,14];case 11:return[4,a()];case 12:return g.sent(),[3,15];case 13:return o(p,m),[3,15];case 14:s($(Fp,`Some error happened in the server`)),g.label=15;case 15:return[3,17];case 16:s($(Fp,`Some error happened in the server`)),g.label=17;case 17:return[2]}}))}))}function y_(e){return J(this,void 0,void 0,(function(){return Y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function b_(e){var t={};return Object.keys(e).forEach((function(n){n===`closeButtonColor`?e[n]===`white`?t[n]=`#ffffff`:t[n]=`#000000`:t[n]=e[n]})),t}var x_={height:`full`,closeButtonPosition:`right`,closeButtonColor:`black`,closeButtonLabel:``};function S_(e){var t=e.appData,n=e.native,r=Lm().liffId,i=rh(),a=Em(e.url);return r?i?a?function(e){var t=e.mainLiffId,n=e.subLiffId,r=e.mstChallenge,i=e.appData,a=e.view;return t&&r?dg(hg(`subWindowGetMSIT`),{method:`POST`,body:JSON.stringify({mainLiffId:t,subLiffId:n,mstChallenge:r,appData:i,view:a})}):Promise.reject($(Lp,`no proper argument`))}({mainLiffId:r,subLiffId:a,mstChallenge:i,appData:t,view:b_(Object.assign({},x_,n))}).then((function(e){var t=e.msit;return v_({msit:t,mstChallenge:i,onSuccess:function(e,t){Vg(e,t)},onError:function(e){Vg(Qp.ERROR,e)}}),t})).then((function(t){return function(e,t){return J(this,void 0,void 0,(function(){var n,r;return Y(this,(function(i){switch(i.label){case 0:return n=e.url,(r=new URLSearchParams).set(`msit`,t),[4,e.onBeforeTransition?.call(e)];case 1:return i.sent(),location.href=`${Zp}?url=${encodeURIComponent(n)}&${r.toString()}`,[2]}}))}))}(e,t)})):Promise.reject($(Lp,`params.url must be liff url or mini url`)):Promise.reject($(Ip,`mst_challenge is invalid`)):Promise.reject($(Ip,`liffId is invalid`))}function C_(e){return zh.subwindowOpen(),Im()?S_(e):g_(e)}function w_(e){if(!e.mst||!e.status)return Promise.reject($(Lp,`no proper argument`));var t=JSON.stringify(e);return dg(hg(`subWindowPost`),{method:`POST`,body:t})}function T_(){if(!kh())throw $(Ip,`this api can be only called in child window`)}function E_(e){return e===void 0&&(e={}),T_(),Im()?function(){return J(this,arguments,void 0,(function(e){var t,n;return e===void 0&&(e={}),Y(this,(function(r){switch(r.label){case 0:return(t=th())?[4,w_({mst:t,status:Qp.CANCEL,result:e})]:[2,Promise.reject($(Ip,`mst is invalid`))];case 1:return n=r.sent(),Qg(!0),[2,n]}}))}))}(e):function(e){return e===void 0&&(e={}),l_(Qp.CANCEL,e)}(e)}function D_(e){return e===void 0&&(e={}),T_(),Im()?function(){return J(this,arguments,void 0,(function(e){var t,n;return e===void 0&&(e={}),Y(this,(function(r){switch(r.label){case 0:return(t=th())?[4,w_({mst:t,status:Qp.SUBMIT,result:e})]:[2,Promise.reject($(Ip,`mst is invalid`))];case 1:return n=r.sent(),Qg(!0),[2,n]}}))}))}(e):function(e){return e===void 0&&(e={}),l_(Qp.SUBMIT,e)}(e)}function O_(){return T_(),Im()?function(){return J(this,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return!1===Zg()?(e=th())?[4,w_({mst:e,status:Qp.CLOSE,result:{}})]:[2,Promise.reject($(Ip,`mst is invalid`))]:[3,2];case 1:t.sent(),t.label=2;case 2:return Rg(),[2]}}))}))}():function(){return J(this,void 0,void 0,(function(){var e;return Y(this,(function(t){return(e=i_())?.isReady()?(e.send({eventName:Qp.CLOSE}),[2,new Promise((function(e){setTimeout((function(){Rg(),e()}),100)}))]):(Rg(),[2,Promise.resolve()])}))}))}()}function k_(){return T_(),function(){var e,t=Ym();try{e=t?JSON.parse(t):{}}catch{e={}}return Promise.resolve(e)}()}function A_(e){var t=e.msit,n=e.mstVerifier;return t&&n?dg(hg(`subWindowGetMSTByMSIT`),{method:`POST`,body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject($(Lp,`no proper argument`))}function j_(e){var t=e.mst;return t?dg(hg(`subWindowGetAppData`),{method:`POST`,body:JSON.stringify({mst:t})}):Promise.reject($(Lp,`no proper argument`))}var M_={on:Hg,off:Ug,open:C_,cancel:E_,submit:D_,close:O_,getAppData:k_};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`subWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){var e=this;return{on:Hg.bind(this),off:Ug.bind(this),open:function(t){return C_.call(e,Sp(Sp({},t),{onBeforeTransition:void 0}))},cancel:E_.bind(this),submit:D_.bind(this),close:O_.bind(this),getAppData:k_.bind(this)}},t})(Q);var N_=c(o(((e,t)=>{(function(e,n){typeof define==`function`&&define.amd?define([],n):t!==void 0&&t.exports?t.exports=n():e.sha256=n()})(e,function(){var e=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r=Math.pow,i=r(2,32),a=`length`,o,s,c=``,l=[],u=t[a]*8,d=e.h=e.h||[],f=e.k=e.k||[],p=f[a],m={},h=2;p<64;h++)if(!m[h]){for(o=0;o<313;o+=h)m[o]=h;d[p]=r(h,.5)*i|0,f[p++]=r(h,1/3)*i|0}for(t+=``;t[a]%64-56;)t+=`\0`;for(o=0;o<t[a];o++){if(s=t.charCodeAt(o),s>>8)return;l[o>>2]|=s<<(3-o)%4*8}for(l[l[a]]=u/i|0,l[l[a]]=u,s=0;s<l[a];){var g=l.slice(s,s+=16),_=d;for(d=d.slice(0,8),o=0;o<64;o++){o+s;var v=g[o-15],y=g[o-2],b=d[0],x=d[4],S=d[7]+(n(x,6)^n(x,11)^n(x,25))+(x&d[5]^~x&d[6])+f[o]+(g[o]=o<16?g[o]:g[o-16]+(n(v,7)^n(v,18)^v>>>3)+g[o-7]+(n(y,17)^n(y,19)^y>>>10)|0);d=[S+((n(b,2)^n(b,13)^n(b,22))+(b&d[1]^b&d[2]^d[1]&d[2]))|0].concat(d),d[4]=d[4]+S|0}for(o=0;o<8;o++)d[o]=d[o]+_[o]|0}for(o=0;o<8;o++)for(s=3;s+1;s--){var ee=d[o]>>s*8&255;c+=(ee<16?0:``)+ee.toString(16)}return c};return e.code=`var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};`,e})}))()),P_=function(){var e=this;this.type=`sync`,this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var a=Cp(e.fns),o=a.next();!o.done;o=a.next())o.value.apply(void 0,wp([],X(r),!1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},F_=function(){var e=this;this.type=`async`,this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){var t=[...arguments];return J(e,void 0,void 0,(function(){var e,n,r,i,a,o;return Y(this,(function(s){switch(s.label){case 0:e=[];try{for(n=Cp(this.fns),r=n.next();!r.done;r=n.next())i=r.value,e.push(i.apply(void 0,wp([],X(t),!1)))}catch(e){a={error:e}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(a)throw a.error}}return[4,Promise.all(e)];case 1:return s.sent(),[2]}}))}))}},I_=function(e){var t=ym(43),n=pm((0,N_.default)(t)).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=/g,``),r=Lm();if(!r||!r.liffId)throw $(Bp,"You need to define `liffId` for liff.login()");var i={app_id:r.liffId,state:ym(12),response_type:`code`,code_challenge_method:`S256`,code_challenge:n,liff_sdk_version:Th()};e&&e.redirectUri&&(i.redirect_uri=e.redirectUri),kh()&&!Im()&&(i_()?.isReady()?i.redirect_uri=window.location.href:i.disable_auto_login=`true`),gh({codeVerifier:t});var a=hg(`authorize`)+`?`+gm.stringify(i);Z.debug(`[Redirect] ${a}`),window.location.href=a},L_=function(e){function t(){var t=e.apply(this,wp([],X(arguments),!1))||this;return t.hooks={before:new P_},t}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`login`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this._login.bind(this)},t.prototype._login=function(e){this.hooks.before.call(e),I_(e)},t}(Q),R_=typeof navigator>`u`?`en`:navigator.language??`en`,z_=null;function B_(e){return J(this,void 0,void 0,(function(){return Y(this,(function(t){switch(t.label){case 0:return R_=e,[4,V_()];case 1:return t.sent(),[2]}}))}))}function V_(){return J(this,void 0,void 0,(function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:return[4,dg(`https://liffsdk.line-scdn.net/xlt/manifest.json`,{method:`GET`,headers:{Accept:`application/json`}})];case 1:return e=n.sent(),t=`${R_}`,!e.languages[t]&&R_.includes(`-`)&&(t=R_.split(`-`)[0]),e.languages[t]||(t=`en`),[4,dg(`https://liffsdk.line-scdn.net/xlt/${e.languages[t]}`,{method:`GET`,headers:{Accept:`application/json`}})];case 2:return z_=n.sent(),[2]}}))}))}function H_(e){if(z_===null)throw $(Rp,`please call xlt after liff.init`);return z_[e]}var U_=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`i18n`},enumerable:!1,configurable:!0}),t.prototype.install=function(e){return e.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)),{setLang:B_}},t.prototype.beforeInitFinished=function(){return J(this,void 0,void 0,(function(){return Y(this,(function(e){switch(e.label){case 0:return[4,V_()];case 1:return e.sent(),[2]}}))}))},t}(Q)),W_={iconColor:`#111111`,statusBarColor:`BLACK`,titleTextColor:`#111111`,titleSubtextColor:`#B7B7B7`,titleButtonColor:`#111111`,titleBackgroundColor:`#FFFFFF`,progressBarColor:`#06C755`,progressBackgroundColor:`#FFFFFF`,titleButtonAreaBackgroundColor:`#1FFFFFFF`,titleButtonAreaBorderColor:`#26000000`,baseBackgroundColor:`#FFFFFF`,baseTextColor:`#000000`,lightButtonBorderColor:`rgba(0, 0, 0, 0.15)`},G_={iconColor:`#FFFFFF`,statusBarColor:`WHITE`,titleTextColor:`#FFFFFF`,titleSubtextColor:`#949494`,titleButtonColor:`#FFFFFF`,titleBackgroundColor:`#111111`,progressBarColor:`#06C755`,progressBackgroundColor:`#111111`,titleButtonAreaBackgroundColor:`#1FFFFFFF`,titleButtonAreaBorderColor:`#26000000`,baseBackgroundColor:`#000000`,baseTextColor:`#FFFFFF`,lightButtonBorderColor:`rgba(255, 255, 255, 0.5)`};function K_(){Y_(`color-scheme`,(Hm()?.menuColorSetting||{adaptableColorSchemes:[`light`]}).adaptableColorSchemes.join(` `));var e=window.matchMedia(`(prefers-color-scheme: dark)`);q_({matches:e?.matches,media:e?.media}),e.addEventListener?e.addEventListener(`change`,q_):e.addListener&&e.addListener(q_)}function q_(e){var t=Hm()?.menuColorSetting||{adaptableColorSchemes:[`light`],lightModeColor:W_,darkModeColor:G_},n=t.adaptableColorSchemes,r=t.lightModeColor,i=t.darkModeColor,a=n.includes(`dark`);e.matches&&a?J_(Sp(Sp({},G_),i)):J_(Sp(Sp({},W_),r))}function J_(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,i=e.titleSubtextColor,a=e.titleButtonColor,o=e.titleBackgroundColor,s=e.progressBarColor,c=e.progressBackgroundColor,l=e.titleButtonAreaBackgroundColor,u=e.titleButtonAreaBorderColor,d=e.baseBackgroundColor,f=e.baseTextColor,p=e.lightButtonBorderColor;Y_(`--liff-base-background-color`,d),Y_(`--liff-base-text-color`,f),Y_(`--liff-base-background-rgb-color`,sm(d)),Y_(`--liff-base-text-rgb-color`,sm(f)),Y_(`--liff-light-button-border-color`,p),Y_(`--liff-title-text-color`,r),Y_(`--liff-title-background-color`,o),Y_(`--liff-title-button-color`,a),Y_(`--liff-icon-color`,t),Y_(`--liff-status-bar-color`,n),Y_(`--liff-title-subtext-color`,i),Y_(`--liff-progress-bar-color`,s),Y_(`--liff-progress-background-color`,c),Y_(`--liff-title-button-area-background-color`,am(l)),Y_(`--liff-title-button-area-border-color`,am(u))}function Y_(e,t){document.documentElement.style.setProperty(e,t)}var X_={addToHomeScreen:function(e){if(!new Uh(e).invoke(`addToHomeScreen`))throw $(zp,`No permission for liff.addToHomeScreen()`)},scanCode:function(e){if(!new Uh(e).invoke(`scanCode`))return Promise.reject($(zp,`No permission for liff.scanCode()`))},getAdvertisingId:function(e){if(!new Uh(e).invoke(`getAdvertisingId`))return Promise.reject($(zp,`No permission for liff.getAdvertisingId()`))},initPlugins:function(){}};function Z_(e){return J(this,void 0,void 0,(function(){var t;return Y(this,(function(n){switch(n.label){case 0:return[4,Zh()];case 1:return(t=n.sent())&&t.install(e,X_),[2]}}))}))}function Q_(){return J(this,void 0,void 0,(function(){return Y(this,(function(e){switch(e.label){case 0:return[4,dg(hg(`certs`))];case 1:return[2,e.sent()]}}))}))}function $_(e,t,n){return J(this,void 0,void 0,(function(){var r;return Y(this,(function(i){switch(i.label){case 0:return[4,crypto.subtle.importKey(`jwk`,e,{name:`ECDSA`,namedCurve:`P-256`},!1,[`verify`])];case 1:return r=i.sent(),[4,crypto.subtle.verify({name:`ECDSA`,hash:{name:`SHA-256`}},r,n,t)];case 2:return[2,i.sent()]}}))}))}function ev(e,t){return J(this,void 0,void 0,(function(){var n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_;return Y(this,(function(v){switch(v.label){case 0:return n=e.split(`.`),r=X(n,3),i=r[0],a=r[1],o=r[2],s=JSON.parse(rm.decode(i)),c=JSON.parse(rm.decodeUnicode(a)),l=cm(rm.decode(o)),u=cm(`${i}.${a}`),[4,Q_()];case 1:if(d=v.sent(),!(f=d.keys.find((function(e){return e.kid===s.kid}))))return[3,6];if(delete f.alg,s.alg!==`ES256`)throw $(Vp,`Invalid "alg" value in ID_TOKEN`);p=void 0,v.label=2;case 2:return v.trys.push([2,4,,5]),[4,$_(f,u,l)];case 3:return p=v.sent(),[3,5];case 4:throw m=v.sent(),$(Vp,`Failed to use Crypto API to verify ID_TOKEN: ${m}`);case 5:if(p){if(h=c.iss!==`https://access.line.me`,g=c.aud!==t,_=1e3*c.exp<Date.now(),h)throw $(Vp,`Invalid "iss" value in ID_TOKEN`);if(g)throw $(Vp,`Invalid "aud" value in ID_TOKEN`);if(_)throw $(Vp,`Invalid "exp" value in ID_TOKEN`);return[2,c]}throw $(Vp,`Invalid signature in ID_TOKEN`);case 6:throw $(Vp,`Invalid "kid" value in ID_TOKEN`);case 7:return[2]}}))}))}function tv(e){var t=e.split(`.`);if(t[1])try{var n=t[1].replace(/-/g,`+`).replace(/_/g,`/`);return JSON.parse(window.atob(n))}catch{return null}return null}function nv(e){var t=e.pathname,n=e.query,r=`liff://${t}${n?`?${gm.stringify(n)}`:``}`;location.href=r}var rv=null;function iv(){typeof rv==`boolean`&&Z.warn(`liff.init is not expected to be called more than once`),rv=!!qm()||!(!Im()||gm.parse(window.location.hash).feature_token||ch())&&(Jm(!0),!0)}function av(){return!!rv}function ov(e,t){return J(this,void 0,void 0,(function(){var n;return Y(this,(function(r){switch(r.label){case 0:return(n=th())?[2,n]:e&&t?[4,A_({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}}))}))}function sv(e){return dg(`${hg(`apps`)}/${e}/featureToken`)}function cv(e){return J(this,void 0,void 0,(function(){var t,n,r,i;return Y(this,(function(a){switch(a.label){case 0:return t=gm.parse(window.location.hash),n=function(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=function(t){Object.keys(t).filter((function(e){return t[e]!==null&&t[e]!==void 0})).forEach((function(n){e[n]=t[n]}))};try{for(var o=Cp(r),s=o.next();!s.done;s=o.next())a(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return e}({access_token:fh(),context_token:sh(),feature_token:ch(),id_token:uh(),client_id:ah(),mst_challenge:rh(),mst_verifier:Zm(),msit:$m()},t),av()?wh()?[4,sv(e)]:[3,2]:[3,3];case 1:r=a.sent().featureToken,n.feature_token||=r,a.label=2;case 2:(i=fm(e))&&(n.client_id=i),a.label=3;case 3:return[2,n]}}))}))}function lv(e){if(e.persisted&&Bh(`multipleLiffTransition`))if(Mh()===`ios`)window.location.reload();else{var t=Lm().liffId,n=ch();if(!t)throw $(Rp,`Invalid LIFF ID.`);if(!n)throw $(zp,`Invalid featureToken for client features`);nv({pathname:`app/${t}`,query:{feature_token:n}})}}function uv(e){return J(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_;return Y(this,(function(v){switch(v.label){case 0:return[4,new Promise((function(e){var t=Ah();if(!t||im(t,`9.5.0`)<0)e();else if(window._liff&&window._liff.features)e();else{Z.debug(`cannot find window._liff.features, listen to ready event`);var n=function(){Z.debug(`ready event is fired`),Pg(`ready`,n),e()};Ng(`ready`,n)}}))];case 1:return v.sent(),iv(),[4,cv(e.liffId)];case 2:if(t=v.sent(),n=t.access_token,r=t.context_token,i=t.feature_token,a=t.id_token,o=t.client_id,s=t.mst_verifier,c=t.mst_challenge,l=t.msit,r){if(typeof r!=`string`)throw $(Rp,`Cannot get context token, perhaps there is an incorrect parameter in permanent link`);Um(tv(r))}if(Hm()?.liffId!==void 0&&Hm()?.liffId!==e.liffId)throw $(Rp,`Invalid LIFF ID`);return!kh()&&i&&(function(e,t){Bh(`multipleLiffTransition`)&&nv({pathname:`app/${e}`,query:{feature_token:t}})}(e.liffId,i),av()&&lh(i)),c&&ih(c),s&&Qm(s),o&&oh(o),l&&eh(l),window.addEventListener(`pageshow`,lv),wh()||i&&n?[3,5]:av()?(u=Cm(location.href,{"liff.hback":`2`}),I_({redirectUri:u}),[4,new Promise((function(){}))]):[3,4];case 3:v.sent(),v.label=4;case 4:throw I_(),$(Rp,`Failed to parse feature_token or access_token`);case 5:return n&&i?[4,gg(n)]:[3,7];case 6:if(d=v.sent(),f=d.client_id,p=d.expires_in,m=fm(e.liffId),f!==m)throw I_(),$(Rp,`Failed to verify access_token`);lh(i),vh(new Date(Date.now()+1e3*p)),ph(n),v.label=7;case 7:return[4,ov(l,s)];case 8:return(h=v.sent())?(nh(h),[4,j_({mst:h})]):[3,10];case 9:(g=v.sent().data)&&Xm(JSON.stringify(g)),v.label=10;case 10:return a&&!uh()&&dh(a),a&&o&&!xh()?[4,ev(a,o)]:[3,12];case 11:(_=v.sent())&&Sh(_),v.label=12;case 12:return[2]}}))}))}function dv(e){return J(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return Y(this,(function(c){switch(c.label){case 0:return t=hg(`apps`),n=`${t}/${e}/contextToken`,r=fh(),i={"Content-Type":`application/json`,Accept:`application/json`},r&&(i.Authorization=`Bearer ${r}`),[4,dg(n,{headers:i})];case 1:if(a=c.sent(),!(o=a.contextToken))throw $(Rp,`Can not get context from server.`);if(!(s=tv(o)))throw $(Rp,`Invalid context token.`);return[2,s]}}))}))}function fv(){return J(this,void 0,void 0,(function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:if(!(e=Lm().liffId))throw $(Rp,`Invalid LIFF ID.`);return[4,dv(e)];case 1:return t=n.sent(),Um(t),[2]}}))}))}function pv(e){return J(this,void 0,void 0,(function(){var t,n,r,i=this;return Y(this,(function(a){switch(a.label){case 0:t=function(){return J(i,void 0,void 0,(function(){var t,n,r,i,a,o;return Y(this,(function(s){switch(s.label){case 0:return[4,(c=Lm(),l=gm.parse(window.location.search),u=hh(),d={grant_type:`authorization_code`,client_id:l.liffClientId,appId:c.liffId,code:l.code,code_verifier:u.codeVerifier,redirect_uri:c.redirectUri||l.liffRedirectUri,id_token_key_type:`JWK`},f=gm.stringify(d),dg(hg(`token`),{method:`POST`,headers:{"Content-Type":`application/x-www-form-urlencoded;charset=UTF-8`},body:f}))];case 1:return t=s.sent(),n=t.access_token,r=t.id_token,i=t.expires_in,oh(e),ph(n),vh(new Date(Date.now()+1e3*i)),_h(),r?(dh(r),[4,ev(r,e)]):[3,3];case 2:(a=s.sent())&&Sh(a),s.label=3;case 3:return(o=gm.parse(location.hash).context_token)?(Um(tv(o)),[3,6]):[3,4];case 4:return[4,fv()];case 5:s.sent(),s.label=6;case 6:return[2]}var c,l,u,d,f}))}))},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t()];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),r=n,_h(),r;case 4:return[2]}}))}))}function mv(){return J(this,void 0,void 0,(function(){var e,t,n,r,i,a,o=this;return Y(this,(function(s){switch(s.label){case 0:return(t=i_())?[3,2]:[4,r_(xg.SUB)];case 1:t=s.sent(),s.label=2;case 2:return(e=t).isReady()?(n=ym(8),[4,e.getData(`appData`)]):[3,8];case 3:return r=s.sent(),i=r.eventName,a=r.data,i===yg.NOT_FOUND?[4,e.teardown()]:[3,6];case 4:return s.sent(),[4,mv()];case 5:return[2,s.sent()];case 6:a&&Xm(JSON.stringify(a)),s.label=7;case 7:return e.listen((function(t){return J(o,void 0,void 0,(function(){var r,i;return Y(this,(function(a){return r=t.context,i=r.data,r.eventName===Qp.INIT&&i?.subWindowId!==n&&Rg(),r.eventName!==Qp.CANCEL&&r.eventName!==Qp.SUBMIT||e.teardown(),[2]}))}))})),wh()&&e.send({eventName:Qp.INIT,data:{subWindowId:n,hasOpener:!!window.opener}}),[3,10];case 8:return c_()?[3,10]:[4,new Promise((function(e){window.addEventListener(`message`,function(e){return function t(n){var r=n.data,i=n.source,a=n.origin;if(r){var o=r.type,s=r.message;o===`healthCheck`&&(window.removeEventListener(`message`,t),s&&Xm(s),s_(a),i&&i.postMessage&&i.postMessage({status:`healthCheck`},a),e())}}}(e))}))];case 9:return[2,s.sent()];case 10:return[2]}}))}))}var hv=new(function(){function e(){var e=this;this.getAndValidateContext=function(){var e=Hm();if(!e)throw $(Rp,`Could not get Context from server.`);if(!e.endpointUrl)throw $(Rp,`Could not get endpointUrl from server.`);if(!e.permanentLinkPattern)throw $(Rp,`Could not get permanentLinkPattern from server.`);return e},this.decodeState=function(t){var n=e.getAndValidateContext();t=t.replace(/\n/g,`%0D%0A`);var r=e.hasTrailingSlash(n.endpointUrl)||e.hasTrailingSlash(t),i=new URL(n.endpointUrl),a=i.origin,o=i.pathname,s=i.search,c=new URL(`${a}${e.attachSlashAtStart(t)}`),l=c.pathname,u=c.search,d=c.hash,f=`${s}${s?u.replace(/\?/g,`&`):u}`,p=`${o}${e.attachSlashAtStart(l)}`.replace(`//`,`/`);return(p=e.attachSlashAtStart(`${p}`)).endsWith(`/`)&&!r&&(p=p.substring(0,p.length-1)),`${a}${p}${f}${d}`.replace(/%0D%0A/g,`
`)}}return e.prototype.attachSlashAtStart=function(e){return`${e&&e.length>0&&!e.startsWith(`/`)?`/`:``}${e}`},e.prototype.hasTrailingSlash=function(e){var t=e.indexOf(`?`),n=e.indexOf(`#`),r=-1;return(r=t===-1&&n===-1?e.length:t===-1?n:n===-1?t:Math.min(t,n))>0&&e[r-1]===`/`},e.prototype.invoke=function(){return J(this,void 0,void 0,(function(){var e,t,n,r,i;return Y(this,(function(a){switch(a.label){case 0:if(e=gm.parse(window.location.search),typeof(t=e[`liff.state`])!=`string`)return[2];a.label=1;case 1:return a.trys.push([1,4,,5]),n=location.href,(r=this.decodeState(t))===n?[3,3]:(e[`liff.hback`]?location.replace(Cm(r,{"liff.hback":e[`liff.hback`]})):location.replace(r),[4,new Promise((function(){}))]);case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if((i=a.sent()).code===`INIT_FAILED`)throw i;return Z.debug(i),[3,5];case 5:return[2]}}))}))},e}());function gv(e,t){return J(this,void 0,void 0,(function(){var n,r;return Y(this,(function(i){switch(i.label){case 0:if(!e.liffId)throw $(Bp,`liffId is necessary for liff.init()`);return Rm(e),!Im()&&wh()&&(yh()||Qh()),n=gm.parse(window.location.search),!kh()||Im()?[3,2]:[4,mv()];case 1:i.sent(),i.label=2;case 2:if(n.error&&n.liffOAuth2Error)throw s=n.error,c=n.error_description,l=c.replace(/\+/g,` `),u=`${s}: ${l}`,$(Rp,u);return a=n.code,o=hh(),a&&!wh()&&o&&o.codeVerifier?[4,pv(n.liffClientId)]:[3,4];case 3:i.sent(),i.label=4;case 4:return Im()?[4,uv(e)]:[3,6];case 5:return i.sent(),[3,8];case 6:return wh()?[3,8]:[4,fv()];case 7:i.sent(),i.label=8;case 8:return[4,hv.invoke()];case 9:if(i.sent(),r=Hm())try{sg(location.href,r.endpointUrl)}catch{Z.warn(`liff.init() was called with a current URL that is not related to the endpoint URL.
${location.href} is not under ${r.endpointUrl}`)}return[4,t()];case 10:return i.sent(),Sm(window.location.href),[2]}var a,o,s,c,l,u}))}))}var _v=function(e,t){return new Promise((function(n,r){if(e){var i=document.createElement(`script`);i.type=`module`,i.onload=function(){n()},i.src=e,document.head.appendChild(i)}else r($(Bp,t))}))},vv=function(e){var t=`https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js`;return t&&e&&(t=t.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/,e)),_v(t,`LUI_ALERT_URL is not defined`)},yv=function(){return J(void 0,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return e=function(){var e=document.querySelector(`script[src*="luivendor.js"]`);if(e&&e.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)?.length)return e.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0]}(),e?[3,2]:[4,_v(`https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js`,`LUI_VENDOR_URL is not defined`)];case 1:t.sent(),t.label=2;case 2:return[4,vv(e)];case 3:return t.sent(),[4,(n=ym(6),new Promise((function(){var e=document.createElement(`div`);e.innerHTML=`<lui-alert id="liffAlert-${n}" shown title="${H_(`alert.android.extBrowser.autoLoginWorkaround.title`)}" message="${H_(`alert.android.extBrowser.autoLoginWorkaround.desc`)}" button="${H_(`alert.android.extBrowser.autoLoginWorkaround.button.text`)}"></lui-alert>`,document.body.appendChild(e);var t=document.getElementById(`liffAlert-${n}`);t&&t.addEventListener(`lui-button-click`,(function(){var e=window.open(Cm(window.location.href,{liffIsEscapedFromApp:`true`}),`_blank`);e&&(e.location.href=Cm(window.location.href,{liffIsEscapedFromApp:`true`}),window.close())}))})))];case 4:return t.sent(),[2]}var n}))}))},bv=function(e){try{return new URL(e).searchParams.get(`lineAppVersion`)}catch{return null}};function xv(){return J(this,void 0,void 0,(function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:return e=bv(window.location.href)??bv(window.document.referrer),e&&im(e,`13.10.0`)>=0||Im()||Mh()!==`android`||(t=gm.parse(window.location.search))[`liff.subwindow.identifier`]||t.liffIsEscapedFromApp?[2]:t.liffClientId&&document.referrer.includes(`access.line.me`)?(window.location.href=Cm(window.location.href,{liffIsEscapedFromApp:`true`}),[2]):t.liffClientId&&document.referrer.includes(`android-app://`)?[4,yv()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.liffClientId&&document.referrer===``&&window.history.length===1?[4,yv()]:[3,4];case 3:n.sent(),n.label=4;case 4:return!document.referrer.includes(`liffClientId`)||document.referrer.includes(`liffIsEscapedFromApp`)?[3,6]:[4,yv()];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))}var Sv=function(e){function t(){var t=e.apply(this,wp([],X(arguments),!1))||this;return t.hooks={before:new F_,after:new F_},t.internalHooks={beforeFinished:new F_,beforeSuccess:new F_,error:new F_},t}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`init`},enumerable:!1,configurable:!0}),t.prototype.install=function(e){return this.liffForWindow=e.liff,this.init.bind(this)},t.prototype.init=function(e,t,n){return J(this,void 0,void 0,(function(){var r;return Y(this,(function(i){switch(i.label){case 0:return[4,this.hooks.before.call()];case 1:i.sent(),a=this.liffForWindow,window&&!window.liff&&(window.liff=a),i.label=2;case 2:return i.trys.push([2,9,,11]),[4,Promise.all([Z_(this.liffForWindow),gv(e,this.internalHooks.beforeFinished.call)])];case 3:return i.sent(),K_(),[4,this.internalHooks.beforeSuccess.call()];case 4:return i.sent(),!e.withLoginOnExternalBrowser||wh()?[3,6]:(I_(),[4,new Promise((function(){}))]);case 5:i.sent(),i.label=6;case 6:return[4,xv()];case 7:return i.sent(),[4,this.hooks.after.call()];case 8:return i.sent(),typeof t==`function`&&t(),Np(),[3,11];case 9:return r=i.sent(),[4,this.internalHooks.error.call(r)];case 10:throw i.sent(),typeof n==`function`&&n(r),r;case 11:return[2]}var a}))}))},t}(Q);function Cv(){return{liffApp:`https://liff.line.me`,liffServer:`https://api.line.me`,miniApp:`https://miniapp.line.me`}}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getOrigins`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Cv()}},t})(Q);function wv(){return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getLanguage`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return wv()}},t})(Q);function Tv(){var e=Ah();if(!e||!Im()||Mh()!==`ios`)return navigator.language;if(im(e,`14.11.0`)>=0){var t=window.prompt(`LIFF:GET_APP_LANGUAGE`);if(t)return t}return navigator.language}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getAppLanguage`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(){return Tv()}},t})(Q);function Ev(e){return J(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return Y(this,(function(c){switch(c.label){case 0:return function(e){if(!tm.includes(e))throw $(`INVALID_ARGUMENT`,`Unexpected permission name.`);return!!Hm()?.scope.includes(e)}(e)?(t=fh())?[4,gg(t)]:[3,2]:[2,{state:`unavailable`}];case 1:n=c.sent(),r=unescape(n.scope).split(` `);try{for(i=Cp(r),a=i.next();!a.done;a=i.next())if(a.value.includes(e))return[2,{state:`granted`}]}catch(e){o={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}return[2,{state:`prompt`}];case 2:throw $(Ip,`Need access_token for api call, Please login first`)}}))}))}function Dv(){var e=Hm();return!!e&&e.type!==`square_chat`&&(Bh(`skipChannelVerificationScreen`)||!Im()&&e.availability?.skipChannelVerificationScreen?.permission)}function Ov(){var e=Lm().liffId;if(e)return dg(`${hg(`unauthorizedPermissions`)}?liffId=${e}`,{headers:{"Content-Type":`application/json`,Accept:`application/json`,Authorization:`Bearer ${fh()}`}});throw $(Ip,`liffId is required`)}var kv,Av=M_.on,jv=M_.off,Mv=M_.open,Nv=function(){function e(e,t){var n=this;this.onSubmit=function(e){return J(n,[e],void 0,(function(e){var t=e.newAccessToken,n=e.ICA_ERROR;return Y(this,(function(e){return t?this.resolve({newAccessToken:t}):n&&this.reject($(`UNKNOWN`,n)),this.teardown(),[2]}))}))},this.onClose=function(){return J(n,void 0,void 0,(function(){return Y(this,(function(e){return this.reject($(Ip,`user didn't allow the agreement`)),this.teardown(),[2]}))}))},this.onCancel=function(){return J(n,void 0,void 0,(function(){return Y(this,(function(e){return this.reject($(Ip,`user didn't allow the agreement`)),this.teardown(),[2]}))}))},this.onError=function(e){return J(n,void 0,void 0,(function(){return Y(this,(function(t){return this.reject(e),this.teardown(),[2]}))}))},this.resolve=e,this.reject=t,this.setup()}return e.prototype.setup=function(){Av(`submit`,this.onSubmit),Av(`close`,this.onClose),Av(`cancel`,this.onCancel),Av(`error`,this.onError)},e.prototype.teardown=function(){jv(`submit`,this.onSubmit),jv(`close`,this.onClose),jv(`cancel`,this.onCancel),jv(`error`,this.onError),kv=void 0},e.prototype.open=function(e){var t=Lm().liffId;t?Mv({url:`https://liff.line.me/1656032314-Xgrw5Pmk`,appData:{liffId:t,channelId:fm(t),accessToken:fh()},onBeforeTransition:e}).catch(this.reject):this.reject($(Ip,`liffId is required`))},e}();function Pv(){return J(this,void 0,void 0,(function(){var e,t,n=this;return Y(this,(function(r){switch(r.label){case 0:if(!Dv())throw $(zp,`SkipChannelVerificationScreen is unavailable.`);return kv&&kv.teardown(),e=function(){return J(n,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return[4,Ov()];case 1:if(e=t.sent(),(Im()?e:e.filter((function(e){return e!==`chat_message.write`}))).length<=0)throw $(zp,`All permissions have already been approved.`);return[2]}}))}))},[4,new Promise((function(t,n){(kv=new Nv(t,n)).open(e)}))];case 1:return t=r.sent().newAccessToken,ph(t),[2]}}))}))}function Fv(){return J(this,void 0,void 0,(function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:if(!(e=fh()))throw $(Ip,`Need access_token for api call, Please login first`);return[4,gg(e)];case 1:return t=n.sent(),[2,decodeURIComponent(t.scope).split(` `).filter((function(e){return e!==``}))]}}))}))}function Iv(e,t){var n=this;return function(){var r=[...arguments];return J(n,void 0,void 0,(function(){var n,i,a;return Y(this,(function(o){switch(o.label){case 0:return n=(r.length>0?r[r.length-1]:{}).ignorePermissionCheck,i=n!==void 0&&n,[4,Ev(t)];case 1:if((a=o.sent().state)!==`unavailable`)return[3,2];throw $(zp,`The permission is not in LIFF app scope.`);case 2:return a!==`prompt`||!Dv()||i||!Im()&&t===`chat_message.write`?[3,4]:[4,Pv()];case 3:return o.sent(),[3,5];case 4:i&&r.pop(),o.label=5;case 5:return[4,e.apply(void 0,wp([],X(r),!1))];case 6:return[2,o.sent()]}}))}))}}var Lv=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`permission`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return{query:Ev,requestAll:Pv,getGrantedAll:Fv}},t}(Q));function Rv(){return dg(hg(`profile`))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getProfile`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return Iv(Rv,`profile`)},t})(Q);var zv=function(e,t){return e?`&${e.split(`&`).filter((function(e){return e.indexOf(`is_liff_external_open_window`)===-1})).join(`&`).concat(`${t?`#${t}`:``}`)}`:`${t?`#${t}`:``}`};function Bv(e){if(!function(e){if(!e||typeof e!=`object`)return!1;var t=e,n=t.url,r=t.external,i=X([typeof n,typeof r],2),a=i[0],o=i[1];return a===`string`&&n!==``&&(o===`undefined`||o===`boolean`)}(e))throw $(Lp,`Invalid parameters for liff.openWindow()`);var t=Ah();if(Im())if(t!==null&&Mh()===`ios`&&im(t,`9.19`)>=0||!window._liff.postMessage){var n=e.url,r=e.external,i=r!==void 0&&r;window.open(function(e,t){var n,r,i,a,o,s,c,l,u;(function(e){return e.indexOf(`#`)!==-1&&e.indexOf(`?`)!==-1&&e.indexOf(`#`)<e.indexOf(`?`)})(e)||function(e){return e.indexOf(`?`)===-1&&e.indexOf(`#`)!==-1}(e)?(c=(n=X(e.split(`#`),2))[0],r=n[1],l=(i=X((r===void 0?``:r).split(`?`),2))[0],u=i[1]):(c=(a=X(e.split(`?`),2))[0],o=a[1],u=(s=X((o===void 0?``:o).split(`#`),2))[0],l=s[1]);var d=zv(u,l);return`${c}?is_liff_external_open_window=${!!t}${d}`}(n,i))}else Lg(`openWindow`,e);else window.open(e.url,`_blank`)}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`openWindow`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return Bv(e)}},t})(Q);var Vv=function(e){return typeof e==`object`&&!!e&&function(e){return typeof e==`string`||e instanceof String}(e.type)};function Hv(e){return Promise.reject($(Lp,e))}function Uv(e){if(!function(e){return Array.isArray(e)&&e.every(Vv)}(e))return Hv(`Parameter 'messages' must be an array of { type, ... }`);var t=e.length;return t<1||t>5?Hv(`Number of messages should be in range 1 to 5.`):dg(hg(`message`),{method:`POST`,body:JSON.stringify({messages:e})}).catch(Wv)}var Wv=function(e){if(e.code===`403`){var t=Ah()===`12.0.0`,n=Mh()===`ios`,r=Am();t&&(n||r)&&window.alert(`LINELINE 12.0.1
Please update your LINE app to LINE 12.0.1 or later.`)}throw e};(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`sendMessages`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return Iv(Uv,`chat_message.write`)},t})(Q);function Gv(){return dg(hg(`friendship`))}(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`getFriendship`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return Iv(Gv,`profile`)},t})(Q);function Kv(){return J(this,void 0,void 0,(function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:if(!wh())return[3,6];n.label=1;case 1:return n.trys.push([1,5,,6]),(e=xh())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,Rv()];case 3:if((t=n.sent())&&t.userId)return[2,t.userId];n.label=4;case 4:return[3,6];case 5:return n.sent(),Z.debug(`can't retrieve Mid/Uid because of something wrong`),[3,6];case 6:return[2]}}))}))}function qv(){return J(this,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return[4,Kv()];case 1:return(e=t.sent())&&e.substring(0,1)===`u`?[2,e]:[2]}}))}))}var Jv=function(e){function t(){var t=e.apply(this,wp([],X(arguments),!1))||this;return t.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:``,version:``},t.injected=!1,t}return q(t,e),Object.defineProperty(t,`CUSTOMPLACEID_INIT`,{get:function(){return`liff.init`},enumerable:!1,configurable:!0}),Object.defineProperty(t,`CUSTOMTYPE`,{get:function(){return`liffSdk`},enumerable:!1,configurable:!0}),Object.defineProperty(t,`LiffUtsLoginStatus`,{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`name`,{get:function(){return`analytics`},enumerable:!1,configurable:!0}),t.prototype.install=function(e){var t=e.liff,n=e.internalHooks;this.liffCore=t,n.init.beforeFinished(this.beforeInitFinished.bind(this)),n.init.beforeSuccess(this.beforeInitSuccess.bind(this)),n.init.error(this.initError.bind(this))},t.prototype.createDeprecatedUtsProxy=function(e){var t=`LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions.`;return new Proxy(e,{get:function(e,n){var r=e[n];return typeof r==`function`?function(){var i=[...arguments];return Z.warn(`[LIFF Analytics] ${t} Called method: ${String(n)}`),r.apply(e,i)}:r}})},t.prototype.changeRatioToUTSFormat=function(e){if(e&&Number.isFinite(e))return Math.round(100*e)},t.prototype.setExtra=function(){var e,n=this.utsExtra,r=n.isLiffSuccessful,i=n.isLoggedIn,a=n.id,o=n.version,s=(i?t.LiffUtsLoginStatus.isLoggedIn:0)|(r?t.LiffUtsLoginStatus.isLiffSuccessful:0);(e=this.uts)==null||e.setExtra(`liff`,{id:a,loginStatus:s,version:o})},t.prototype.assignUtsExtra=function(e){Object.assign(this.utsExtra,e)},t.prototype.setVersion=function(e){this.assignUtsExtra({version:e}),Z.debug(`[LIFFUTS][SDK version] ${e}`),this.setExtra()},t.prototype.setLiffId=function(e){this.assignUtsExtra({id:e}),Z.debug(`[LIFFUTS][LIFFID] ${e}`),this.setExtra()},t.prototype.setIsLoggedIn=function(e){this.assignUtsExtra({isLoggedIn:e}),Z.debug(`[LIFFUTS][isLoggedIn] ${e}`),this.setExtra()},t.prototype.sendLiffInit=function(){var e;Z.debug(`[LIFFUTS][sendCustom] liff.init`),(e=this.uts)==null||e.sendCustom({type:t.CUSTOMTYPE,params:{placeId:t.CUSTOMPLACEID_INIT}})},t.prototype.setIsLiffSuccessful=function(e){this.assignUtsExtra({isLiffSuccessful:e}),Z.debug(`[LIFFUTS][isLiffInitSuccessful] ${e}`),this.setExtra()},t.prototype.prepareReferrer=function(e){var t={};Object.keys(e).forEach((function(n){if(Xp.includes(n)){var r=e[n];typeof r==`string`&&r&&(t[n.replace(/^liff\.ref\./,``)]=r)}})),Object.keys(t).length>0&&(this.referrer=t)},t.prototype.beforeInitFinished=function(){return J(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,c,l,u,d;return Y(this,(function(f){switch(f.label){case 0:if(e=gm.parse(window.location.search),this.prepareReferrer(e),t=Hm(),!(n=t?.utsTracking))return[2];if(r=Lm(),i=r.liffId,a=r.analytics,n.mode!==`auto`||!a)return[3,6];Z.warn(`[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions.`),Z.debug(`[LIFFUTS] ${new Date().toUTCString()}`),f.label=1;case 1:return f.trys.push([1,3,,4]),o=this,[4,new Promise((function(e,t){var n=window.uts,r=document.createElement(`script`);r.type=`text/javascript`,r.src=`https://static.line-scdn.net/uts/edge/4.1.0/uts.js`,r.onload=function(){var t=window.uts;e(t),window.uts=n},r.onerror=function(e){t(e)},document.getElementsByTagName(`head`)[0].appendChild(r)}))];case 2:return o.uts=f.sent(),[3,4];case 3:return s=f.sent(),Z.debug(`[LIFFUTS] cannot load UTS, reason: ${s}`),[2];case 4:return c=Sp(Sp({},a.context),{utsId:a.context.utsId,appName:a.context.appName,appEnv:a.context.appEnv||`release`}),l=Sp(Sp({endpoint:`https://uts-front.line-apps.com`},a.options),{sampleRate:this.changeRatioToUTSFormat(n.sendRatio),version:`current`}),this.uts.init(c,l),[4,qv()];case 5:(u=f.sent())&&(Z.debug(`[LIFFUTS][mid] ${u}`),this.uts.setMid(u)),t!=null&&t.tid&&(Z.debug(`[LIFFUTS][tid] ${t.tid}`),this.uts.setTid(t.tid)),this.referrer&&(Z.debug(`liff.ref.referrer`,this.referrer),this.uts.setSessionParams(this.referrer)),i&&this.setLiffId(i),this.setIsLoggedIn(wh()),this.setVersion(Th()),d=bm(location.href),Z.debug(`[LIFFUTS][url] ${d}`),this.uts.setUrl(d),this.liffCore.analytics=this.createDeprecatedUtsProxy(this.uts),this.injected=!0,f.label=6;case 6:return[2]}}))}))},t.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},t.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},t}(Q),Yv=function(e){Z.warn(`[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions. Called function: sendShareTargetPicker`),Z.debug(`[LIFFUTS][sendCustom] liff.shareTargetPicker`),e.sendCustom({type:`liffSdk`,params:{placeId:`liff.shareTargetPicker`}})},Xv,Zv=function(){function e(e,t){var n=this;this.resolve=e,this.reject=t,this.onSubmit=function(e){var t=e.message;n.resolve({value:t}),n.destroy()},this.onClose=function(){n.resolve({value:null}),n.destroy()},this.onCancel=function(){n.resolve({value:null}),n.destroy()},this.onError=function(e){n.reject(e),n.destroy()},this.start()}return e.prototype.start=function(){M_.on(`submit`,this.onSubmit),M_.on(`close`,this.onClose),M_.on(`cancel`,this.onCancel),M_.on(`error`,this.onError)},e.prototype.destroy=function(){M_.off(`submit`,this.onSubmit),M_.off(`close`,this.onClose),M_.off(`cancel`,this.onCancel),M_.off(`error`,this.onError),Xv=void 0},e}();function Qv(){return J(this,void 0,void 0,(function(){return Y(this,(function(e){return zh.scanCodeV2(),Xv&&Xv.destroy(),[2,new Promise((function(e,t){Xv=new Zv(e,t),M_.open({url:`https://liff.line.me/1656359117-jxmx5e11`}).catch((function(e){Xv?.destroy(),t(e)}))}))]}))}))}var $v=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`scanCodeV2`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return Qv},t}(Q)),ey={};function ty(){return ey}function ny(e,t){var n=ty(),r=X(t.split(`.`),1)[0],i=n[t];i&&e.removeEventListener(r,i),n[t]=null}var ry=!1,iy=!1;function ay(e,t,n,r){ry||=(iy=function(){var e=!1;try{var t=Object.defineProperty({},`passive`,{get:function(){return e=!0,!1}});window.addEventListener(`test`,t,t),window.removeEventListener(`test`,t,t)}catch{e=!1}return e}(),!0);var i=X(t.split(`.`),1)[0];return new Promise((function(a){var o=function(i){a(i),n&&n(i),r&&r.once&&ny(e,t)};(function(e,t){ey[e]=t})(t,o),e.addEventListener(i,o,!!iy&&r)}))}function oy(e,t,n,r){if(n===void 0&&(n={}),typeof e!=`object`||!e.postMessage)throw $(Lp,`target must be window object`);if(typeof t!=`string`)throw $(Lp,`keyname must be string`);if(typeof n!=`object`)throw $(Lp,`incorrect body format. It should be Object or Array comprised of Object`);if(!r)throw $(Lp,`serverEndPointUrl isn't passed. please fill up with proper url`);if(r===`*`)throw Error(`serverEndPointUrl doesn't allow to set '*'`);var i={name:t,body:n};e.postMessage(i,r)}function sy(e,t,n,r){ay(e,`message.${t}`,function(e,t,n){return function(r){Z.debug(`messageReceive`,r),r.origin===n&&r.data.name===e&&t(r)}}(t,n,r))}var cy=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(e){return J(this,void 0,void 0,(function(){var t,n;return Y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.liffId=e.referrer.liffId,this.doesWaitForSubwindowResult=!(!e.options||!e.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(e),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return r.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return t=r.sent(),this.finalize(),[2,t];case 3:case 6:return[2];case 4:return[3,6];case 5:if(n=r.sent(),this.finalize(),n.name!==`AbortError`)throw n;return[3,6]}}))}))},e.prototype.resetAllVariables=function(){this.liffId=``,this.allowPostMessageOrigin=``,this.payloadToShareTargetPicker=null,this.ott=``,this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var e,t;this.abortController&&this.abortController.abort(),Im()||(e=this.timeoutIDForHealthCheck,t=this.popupWindow,ny(window,`message.receivedHealthcheck`),e&&clearTimeout(e),t&&!t.closed&&t.close())},e.prototype.buildPayloadToShareTargetPicker=function(e){return{messages:e.messages,isMultiple:e.isMultiple,referrer:e.referrer}},e.prototype.initAllowPostMessageOrigin=function(e){return e===void 0&&(e=hg(`shareTargetPicker`)),Om(e)},e.prototype.initOtt=function(){return J(this,void 0,void 0,(function(){var e,t,n;return Y(this,(function(r){switch(r.label){case 0:return this.abortController&&(e=this.abortController.signal),t=`${hg(`shareTargetPickerOtt`)}/${this.liffId}/ott`,n=this,[4,dg(t,{method:`GET`,signal:e}).then((function(e){return e.ott}))];case 1:return n.ott=r.sent(),[2]}}))}))},e.prototype.prepareAnotherWindow=function(){Im()||(Mh()!==`ios`||Am()?this.popupWindow=window.open(``,`liffpopup`,`width=480, height=640, menubar=no, toolbar=no, scrollbars=yes`):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if(Im()&&this.payloadToShareTargetPicker)e=this.liffId,t=this.ott,n=this.payloadToShareTargetPicker,r={liffId:e,ott:t,data:JSON.stringify(n),closeModals:!1},location.href=`line://picker?${gm.stringify(r)}`;else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw $(Hp);(function(e,t,n){var r={liffId:t,ott:n};e.location.href=`${hg(`shareTargetPicker`)}?${gm.stringify(r)}`})(this.popupWindow,this.liffId,this.ott)}var e,t,n,r},e.prototype.initListener=function(){var e,t;Im()||(e=this.onReceivedHealthcheck.bind(this),t=this.allowPostMessageOrigin,sy(window,`receivedHealthcheck`,e,t))},e.prototype.healthCheck=function(){return J(this,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.internalError=e,[3,4];case 4:return[3,6];case 5:this.finalize(),t.label=6;case 6:return[3,8];case 7:n=this.popupWindow,r=this.allowPostMessageOrigin,oy(n,`healthcheck`,void 0,r),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),t.label=8;case 8:return[2]}var n,r}))}))},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw $(Hp);var e=this.popupWindow,t=this.payloadToShareTargetPicker,n=this.allowPostMessageOrigin;oy(e,`ready`,t,n)},e.prototype.onCanceled=function(){return J(this,void 0,void 0,(function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:if(Im()||!this.ott)throw Error(`need to call with ott in client`);return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},[4,dg(`${hg(`shareTargetPickerResult`)}?${gm.stringify(t)}`,{method:`POST`,signal:e,headers:{Accept:`application/json`,"Content-Type":`application/x-www-form-urlencoded`},body:`result=CANCEL`})];case 1:return[2,n.sent().status===`ok`]}}))}))},e.prototype.getShareResult=function(){return J(this,void 0,void 0,(function(){var e,t;return Y(this,(function(n){if(!this.ott)throw Error(`need to call with ott in client`);return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},Z.debug(`fetch: getShareResult`),[2,dg(`${hg(`shareTargetPickerResult`)}?${gm.stringify(t)}`,{method:`GET`,headers:{Accept:`application/json`},signal:e})]}))}))},e.isPollingTimeOut=function(e,t){return(t-e)/6e4>=10},e.prototype.pollingShareResult=function(){return J(this,void 0,void 0,(function(){var t,n;return Y(this,(function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((n=r.sent())&&n.result)switch(n.result){case`SUCCESS`:return[2,{status:`success`}];case`CANCEL`:return[2];default:throw Error(n.resultDescription)}return[4,new Promise((function(e){setTimeout(e,500)}))];case 3:return r.sent(),[3,1];case 4:throw Error(`Timeout: not finished within 10min`)}}))}))},e}(),ly=new(function(e){function t(){var t=e.apply(this,wp([],X(arguments),!1))||this;return t.shareTargetPicker=function(e){var n=[...arguments].slice(1);return J(t,wp([e],X(n),!1),void 0,(function(e,t){var n,r,i,a,o,s,c;return t===void 0&&(t={}),Y(this,(function(l){switch(l.label){case 0:if(zh.shareTargetPicker(),!e||!Array.isArray(e)||e.length===0)throw $(Lp,`no proper argument`);if(e.length>5)throw $(Lp,`exceed the limit of num of messages`);if(!(n=Lm().liffId))throw $(Bp);window.liff&&(r=window.liff).analytics&&Yv(r.analytics),i=t.isMultiple===void 0||t.isMultiple,l.label=1;case 1:return l.trys.push([1,3,,4]),a=cy.getInstance(),o=Ah(),s={waitForSubwindowResult:!0},Im()&&o&&im(o,`10.11.0`)<0&&(s.waitForSubwindowResult=!1),[4,a.init({messages:e,isMultiple:i,referrer:{liffId:n,url:location.origin},options:s})];case 2:return[2,l.sent()];case 3:throw(c=l.sent())instanceof dm?c:$(Up,c.message);case 4:return[2]}}))}))},t}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`shareTargetPicker`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return this.shareTargetPicker},t}(Q));function uy(e,t){return J(this,void 0,void 0,(function(){var n,r;return Y(this,(function(i){switch(i.label){case 0:return n=hg(`createShortcutOnHomeScreen`),(r=new URL(n)).searchParams.append(`liffId`,e),r.searchParams.append(`url`,t.url),t.description&&r.searchParams.append(`description`,t.description),[4,dg(r.toString())];case 1:return[2,i.sent().shortcutPageUrl]}}))}))}function dy(e){if(km(e))throw $(Lp,`LINE URL scheme are not supported in the current environment.`)}function fy(e,t){return J(this,void 0,void 0,(function(){var n;return Y(this,(function(r){switch(r.label){case 0:return Im()?[2]:[4,new Promise((function(e){setTimeout(e,1e3)}))];case 1:return r.sent(),document.visibilityState===`hidden`?[2]:(dy(t.url),[4,uy(e,t)]);case 2:return n=r.sent(),Bv({url:n,external:!0}),[2]}}))}))}function py(e,t){return J(this,void 0,void 0,(function(){var n,r;return Y(this,(function(i){switch(i.label){case 0:return n={liffId:e,targetUrl:t.url,description:t.description},r=`line://shortcut/liff?${gm.stringify(n)}`,location.href=r,[4,fy(e,t)];case 1:return i.sent(),[2]}}))}))}function my(e,t){return J(this,void 0,void 0,(function(){var n;return Y(this,(function(r){switch(r.label){case 0:return dy(t.url),[4,uy(e,t)];case 1:return n=r.sent(),Bv({url:n,external:!0}),[2]}}))}))}function hy(e){if(e.url===void 0||e.url===null||e.url===``)throw $(Lp,`no proper argument`);var t=Hm();if(!t?.availability.addToHomeLineScheme?.permission){if(km(e.url))throw $(zp,`No permission to specify line schema in url.`);if(e.description)throw $(zp,`No permission to specify description.`)}if(!km(e.url)){if(!t)throw $(zp,`Could not get Context from server.`);t.liffId!==Em(e.url)&&sg(e.url,t.endpointUrl)}}function gy(e){return J(this,void 0,void 0,(function(){return Y(this,(function(t){switch(t.label){case 0:return hy(e),zh.internalCreateShortcutOnHomeScreen(),[4,vy(e)];case 1:return t.sent(),[2]}}))}))}function _y(e){return J(this,void 0,void 0,(function(){return Y(this,(function(t){switch(t.label){case 0:return hy(e),zh.createShortcutOnHomeScreen(),[4,vy(e)];case 1:return t.sent(),[2]}}))}))}function vy(e){return J(this,void 0,void 0,(function(){var t;return Y(this,(function(n){switch(n.label){case 0:if(!(t=Lm().liffId))throw $(Rp,`Invalid LIFF ID.`);return Mh()===`ios`?[4,my(t,e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,py(t,e)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}var yy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`createShortcutOnHomeScreen`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return _y(e)}},t}(Q),by=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`internalCreateShortcutOnHomeScreen`},enumerable:!1,configurable:!0}),t.prototype.install=function(){return function(e){return gy(e)}},t}(Q);function xy(e){return J(this,arguments,void 0,(function(e){var t=e.productIds;return Y(this,(function(e){switch(e.label){case 0:return[4,Lg(`iap.getPlatformProducts`,{productIds:t}).catch((function(e){throw e.code&&e.description?$(e.code,e.description):$(Fp,`Failed to get platform products`,{cause:e})}))];case 1:return[2,e.sent().products]}}))}))}var Sy=function(e){return J(void 0,[e],void 0,(function(e){var t=e.productId,n=e.orderId;return Y(this,(function(e){switch(e.label){case 0:if(!window.confirm(`Proceed with a test in-app purchase?`))throw $(`CANCELED`,`Transaction was canceled.`);return[4,dg(hg(`iapVirtualConfirm`),{method:`POST`,body:JSON.stringify({productId:t,orderId:n})})];case 1:return e.sent(),[2]}}))}))},Cy=function(e){return J(void 0,[e],void 0,(function(e){var t=e.productId,n=e.orderId;return Y(this,(function(e){switch(e.label){case 0:return Hm()?.isIapSandbox?[4,Sy({productId:t,orderId:n})]:[3,2];case 1:case 3:return e.sent(),[2];case 2:return[4,Lg(`iap.createPayment`,{productId:t,orderId:n}).catch((function(e){throw e.code&&e.description?$(e.code,e.description):$(Fp,`Failed to get platform products`,{cause:e})}))]}}))}))},wy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return q(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return`iap`},enumerable:!1,configurable:!0}),t.prototype.install=function(){var e=this;return{getPlatformProducts:function(){var t=[...arguments];return J(e,void 0,void 0,(function(){return Y(this,(function(e){return zh.iap(),[2,xy.apply(void 0,wp([],X(t),!1))]}))}))},createPayment:function(){var t=[...arguments];return J(e,void 0,void 0,(function(){return Y(this,(function(e){return zh.iap(),[2,Cy.apply(void 0,wp([],X(t),!1))]}))}))},requestConsentAgreement:function(){return J(e,void 0,void 0,(function(){return Y(this,(function(e){return zh.iap(),[2,J(void 0,void 0,void 0,(function(){return Y(this,(function(e){switch(e.label){case 0:return[4,Lg(`iap.requestConsentAgreement`).catch((function(e){throw e.code&&e.description?$(e.code,e.description):$(Fp,`Failed to request consent agreement`,{cause:e})}))];case 1:return e.sent(),[2]}}))}))]}))}))}}},t}(Q),Ty=Object.defineProperties({},{getOS:{value:Mh,enumerable:!0,writable:!0},getVersion:{value:Th,enumerable:!0,writable:!0},getLanguage:{value:wv,enumerable:!0,writable:!0},getAppLanguage:{value:Tv,enumerable:!0,writable:!0},getOrigins:{value:Cv,enumerable:!0,writable:!0},isInClient:{value:Im,enumerable:!0,writable:!0},isLoggedIn:{value:wh,enumerable:!0,writable:!0},logout:{value:Qh,enumerable:!0,writable:!0},getAccessToken:{value:fh,enumerable:!0,writable:!0},getIDToken:{value:uh,enumerable:!0,writable:!0},getDecodedIDToken:{value:xh,enumerable:!0,writable:!0},getContext:{value:Hm,enumerable:!0,writable:!0},openWindow:{value:Bv,enumerable:!0,writable:!0},closeWindow:{value:Rg,enumerable:!0,writable:!0},getFriendship:{value:Iv(Gv,`profile`),enumerable:!0,writable:!0},getAId:{value:Wm,enumerable:!0,writable:!0},getProfilePlus:{value:Km,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:Gm,enumerable:!0,writable:!0},getLineVersion:{value:Ah,enumerable:!0,writable:!0},isApiAvailable:{value:Bh,enumerable:!0,writable:!0},getProfile:{value:Iv(Rv,`profile`),enumerable:!0,writable:!0},sendMessages:{value:Iv(Uv,`chat_message.write`),enumerable:!0,writable:!0},subWindow:{value:M_,enumerable:!0,writable:!0},ready:{value:Pp,enumerable:!0,writable:!0},id:{get:function(){return Lm().liffId||null},enumerable:!0},_dispatchEvent:{value:Fg,enumerable:!0,writable:!0},_call:{value:Lg,enumerable:!0,writable:!0},_addListener:{value:Ng,enumerable:!0,writable:!0},_removeListener:{value:Pg,enumerable:!0,writable:!0},_postMessage:{value:Ig,enumerable:!0,writable:!0}}),Ey=new Ap,Dy=new kp(Ey,Ty),Oy=new Mp(Ey,Dy).install();function ky(e){Oy.call(Ty,e)}[new Mp(Ey,Dy),new L_,new Sv,new Jv,$v,cg,Oh,Lv,ly,U_,new Yh,new yy,new by,new wy].forEach(ky);var Ay=Ty,jy=`travelApp_user`,My=`2008524619-nNEm12dA`;function Ny(){let[e,t]=(0,_.useState)(null),[n,r]=(0,_.useState)(!0),i=(0,_.useRef)(!1);return(0,_.useEffect)(()=>{i.current||(i.current=!0,(async()=>{try{if(await Ay.init({liffId:My}),Ay.isLoggedIn()){let e=await Ay.getProfile(),n={id:e.userId,name:e.displayName,avatar:e.pictureUrl||`https://api.dicebear.com/9.x/micah/svg?seed=Default`};t(n),localStorage.setItem(jy,JSON.stringify(n))}}catch(e){console.error(` LIFF Init Failed:`,e),window.location.search.includes(`code=`)&&(window.history.replaceState(null,``,window.location.pathname),window.location.reload())}finally{r(!1)}})())},[]),{user:e,isLoading:n,loginWithLine:()=>{Ay.isLoggedIn()||Ay.login()},updateProfile:e=>{t(e),localStorage.setItem(jy,JSON.stringify(e))},logout:()=>{Ay.logout(),localStorage.removeItem(jy),t(null),window.location.reload()}}}var Py={title:``,startDate:`TBD`,endDate:`TBD`,participants:Me};function Fy(){let{user:e}=Ny(),[t,n]=(0,_.useState)(Py),[r,i]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{if(!e?.id)return;i(!0);let t=Gf(Id(Yf,`trips`,e.id),e=>{e.exists()?n(e.data()):n(Py),i(!1)});return()=>t()},[e?.id]),{trip:t,saveTrip:async n=>{if(!e?.id){alert(`!`);return}try{let r=Id(Yf,`trips`,e.id),i=!t.createdAt;await Vf(r,{...n,updatedAt:Jf(),updatedByName:e.name,createdBy:e.id,...i&&{createdAt:Jf(),createdByName:e.name,createdBy:e.id},participants:t.participants},{merge:!0}),console.log(` Trip saved successfully!`)}catch(e){console.error(` Error saving trip:`,e),alert(`!`)}},isLoading:r}}function Iy(){let{user:e}=Ny(),[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{if(!e?.id)return;let t=Gf(Tf(Fd(Yf,`trips`,e.id,`activities`),kf(`time`,`asc`)),e=>{n(e.docs.map(e=>({id:e.id,...e.data()}))),i(!1)});return()=>t()},[e?.id]),{activities:t,isLoading:r,addActivity:async t=>{if(e?.id)try{await Wf(Fd(Yf,`trips`,e.id,`activities`),{...t,createdAt:Jf(),updatedAt:Jf(),createdBy:e.id,createdByName:e.name,updatedBy:e.id,updatedByName:e.name})}catch(e){console.error(`Error adding activity:`,e),alert(``)}},updateActivity:async(t,n)=>{if(e?.id)try{let r=Id(Yf,`trips`,e.id,`activities`,t),{id:i,createdAt:a,createdBy:o,createdByName:s,...c}=n;await Hf(r,{...c,updatedAt:Jf(),updatedBy:e.id,updatedByName:e.name})}catch(e){console.error(`Error updating activity:`,e),alert(``)}},deleteActivity:async t=>{if(e?.id)try{await Uf(Id(Yf,`trips`,e.id,`activities`,t))}catch(e){console.error(`Error deleting activity:`,e),alert(``)}}}}var Ly=m();function Ry(){var e=[...arguments];return(0,_.useMemo)(()=>t=>{e.forEach(e=>e(t))},e)}var zy=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function By(e){let t=Object.prototype.toString.call(e);return t===`[object Window]`||t===`[object global]`}function Vy(e){return`nodeType`in e}function Hy(e){return e?By(e)?e:Vy(e)?e.ownerDocument?.defaultView??window:window:window}function Uy(e){let{Document:t}=Hy(e);return e instanceof t}function Wy(e){return By(e)?!1:e instanceof Hy(e).HTMLElement}function Gy(e){return e instanceof Hy(e).SVGElement}function Ky(e){return e?By(e)?e.document:Vy(e)?Uy(e)?e:Wy(e)||Gy(e)?e.ownerDocument:document:document:document}var qy=zy?_.useLayoutEffect:_.useEffect;function Jy(e){let t=(0,_.useRef)(e);return qy(()=>{t.current=e}),(0,_.useCallback)(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}function Yy(){let e=(0,_.useRef)(null);return[(0,_.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,_.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[])]}function Xy(e,t){t===void 0&&(t=[e]);let n=(0,_.useRef)(e);return qy(()=>{n.current!==e&&(n.current=e)},t),n}function Zy(e,t){let n=(0,_.useRef)();return(0,_.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function Qy(e){let t=Jy(e),n=(0,_.useRef)(null);return[n,(0,_.useCallback)(e=>{e!==n.current&&t?.(e,n.current),n.current=e},[])]}function $y(e){let t=(0,_.useRef)();return(0,_.useEffect)(()=>{t.current=e},[e]),t.current}var eb={};function tb(e,t){return(0,_.useMemo)(()=>{if(t)return t;let n=eb[e]==null?0:eb[e]+1;return eb[e]=n,e+`-`+n},[e,t])}function nb(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>{let r=Object.entries(n);for(let[n,i]of r){let r=t[n];r!=null&&(t[n]=r+e*i)}return t},{...t})}}var rb=nb(1),ib=nb(-1);function ab(e){return`clientX`in e&&`clientY`in e}function ob(e){if(!e)return!1;let{KeyboardEvent:t}=Hy(e.target);return t&&e instanceof t}function sb(e){if(!e)return!1;let{TouchEvent:t}=Hy(e.target);return t&&e instanceof t}function cb(e){if(sb(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ab(e)?{x:e.clientX,y:e.clientY}:null}var lb=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return`translate3d(`+(t?Math.round(t):0)+`px, `+(n?Math.round(n):0)+`px, 0)`}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return`scaleX(`+t+`) scaleY(`+n+`)`}},Transform:{toString(e){if(e)return[lb.Translate.toString(e),lb.Scale.toString(e)].join(` `)}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+` `+n+`ms `+r}}}),ub=`a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]`;function db(e){return e.matches(ub)?e:e.querySelector(ub)}var fb={display:`none`};function pb(e){let{id:t,value:n}=e;return _.createElement(`div`,{id:t,style:fb},n)}function mb(e){let{id:t,announcement:n,ariaLiveType:r=`assertive`}=e;return _.createElement(`div`,{id:t,style:{position:`fixed`,top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:`hidden`,clip:`rect(0 0 0 0)`,clipPath:`inset(100%)`,whiteSpace:`nowrap`},role:`status`,"aria-live":r,"aria-atomic":!0},n)}function hb(){let[e,t]=(0,_.useState)(``);return{announce:(0,_.useCallback)(e=>{e!=null&&t(e)},[]),announcement:e}}var gb=(0,_.createContext)(null);function _b(e){let t=(0,_.useContext)(gb);(0,_.useEffect)(()=>{if(!t)throw Error(`useDndMonitor must be used within a children of <DndContext>`);return t(e)},[e,t])}function vb(){let[e]=(0,_.useState)(()=>new Set),t=(0,_.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,_.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>e[n]?.call(e,r))},[e]),t]}var yb={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bb={onDragStart(e){let{active:t}=e;return`Picked up draggable item `+t.id+`.`},onDragOver(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was moved over droppable area `+n.id+`.`:`Draggable item `+t.id+` is no longer over a droppable area.`},onDragEnd(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was dropped over droppable area `+n.id:`Draggable item `+t.id+` was dropped.`},onDragCancel(e){let{active:t}=e;return`Dragging was cancelled. Draggable item `+t.id+` was dropped.`}};function xb(e){let{announcements:t=bb,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=yb}=e,{announce:a,announcement:o}=hb(),s=tb(`DndLiveRegion`),[c,l]=(0,_.useState)(!1);if((0,_.useEffect)(()=>{l(!0)},[]),_b((0,_.useMemo)(()=>({onDragStart(e){let{active:n}=e;a(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&a(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;a(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;a(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;a(t.onDragCancel({active:n,over:r}))}}),[a,t])),!c)return null;let u=_.createElement(_.Fragment,null,_.createElement(pb,{id:r,value:i.draggable}),_.createElement(mb,{id:s,announcement:o}));return n?(0,Ly.createPortal)(u,n):u}var Sb;(function(e){e.DragStart=`dragStart`,e.DragMove=`dragMove`,e.DragEnd=`dragEnd`,e.DragCancel=`dragCancel`,e.DragOver=`dragOver`,e.RegisterDroppable=`registerDroppable`,e.SetDroppableDisabled=`setDroppableDisabled`,e.UnregisterDroppable=`unregisterDroppable`})(Sb||={});function Cb(){}function wb(e,t){return(0,_.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function Tb(){var e=[...arguments];return(0,_.useMemo)(()=>[...e].filter(e=>e!=null),[...e])}var Eb=Object.freeze({x:0,y:0});function Db(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function Ob(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function kb(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ab(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function jb(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}function Mb(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}var Nb=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=Mb(t,t.left,t.top),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=Db(Mb(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(Ob)},Pb=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=Ab(t),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=Ab(r),o=i.reduce((e,t,r)=>e+Db(n[r],t),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(Ob)};function Fb(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){let n=t.width*t.height,r=e.width*e.height,i=o*s,a=i/(n+r-i);return Number(a.toFixed(4))}return 0}var Ib=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=[];for(let e of r){let{id:r}=e,a=n.get(r);if(a){let n=Fb(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(kb)};function Lb(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Rb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Eb}function zb(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}var Bb=zb(1);function Vb(e){if(e.startsWith(`matrix3d(`)){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(`matrix(`)){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Hb(e,t,n){let r=Vb(t);if(!r)return e;let{scaleX:i,scaleY:a,x:o,y:s}=r,c=e.left-o-(1-i)*parseFloat(n),l=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(` `)+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}var Ub={ignoreTransform:!1};function Wb(e,t){t===void 0&&(t=Ub);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=Hy(e).getComputedStyle(e);t&&(n=Hb(n,t,r))}let{top:r,left:i,width:a,height:o,bottom:s,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:c}}function Gb(e){return Wb(e,{ignoreTransform:!0})}function Kb(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function qb(e,t){return t===void 0&&(t=Hy(e).getComputedStyle(e)),t.position===`fixed`}function Jb(e,t){t===void 0&&(t=Hy(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return[`overflow`,`overflowX`,`overflowY`].some(e=>{let r=t[e];return typeof r==`string`?n.test(r):!1})}function Yb(e,t){let n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Uy(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Wy(i)||Gy(i)||n.includes(i))return n;let a=Hy(e).getComputedStyle(i);return i!==e&&Jb(i,a)&&n.push(i),qb(i,a)?n:r(i.parentNode)}return e?r(e):n}function Xb(e){let[t]=Yb(e,1);return t??null}function Zb(e){return!zy||!e?null:By(e)?e:Vy(e)?Uy(e)||e===Ky(e).scrollingElement?window:Wy(e)?e:null:null}function Qb(e){return By(e)?e.scrollX:e.scrollLeft}function $b(e){return By(e)?e.scrollY:e.scrollTop}function ex(e){return{x:Qb(e),y:$b(e)}}var tx;(function(e){e[e.Forward=1]=`Forward`,e[e.Backward=-1]=`Backward`})(tx||={});function nx(e){return!zy||!e?!1:e===document.scrollingElement}function rx(e){let t={x:0,y:0},n=nx(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}var ix={x:.2,y:.2};function ax(e,t,n,r,i){let{top:a,left:o,right:s,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=ix);let{isTop:l,isBottom:u,isLeft:d,isRight:f}=rx(e),p={x:0,y:0},m={x:0,y:0},h={height:t.height*i.y,width:t.width*i.x};return!l&&a<=t.top+h.height?(p.y=tx.Backward,m.y=r*Math.abs((t.top+h.height-a)/h.height)):!u&&c>=t.bottom-h.height&&(p.y=tx.Forward,m.y=r*Math.abs((t.bottom-h.height-c)/h.height)),!f&&s>=t.right-h.width?(p.x=tx.Forward,m.x=r*Math.abs((t.right-h.width-s)/h.width)):!d&&o<=t.left+h.width&&(p.x=tx.Backward,m.x=r*Math.abs((t.left+h.width-o)/h.width)),{direction:p,speed:m}}function ox(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function sx(e){return e.reduce((e,t)=>rb(e,ex(t)),Eb)}function cx(e){return e.reduce((e,t)=>e+Qb(t),0)}function lx(e){return e.reduce((e,t)=>e+$b(t),0)}function ux(e,t){if(t===void 0&&(t=Wb),!e)return;let{top:n,left:r,bottom:i,right:a}=t(e);Xb(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:`center`,inline:`center`})}var dx=[[`x`,[`left`,`right`],cx],[`y`,[`top`,`bottom`],lx]],fx=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=Yb(t),r=sx(n);this.rect={...e},this.width=e.width,this.height=e.height;for(let[e,t,i]of dx)for(let a of t)Object.defineProperty(this,a,{get:()=>{let t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,`rect`,{enumerable:!1})}},px=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>this.target?.removeEventListener(...e))},this.target=e}add(e,t,n){var r;(r=this.target)==null||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}};function mx(e){let{EventTarget:t}=Hy(e);return e instanceof t?e:Ky(e)}function hx(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t==`number`?Math.sqrt(n**2+r**2)>t:`x`in t&&`y`in t?n>t.x&&r>t.y:`x`in t?n>t.x:`y`in t?r>t.y:!1}var gx;(function(e){e.Click=`click`,e.DragStart=`dragstart`,e.Keydown=`keydown`,e.ContextMenu=`contextmenu`,e.Resize=`resize`,e.SelectionChange=`selectionchange`,e.VisibilityChange=`visibilitychange`})(gx||={});function _x(e){e.preventDefault()}function vx(e){e.stopPropagation()}var yx;(function(e){e.Space=`Space`,e.Down=`ArrowDown`,e.Right=`ArrowRight`,e.Left=`ArrowLeft`,e.Up=`ArrowUp`,e.Esc=`Escape`,e.Enter=`Enter`,e.Tab=`Tab`})(yx||={});var bx={start:[yx.Space,yx.Enter],cancel:[yx.Esc],end:[yx.Space,yx.Enter,yx.Tab]},xx=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case yx.Right:return{...n,x:n.x+25};case yx.Left:return{...n,x:n.x-25};case yx.Down:return{...n,y:n.y+25};case yx.Up:return{...n,y:n.y-25}}},Sx=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new px(Ky(t)),this.windowListeners=new px(Hy(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(gx.Resize,this.handleCancel),this.windowListeners.add(gx.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(gx.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&ux(n),t(Eb)}handleKeyDown(e){if(ob(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:i=bx,coordinateGetter:a=xx,scrollBehavior:o=`smooth`}=r,{code:s}=e;if(i.end.includes(s)){this.handleEnd(e);return}if(i.cancel.includes(s)){this.handleCancel(e);return}let{collisionRect:c}=n.current,l=c?{x:c.left,y:c.top}:Eb;this.referenceCoordinates||=l;let u=a(e,{active:t,context:n.current,currentCoordinates:l});if(u){let t=ib(u,l),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(let n of i){let i=e.code,{isTop:a,isRight:s,isLeft:c,isBottom:l,maxScroll:d,minScroll:f}=rx(n),p=ox(n),m={x:Math.min(i===yx.Right?p.right-p.width/2:p.right,Math.max(i===yx.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(i===yx.Down?p.bottom-p.height/2:p.bottom,Math.max(i===yx.Down?p.top:p.top+p.height/2,u.y))},h=i===yx.Right&&!s||i===yx.Left&&!c,g=i===yx.Down&&!l||i===yx.Up&&!a;if(h&&m.x!==u.x){let e=n.scrollLeft+t.x,a=i===yx.Right&&e<=d.x||i===yx.Left&&e>=f.x;if(a&&!t.y){n.scrollTo({left:e,behavior:o});return}a?r.x=n.scrollLeft-e:r.x=i===yx.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}else if(g&&m.y!==u.y){let e=n.scrollTop+t.y,a=i===yx.Down&&e<=d.y||i===yx.Up&&e>=f.y;if(a&&!t.x){n.scrollTo({top:e,behavior:o});return}a?r.y=n.scrollTop-e:r.y=i===yx.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,rb(ib(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Sx.activators=[{eventName:`onKeyDown`,handler:(e,t,n)=>{let{keyboardCodes:r=bx,onActivation:i}=t,{active:a}=n,{code:o}=e.nativeEvent;if(r.start.includes(o)){let t=a.activatorNode.current;return t&&e.target!==t?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Cx(e){return!!(e&&`distance`in e)}function wx(e){return!!(e&&`delay`in e)}var Tx=class{constructor(e,t,n){n===void 0&&(n=mx(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:r}=e,{target:i}=r;this.props=e,this.events=t,this.document=Ky(i),this.documentListeners=new px(this.document),this.listeners=new px(n),this.windowListeners=new px(Hy(i)),this.initialCoordinates=cb(r)??Eb,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(gx.Resize,this.handleCancel),this.windowListeners.add(gx.DragStart,_x),this.windowListeners.add(gx.VisibilityChange,this.handleCancel),this.windowListeners.add(gx.ContextMenu,_x),this.documentListeners.add(gx.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wx(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Cx(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(gx.Click,vx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(gx.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){let{activated:t,initialCoordinates:n,props:r}=this,{onMove:i,options:{activationConstraint:a}}=r;if(!n)return;let o=cb(e)??Eb,s=ib(n,o);if(!t&&a){if(Cx(a)){if(a.tolerance!=null&&hx(s,a.tolerance))return this.handleCancel();if(hx(s,a.distance))return this.handleStart()}if(wx(a)&&hx(s,a.tolerance))return this.handleCancel();this.handlePending(a,s);return}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===yx.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},Ex={cancel:{name:`pointercancel`},move:{name:`pointermove`},end:{name:`pointerup`}},Dx=class extends Tx{constructor(e){let{event:t}=e,n=Ky(t.target);super(e,Ex,n)}};Dx.activators=[{eventName:`onPointerDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];var Ox={move:{name:`mousemove`},end:{name:`mouseup`}},kx;(function(e){e[e.RightClick=2]=`RightClick`})(kx||={});var Ax=class extends Tx{constructor(e){super(e,Ox,Ky(e.event.target))}};Ax.activators=[{eventName:`onMouseDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===kx.RightClick?!1:(r?.({event:n}),!0)}}];var jx={cancel:{name:`touchcancel`},move:{name:`touchmove`},end:{name:`touchend`}},Mx=class extends Tx{constructor(e){super(e,jx)}static setup(){return window.addEventListener(jx.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(jx.move.name,e)};function e(){}}};Mx.activators=[{eventName:`onTouchStart`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Nx;(function(e){e[e.Pointer=0]=`Pointer`,e[e.DraggableRect=1]=`DraggableRect`})(Nx||={});var Px;(function(e){e[e.TreeOrder=0]=`TreeOrder`,e[e.ReversedTreeOrder=1]=`ReversedTreeOrder`})(Px||={});function Fx(e){let{acceleration:t,activator:n=Nx.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=Px.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:f}=e,p=Lx({delta:d,disabled:!a}),[m,h]=Yy(),g=(0,_.useRef)({x:0,y:0}),v=(0,_.useRef)({x:0,y:0}),y=(0,_.useMemo)(()=>{switch(n){case Nx.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Nx.DraggableRect:return i}},[n,i,c]),b=(0,_.useRef)(null),x=(0,_.useCallback)(()=>{let e=b.current;if(!e)return;let t=g.current.x*v.current.x,n=g.current.y*v.current.y;e.scrollBy(t,n)},[]),S=(0,_.useMemo)(()=>s===Px.TreeOrder?[...l].reverse():l,[s,l]);(0,_.useEffect)(()=>{if(!a||!l.length||!y){h();return}for(let e of S){if(r?.(e)===!1)continue;let n=u[l.indexOf(e)];if(!n)continue;let{direction:i,speed:a}=ax(e,n,y,t,f);for(let e of[`x`,`y`])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0){h(),b.current=e,m(x,o),g.current=a,v.current=i;return}}g.current={x:0,y:0},v.current={x:0,y:0},h()},[t,x,r,h,a,o,JSON.stringify(y),JSON.stringify(p),m,l,S,u,JSON.stringify(f)])}var Ix={x:{[tx.Backward]:!1,[tx.Forward]:!1},y:{[tx.Backward]:!1,[tx.Forward]:!1}};function Lx(e){let{delta:t,disabled:n}=e,r=$y(t);return Zy(e=>{if(n||!r||!e)return Ix;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[tx.Backward]:e.x[tx.Backward]||i.x===-1,[tx.Forward]:e.x[tx.Forward]||i.x===1},y:{[tx.Backward]:e.y[tx.Backward]||i.y===-1,[tx.Forward]:e.y[tx.Forward]||i.y===1}}},[n,t,r])}function Rx(e,t){let n=t==null?void 0:e.get(t),r=n?n.node.current:null;return Zy(e=>t==null?null:r??e??null,[r,t])}function zx(e,t){return(0,_.useMemo)(()=>e.reduce((e,n)=>{let{sensor:r}=n,i=r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}));return[...e,...i]},[]),[e,t])}var Bx;(function(e){e[e.Always=0]=`Always`,e[e.BeforeDragging=1]=`BeforeDragging`,e[e.WhileDragging=2]=`WhileDragging`})(Bx||={});var Vx;(function(e){e.Optimized=`optimized`})(Vx||={});var Hx=new Map;function Ux(e,t){let{dragging:n,dependencies:r,config:i}=t,[a,o]=(0,_.useState)(null),{frequency:s,measure:c,strategy:l}=i,u=(0,_.useRef)(e),d=g(),f=Xy(d),p=(0,_.useCallback)(function(e){e===void 0&&(e=[]),!f.current&&o(t=>t===null?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,_.useRef)(null),h=Zy(t=>{if(d&&!n)return Hx;if(!t||t===Hx||u.current!==e||a!=null){let t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new fx(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,n,d,c]);return(0,_.useEffect)(()=>{u.current=e},[e]),(0,_.useEffect)(()=>{d||p()},[n,d]),(0,_.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,_.useEffect)(()=>{d||typeof s!=`number`||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},s))},[s,d,p,...r]),{droppableRects:h,measureDroppableContainers:p,measuringScheduled:a!=null};function g(){switch(l){case Bx.Always:return!1;case Bx.BeforeDragging:return n;default:return!n}}}function Wx(e,t){return Zy(n=>e?n||(typeof t==`function`?t(e):e):null,[t,e])}function Gx(e,t){return Wx(e,t)}function Kx(e){let{callback:t,disabled:n}=e,r=Jy(t),i=(0,_.useMemo)(()=>{if(n||typeof window>`u`||window.MutationObserver===void 0)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,_.useEffect)(()=>()=>i?.disconnect(),[i]),i}function qx(e){let{callback:t,disabled:n}=e,r=Jy(t),i=(0,_.useMemo)(()=>{if(n||typeof window>`u`||window.ResizeObserver===void 0)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,_.useEffect)(()=>()=>i?.disconnect(),[i]),i}function Jx(e){return new fx(Wb(e),e)}function Yx(e,t,n){t===void 0&&(t=Jx);let[r,i]=(0,_.useState)(null);function a(){i(r=>{if(!e)return null;if(e.isConnected===!1)return r??n??null;let i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}let o=Kx({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if(t===`childList`&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),s=qx({callback:a});return qy(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),r}function Xx(e){return Rb(e,Wx(e))}var Zx=[];function Qx(e){let t=(0,_.useRef)(e),n=Zy(n=>e?n&&n!==Zx&&e&&t.current&&e.parentNode===t.current.parentNode?n:Yb(e):Zx,[e]);return(0,_.useEffect)(()=>{t.current=e},[e]),n}function $x(e){let[t,n]=(0,_.useState)(null),r=(0,_.useRef)(e),i=(0,_.useCallback)(e=>{let t=Zb(e.target);t&&n(e=>e?(e.set(t,ex(t)),new Map(e)):null)},[]);return(0,_.useEffect)(()=>{let t=r.current;if(e!==t){a(t);let o=e.map(e=>{let t=Zb(e);return t?(t.addEventListener(`scroll`,i,{passive:!0}),[t,ex(t)]):null}).filter(e=>e!=null);n(o.length?new Map(o):null),r.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{Zb(e)?.removeEventListener(`scroll`,i)})}},[i,e]),(0,_.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>rb(e,t),Eb):sx(e):Eb,[e,t])}function eS(e,t){t===void 0&&(t=[]);let n=(0,_.useRef)(null);return(0,_.useEffect)(()=>{n.current=null},t),(0,_.useEffect)(()=>{let t=e!==Eb;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?ib(e,n.current):Eb}function tS(e){(0,_.useEffect)(()=>{if(!zy)return;let t=e.map(e=>{let{sensor:t}=e;return t.setup==null?void 0:t.setup()});return()=>{for(let e of t)e?.()}},e.map(e=>{let{sensor:t}=e;return t}))}function nS(e,t){return(0,_.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e},{}),[e,t])}function rS(e){return(0,_.useMemo)(()=>e?Kb(e):null,[e])}var iS=[];function aS(e,t){t===void 0&&(t=Wb);let[n]=e,r=rS(n?Hy(n):null),[i,a]=(0,_.useState)(iS);function o(){a(()=>e.length?e.map(e=>nx(e)?r:new fx(t(e),e)):iS)}let s=qx({callback:o});return qy(()=>{s?.disconnect(),o(),e.forEach(e=>s?.observe(e))},[e]),i}function oS(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return Wy(t)?t:e}function sS(e){let{measure:t}=e,[n,r]=(0,_.useState)(null),i=qx({callback:(0,_.useCallback)(e=>{for(let{target:n}of e)if(Wy(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[a,o]=Qy((0,_.useCallback)(e=>{let n=oS(e);i?.disconnect(),n&&i?.observe(n),r(n?t(n):null)},[t,i]));return(0,_.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}var cS=[{sensor:Dx,options:{}},{sensor:Sx,options:{}}],lS={current:{}},uS={draggable:{measure:Gb},droppable:{measure:Gb,strategy:Bx.WhileDragging,frequency:Vx.Optimized},dragOverlay:{measure:Wb}},dS=class extends Map{get(e){return e==null?void 0:super.get(e)??void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){return this.get(e)?.node.current??void 0}},fS={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dS,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:uS,measureDroppableContainers:Cb,windowRect:null,measuringScheduled:!1},pS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:``},dispatch:Cb,draggableNodes:new Map,over:null,measureDroppableContainers:Cb},mS=(0,_.createContext)(pS),hS=(0,_.createContext)(fS);function gS(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dS}}}function _S(e,t){switch(t.type){case Sb.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Sb.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Sb.DragEnd:case Sb.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Sb.RegisterDroppable:{let{element:n}=t,{id:r}=n,i=new dS(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Sb.SetDroppableDisabled:{let{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;let o=new dS(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Sb.UnregisterDroppable:{let{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new dS(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function vS(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:i}=(0,_.useContext)(mS),a=$y(r),o=$y(n?.id);return(0,_.useEffect)(()=>{if(!t&&!r&&a&&o!=null){if(!ob(a)||document.activeElement===a.target)return;let e=i.get(o);if(!e)return;let{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=db(e);if(t){t.focus();break}}})}},[r,t,i,o,a]),null}function yS(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}function bS(e){return(0,_.useMemo)(()=>({draggable:{...uS.draggable,...e?.draggable},droppable:{...uS.droppable,...e?.droppable},dragOverlay:{...uS.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function xS(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e,a=(0,_.useRef)(!1),{x:o,y:s}=typeof i==`boolean`?{x:i,y:i}:i;qy(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;let e=t?.node.current;if(!e||e.isConnected===!1)return;let i=Rb(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){let t=Xb(e);t&&t.scrollBy({top:i.y,left:i.x})}},[t,o,s,r,n])}var SS=(0,_.createContext)({...Eb,scaleX:1,scaleY:1}),CS;(function(e){e[e.Uninitialized=0]=`Uninitialized`,e[e.Initializing=1]=`Initializing`,e[e.Initialized=2]=`Initialized`})(CS||={});var wS=(0,_.memo)(function(e){let{id:t,accessibility:n,autoScroll:r=!0,children:i,sensors:a=cS,collisionDetection:o=Ib,measuring:s,modifiers:c,...l}=e,[u,d]=(0,_.useReducer)(_S,void 0,gS),[f,p]=vb(),[m,h]=(0,_.useState)(CS.Uninitialized),g=m===CS.Initialized,{draggable:{active:v,nodes:y,translate:b},droppable:{containers:x}}=u,S=v==null?null:y.get(v),ee=(0,_.useRef)({initial:null,translated:null}),C=(0,_.useMemo)(()=>v==null?null:{id:v,data:S?.data??lS,rect:ee},[v,S]),w=(0,_.useRef)(null),[te,ne]=(0,_.useState)(null),[re,ie]=(0,_.useState)(null),ae=Xy(l,Object.values(l)),oe=tb(`DndDescribedBy`,t),se=(0,_.useMemo)(()=>x.getEnabled(),[x]),ce=bS(s),{droppableRects:le,measureDroppableContainers:ue,measuringScheduled:T}=Ux(se,{dragging:g,dependencies:[b.x,b.y],config:ce.droppable}),E=Rx(y,v),de=(0,_.useMemo)(()=>re?cb(re):null,[re]),fe=Ve(),pe=Gx(E,ce.draggable.measure);xS({activeNode:v==null?null:y.get(v),config:fe.layoutShiftCompensation,initialRect:pe,measure:ce.draggable.measure});let me=Yx(E,ce.draggable.measure,pe),he=Yx(E?E.parentElement:null),D=(0,_.useRef)({activatorEvent:null,active:null,activeNode:E,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ge=x.getNodeFor(D.current.over?.id),_e=sS({measure:ce.dragOverlay.measure}),ve=_e.nodeRef.current??E,ye=g?_e.rect??me:null,be=!!(_e.nodeRef.current&&_e.rect),xe=Xx(be?null:me),Se=rS(ve?Hy(ve):null),Ce=Qx(g?ge??E:null),we=aS(Ce),Te=yS(c,{transform:{x:b.x-xe.x,y:b.y-xe.y,scaleX:1,scaleY:1},activatorEvent:re,active:C,activeNodeRect:me,containerNodeRect:he,draggingNodeRect:ye,over:D.current.over,overlayNodeRect:_e.rect,scrollableAncestors:Ce,scrollableAncestorRects:we,windowRect:Se}),Ee=de?rb(de,b):null,De=$x(Ce),Oe=eS(De),ke=eS(De,[me]),Ae=rb(Te,Oe),je=ye?Bb(ye,Te):null,Me=C&&je?o({active:C,collisionRect:je,droppableRects:le,droppableContainers:se,pointerCoordinates:Ee}):null,Ne=jb(Me,`id`),[O,Pe]=(0,_.useState)(null),Fe=Lb(be?Te:rb(Te,ke),O?.rect??null,me),Ie=(0,_.useRef)(null),Le=(0,_.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(w.current==null)return;let i=y.get(w.current);if(!i)return;let a=e.nativeEvent;Ie.current=new n({active:w.current,activeNode:i,event:a,options:r,context:D,onAbort(e){if(!y.get(e))return;let{onDragAbort:t}=ae.current,n={id:e};t?.(n),f({type:`onDragAbort`,event:n})},onPending(e,t,n,r){if(!y.get(e))return;let{onDragPending:i}=ae.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};i?.(a),f({type:`onDragPending`,event:a})},onStart(e){let t=w.current;if(t==null)return;let n=y.get(t);if(!n)return;let{onDragStart:r}=ae.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:ee}};(0,Ly.unstable_batchedUpdates)(()=>{r?.(i),h(CS.Initializing),d({type:Sb.DragStart,initialCoordinates:e,active:t}),f({type:`onDragStart`,event:i}),ne(Ie.current),ie(a)})},onMove(e){d({type:Sb.DragMove,coordinates:e})},onEnd:o(Sb.DragEnd),onCancel:o(Sb.DragCancel)});function o(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=D.current,o=null;if(t&&i){let{cancelDrop:s}=ae.current;o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===Sb.DragEnd&&typeof s==`function`&&await Promise.resolve(s(o))&&(e=Sb.DragCancel)}w.current=null,(0,Ly.unstable_batchedUpdates)(()=>{d({type:e}),h(CS.Uninitialized),Pe(null),ne(null),ie(null),Ie.current=null;let t=e===Sb.DragEnd?`onDragEnd`:`onDragCancel`;if(o){let e=ae.current[t];e?.(o),f({type:t,event:o})}})}}},[y]),Re=zx(a,(0,_.useCallback)((e,t)=>(n,r)=>{let i=n.nativeEvent,a=y.get(r);if(w.current!==null||!a||i.dndKit||i.defaultPrevented)return;let o={active:a};e(n,t.options,o)===!0&&(i.dndKit={capturedBy:t.sensor},w.current=r,Le(n,t))},[y,Le]));tS(a),qy(()=>{me&&m===CS.Initializing&&h(CS.Initialized)},[me,m]),(0,_.useEffect)(()=>{let{onDragMove:e}=ae.current,{active:t,activatorEvent:n,collisions:r,over:i}=D.current;if(!t||!n)return;let a={active:t,activatorEvent:n,collisions:r,delta:{x:Ae.x,y:Ae.y},over:i};(0,Ly.unstable_batchedUpdates)(()=>{e?.(a),f({type:`onDragMove`,event:a})})},[Ae.x,Ae.y]),(0,_.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=D.current;if(!e||w.current==null||!t||!i)return;let{onDragOver:a}=ae.current,o=r.get(Ne),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};(0,Ly.unstable_batchedUpdates)(()=>{Pe(s),a?.(c),f({type:`onDragOver`,event:c})})},[Ne]),qy(()=>{D.current={activatorEvent:re,active:C,activeNode:E,collisionRect:je,collisions:Me,droppableRects:le,draggableNodes:y,draggingNode:ve,draggingNodeRect:ye,droppableContainers:x,over:O,scrollableAncestors:Ce,scrollAdjustedTranslate:Ae},ee.current={initial:ye,translated:je}},[C,E,Me,je,y,ve,ye,le,x,O,Ce,Ae]),Fx({...fe,delta:b,draggingRect:je,pointerCoordinates:Ee,scrollableAncestors:Ce,scrollableAncestorRects:we});let ze=(0,_.useMemo)(()=>({active:C,activeNode:E,activeNodeRect:me,activatorEvent:re,collisions:Me,containerNodeRect:he,dragOverlay:_e,draggableNodes:y,droppableContainers:x,droppableRects:le,over:O,measureDroppableContainers:ue,scrollableAncestors:Ce,scrollableAncestorRects:we,measuringConfiguration:ce,measuringScheduled:T,windowRect:Se}),[C,E,me,re,Me,he,_e,y,x,le,O,ue,Ce,we,ce,T,Se]),Be=(0,_.useMemo)(()=>({activatorEvent:re,activators:Re,active:C,activeNodeRect:me,ariaDescribedById:{draggable:oe},dispatch:d,draggableNodes:y,over:O,measureDroppableContainers:ue}),[re,Re,C,me,d,oe,y,O,ue]);return _.createElement(gb.Provider,{value:p},_.createElement(mS.Provider,{value:Be},_.createElement(hS.Provider,{value:ze},_.createElement(SS.Provider,{value:Fe},i)),_.createElement(vS,{disabled:n?.restoreFocus===!1})),_.createElement(xb,{...n,hiddenTextDescribedById:oe}));function Ve(){let e=te?.autoScrollEnabled===!1,t=typeof r==`object`?r.enabled===!1:r===!1,n=g&&!e&&!t;return typeof r==`object`?{...r,enabled:n}:{enabled:n}}}),TS=(0,_.createContext)(null),ES=`button`,DS=`Draggable`;function OS(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e,a=tb(DS),{activators:o,activatorEvent:s,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:f}=(0,_.useContext)(mS),{role:p=ES,roleDescription:m=`draggable`,tabIndex:h=0}=i??{},g=c?.id===t,v=(0,_.useContext)(g?SS:TS),[y,b]=Qy(),[x,S]=Qy(),ee=nS(o,t),C=Xy(n);return qy(()=>(d.set(t,{id:t,key:a,node:y,activatorNode:x,data:C}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:c,activatorEvent:s,activeNodeRect:l,attributes:(0,_.useMemo)(()=>({role:p,tabIndex:h,"aria-disabled":r,"aria-pressed":g&&p===ES?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,h,g,m,u.draggable]),isDragging:g,listeners:r?void 0:ee,node:y,over:f,setNodeRef:b,setActivatorNodeRef:S,transform:v}}function kS(){return(0,_.useContext)(hS)}var AS=`Droppable`,jS={timeout:25};function MS(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e,a=tb(AS),{active:o,dispatch:s,over:c,measureDroppableContainers:l}=(0,_.useContext)(mS),u=(0,_.useRef)({disabled:n}),d=(0,_.useRef)(!1),f=(0,_.useRef)(null),p=(0,_.useRef)(null),{disabled:m,updateMeasurementsFor:h,timeout:g}={...jS,...i},v=Xy(h??r),y=qx({callback:(0,_.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(v.current)?v.current:[v.current]),p.current=null},g)},[g]),disabled:m||!o}),[b,x]=Qy((0,_.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),d.current=!1),e&&y.observe(e))},[y])),S=Xy(t);return(0,_.useEffect)(()=>{!y||!b.current||(y.disconnect(),d.current=!1,y.observe(b.current))},[b,y]),(0,_.useEffect)(()=>(s({type:Sb.RegisterDroppable,element:{id:r,key:a,disabled:n,node:b,rect:f,data:S}}),()=>s({type:Sb.UnregisterDroppable,key:a,id:r})),[r]),(0,_.useEffect)(()=>{n!==u.current.disabled&&(s({type:Sb.SetDroppableDisabled,id:r,key:a,disabled:n}),u.current.disabled=n)},[r,a,n,s]),{active:o,rect:f,isOver:c?.id===r,node:b,over:c,setNodeRef:x}}function NS(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function PS(e,t){return e.reduce((e,n,r)=>{let i=t.get(n);return i&&(e[r]=i),e},Array(e.length))}function FS(e){return e!==null&&e>=0}function IS(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function LS(e){return typeof e==`boolean`?{draggable:e,droppable:e}:e}var RS=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e,a=NS(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},zS={scaleX:1,scaleY:1},BS=e=>{let{activeIndex:t,activeNodeRect:n,index:r,rects:i,overIndex:a}=e,o=i[t]??n;if(!o)return null;if(r===t){let e=i[a];return e?{x:0,y:t<a?e.top+e.height-(o.top+o.height):e.top-o.top,...zS}:null}let s=VS(i,r,t);return r>t&&r<=a?{x:0,y:-o.height-s,...zS}:r<t&&r>=a?{x:0,y:o.height+s,...zS}:{x:0,y:0,...zS}};function VS(e,t,n){let r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}var HS=`Sortable`,US=_.createContext({activeIndex:-1,containerId:HS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:RS,disabled:{draggable:!1,droppable:!1}});function WS(e){let{children:t,id:n,items:r,strategy:i=RS,disabled:a=!1}=e,{active:o,dragOverlay:s,droppableRects:c,over:l,measureDroppableContainers:u}=kS(),d=tb(HS,n),f=s.rect!==null,p=(0,_.useMemo)(()=>r.map(e=>typeof e==`object`&&`id`in e?e.id:e),[r]),m=o!=null,h=o?p.indexOf(o.id):-1,g=l?p.indexOf(l.id):-1,v=(0,_.useRef)(p),y=!IS(p,v.current),b=g!==-1&&h===-1||y,x=LS(a);qy(()=>{y&&m&&u(p)},[y,p,m,u]),(0,_.useEffect)(()=>{v.current=p},[p]);let S=(0,_.useMemo)(()=>({activeIndex:h,containerId:d,disabled:x,disableTransforms:b,items:p,overIndex:g,useDragOverlay:f,sortedRects:PS(p,c),strategy:i}),[h,d,x.draggable,x.droppable,b,p,g,c,f,i]);return _.createElement(US.Provider,{value:S},t)}var GS=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return NS(n,r,i).indexOf(t)},KS=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:c,transition:l}=e;return!l||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===c},qS={duration:200,easing:`ease`},JS=`transform`,YS=lb.Transition.toString({property:JS,duration:0,easing:`linear`}),XS={roleDescription:`sortable`};function ZS(e){let{disabled:t,index:n,node:r,rect:i}=e,[a,o]=(0,_.useState)(null),s=(0,_.useRef)(n);return qy(()=>{if(!t&&n!==s.current&&r.current){let e=i.current;if(e){let t=Wb(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)},[t,n,r,i]),(0,_.useEffect)(()=>{a&&o(null)},[a]),a}function QS(e){let{animateLayoutChanges:t=KS,attributes:n,disabled:r,data:i,getNewIndex:a=GS,id:o,strategy:s,resizeObserverConfig:c,transition:l=qS}=e,{items:u,containerId:d,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:h,overIndex:g,useDragOverlay:v,strategy:y}=(0,_.useContext)(US),b=$S(r,p),x=u.indexOf(o),S=(0,_.useMemo)(()=>({sortable:{containerId:d,index:x,items:u},...i}),[d,i,x,u]),ee=(0,_.useMemo)(()=>u.slice(u.indexOf(o)),[u,o]),{rect:C,node:w,isOver:te,setNodeRef:ne}=MS({id:o,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:ee,...c}}),{active:re,activatorEvent:ie,activeNodeRect:ae,attributes:oe,setNodeRef:se,listeners:ce,isDragging:le,over:ue,setActivatorNodeRef:T,transform:E}=OS({id:o,data:S,attributes:{...XS,...n},disabled:b.draggable}),de=Ry(ne,se),fe=!!re,pe=fe&&!m&&FS(f)&&FS(g),me=!v&&le,he=pe?(me&&pe?E:null)??(s??y)({rects:h,activeNodeRect:ae,activeIndex:f,overIndex:g,index:x}):null,D=FS(f)&&FS(g)?a({id:o,items:u,activeIndex:f,overIndex:g}):x,ge=re?.id,_e=(0,_.useRef)({activeId:ge,items:u,newIndex:D,containerId:d}),ve=u!==_e.current.items,ye=t({active:re,containerId:d,isDragging:le,isSorting:fe,id:o,index:x,items:u,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:l,wasDragging:_e.current.activeId!=null}),be=ZS({disabled:!ye,index:x,node:w,rect:C});return(0,_.useEffect)(()=>{fe&&_e.current.newIndex!==D&&(_e.current.newIndex=D),d!==_e.current.containerId&&(_e.current.containerId=d),u!==_e.current.items&&(_e.current.items=u)},[fe,D,d,u]),(0,_.useEffect)(()=>{if(ge===_e.current.activeId)return;if(ge!=null&&_e.current.activeId==null){_e.current.activeId=ge;return}let e=setTimeout(()=>{_e.current.activeId=ge},50);return()=>clearTimeout(e)},[ge]),{active:re,activeIndex:f,attributes:oe,data:S,rect:C,index:x,newIndex:D,items:u,isOver:te,isSorting:fe,isDragging:le,listeners:ce,node:w,overIndex:g,over:ue,setNodeRef:de,setActivatorNodeRef:T,setDroppableNodeRef:ne,setDraggableNodeRef:se,transform:be??he,transition:xe()};function xe(){if(be||ve&&_e.current.newIndex===x)return YS;if(!(me&&!ob(ie)||!l)&&(fe||ye))return lb.Transition.toString({...l,property:JS})}}function $S(e,t){return typeof e==`boolean`?{draggable:e,droppable:!1}:{draggable:e?.draggable??t.draggable,droppable:e?.droppable??t.droppable}}function eC(e){if(!e)return!1;let t=e.data.current;return!!(t&&`sortable`in t&&typeof t.sortable==`object`&&`containerId`in t.sortable&&`items`in t.sortable&&`index`in t.sortable)}var tC=[yx.Down,yx.Right,yx.Up,yx.Left],nC=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(tC.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];a.getEnabled().forEach(n=>{if(!n||n!=null&&n.disabled)return;let a=i.get(n.id);if(a)switch(e.code){case yx.Down:r.top<a.top&&t.push(n);break;case yx.Up:r.top>a.top&&t.push(n);break;case yx.Left:r.left>a.left&&t.push(n);break;case yx.Right:r.left<a.left&&t.push(n);break}});let c=Pb({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null}),l=jb(c,`id`);if(l===o?.id&&c.length>1&&(l=c[1].id),l!=null){let e=a.get(n.id),t=a.get(l),o=t?i.get(t.id):null,c=t?.node.current;if(c&&o&&e&&t){let n=Yb(c).some((e,t)=>s[t]!==e),i=rC(e,t),a=iC(e,t),l=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},u={x:o.left,y:o.top};return l.x&&l.y?u:ib(u,l)}}}};function rC(e,t){return!eC(e)||!eC(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function iC(e,t){return!eC(e)||!eC(t)||!rC(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const aC=({id:e,children:t,className:n})=>{let{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:s,isDragging:c}=QS({id:e});return(0,O.jsx)(`div`,{ref:a,style:{transform:lb.Translate.toString(o),transition:s,zIndex:c?999:`auto`,opacity:c?.5:1,touchAction:`none`,position:`relative`},...r,...i,className:n,children:t})};var oC=e=>{if(!e)return`09:00`;let[t,n]=e.split(`:`).map(Number),r=new Date;return r.setHours(t,n),r.setHours(r.getHours()+1),r.toLocaleTimeString(`th-TH`,{hour:`2-digit`,minute:`2-digit`,hour12:!1})};const sC=({trip:e})=>{let{saveTrip:t}=Fy(),{activities:n,addActivity:r,updateActivity:i,deleteActivity:a}=Iy(),[o,s]=(0,_.useState)(1),[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)(null),[y,b]=(0,_.useState)(null),x=e.totalDays||1,S=Array.from({length:x},(e,t)=>t+1),ee=e.title!==``,C=Tb(wb(Dx,{activationConstraint:{distance:8}}),wb(Sx,{coordinateGetter:nC})),w=async()=>{await t({...e,totalDays:x+1})},te=async r=>{if(x<=1||!confirm(` Day ${r} ?`))return;let c=n.filter(e=>e.day===r);for(let e of c)await a(e.id);let l=n.filter(e=>e.day>r);for(let e of l)await i(e.id,{day:e.day-1});await t({...e,totalDays:x-1}),o>=r&&s(Math.max(1,o-1))},re=async e=>{console.log(`Drag Day Feature: Coming Soon (Complex logic needed)`)},ie=async e=>{g?await i(g.id,{...e,day:o}):await r({...e,day:o}),d(!1)},ae=(e,t)=>{t.stopPropagation(),b(e),h(!0)},oe=async()=>{y&&(await a(y),b(null))},se=async e=>{let{active:t,over:n}=e;if(!n||t.id===n.id)return;let r=ce.findIndex(e=>e.id===t.id),a=ce.findIndex(e=>e.id===n.id);if(r===-1||a===-1)return;let o=NS(ce,r,a)[a-1],s=`09:00`;s=o?oC(o.time):`08:00`,await i(String(t.id),{time:s})},ce=n.filter(e=>e.day===o);return ee?(0,O.jsxs)(`div`,{className:`flex flex-col h-full bg-F3F4F6 relative`,children:[(0,O.jsxs)(`div`,{className:`flex-none px-4 py-2 bg-F3F4F6 z-10 shadow-sm`,children:[(0,O.jsxs)(`div`,{className:`flex justify-between items-center animate-fade-in mb-2`,children:[(0,O.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,O.jsx)(`h2`,{className:`text-lg font-bold text-gray-800`,children:`Timeline`}),(0,O.jsx)(`button`,{onClick:()=>l(!c),className:`p-1.5 rounded-full transition-colors ${c?`bg-green-100 text-green-600`:`bg-gray-100 text-gray-500 hover:bg-gray-200`}`,children:(0,O.jsx)(Ee,{className:`w-4 h-4`})})]}),(0,O.jsxs)(`div`,{className:`text-xs text-gray-400 font-medium`,children:[`Total `,x,` Days`]})]}),(0,O.jsx)(`div`,{className:`relative`,children:c?(0,O.jsx)(wS,{sensors:C,collisionDetection:Nb,onDragEnd:re,children:(0,O.jsx)(WS,{items:S,strategy:RS,children:(0,O.jsxs)(`div`,{className:`flex flex-wrap gap-2 py-1`,children:[S.map((e,t)=>(0,O.jsx)(aC,{id:e,className:``,children:(0,O.jsxs)(`div`,{className:`relative group`,children:[(0,O.jsxs)(`button`,{className:`px-5 py-2 rounded-xl text-sm font-bold whitespace-nowrap border border-green-200 bg-green-50 text-green-700 cursor-grab active:cursor-grabbing`,children:[`D-`,e]}),(0,O.jsx)(`button`,{onClick:t=>{t.stopPropagation(),te(e)},className:`absolute -top-1.5 -right-1.5 bg-red-500 text-white rounded-full p-0.5 shadow-sm hover:bg-red-600 z-20`,children:(0,O.jsx)(je,{className:`w-3 h-3`})})]})},e)),(0,O.jsx)(`button`,{onClick:w,className:`w-10 h-9 flex-shrink-0 flex items-center justify-center bg-white rounded-xl text-green-500 border border-dashed border-green-300 hover:bg-green-50 transition-colors`,children:(0,O.jsx)(xe,{className:`w-4 h-4`})})]})})}):(0,O.jsxs)(`div`,{className:`flex gap-2 no-scrollbar touch-pan-x py-1 overflow-x-auto hide-scrollbar-completely`,children:[S.map(e=>(0,O.jsxs)(`button`,{onClick:()=>s(e),className:`px-5 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-all border 
                                        ${o===e?`bg-green-600 text-white border-green-600 ring-green-200`:`bg-white text-gray-500 border-gray-200`}
                                    `,children:[`D-`,e]},e)),(0,O.jsx)(`button`,{onClick:w,className:`w-10 h-9 flex-shrink-0 flex items-center justify-center bg-white rounded-xl text-green-500 border border-dashed border-green-300 hover:bg-green-50 transition-colors`,children:(0,O.jsx)(xe,{className:`w-4 h-4`})})]})})]}),(0,O.jsx)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar px-4 pb-24 relative`,children:(0,O.jsxs)(`div`,{className:`space-y-3 min-h-[100px] pt-2`,children:[ce.length===0?(0,O.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-20 mt-4 opacity-60`,children:[(0,O.jsx)(ge,{className:`w-10 h-10 text-gray-300 mb-2`}),(0,O.jsxs)(`p`,{className:`text-xs text-gray-400`,children:[`Day `,o,` `]}),(0,O.jsxs)(`button`,{onClick:()=>{v(null),d(!0)},className:`mt-4 text-green-600 text-sm font-bold flex items-center gap-1 hover:underline`,children:[(0,O.jsx)(xe,{className:`w-4 h-4`}),` `]})]}):(0,O.jsx)(wS,{sensors:C,collisionDetection:Nb,onDragEnd:se,children:(0,O.jsx)(WS,{items:ce.map(e=>e.id),strategy:BS,children:ce.map(e=>(0,O.jsx)(aC,{id:e.id,children:(0,O.jsxs)(`div`,{onClick:()=>{v(e),d(!0)},className:`bg-white p-3 rounded-2xl shadow-sm border border-gray-100 flex gap-3 items-start group cursor-pointer hover:border-green-200 active:scale-[0.98] transition-all`,children:[(0,O.jsx)(`div`,{className:`mt-2 text-gray-300 cursor-grab active:cursor-grabbing p-1 -ml-2`,children:(0,O.jsx)(fe,{className:`w-4 h-4`})}),(0,O.jsxs)(`div`,{className:`flex flex-col items-center min-w-[45px] border-r border-gray-100 pr-3`,children:[(0,O.jsx)(`span`,{className:`text-sm font-bold text-gray-800`,children:e.time}),(0,O.jsx)(`div`,{className:`h-full w-[2px] bg-gray-100 mt-2 rounded-full group-hover:bg-green-100 transition-colors`})]}),(0,O.jsxs)(`div`,{className:`flex-1 pt-0.5 overflow-hidden`,children:[(0,O.jsx)(`h4`,{className:`font-bold text-gray-800 text-sm truncate`,children:e.title}),e.note&&(0,O.jsx)(`p`,{className:`text-xs text-gray-400 mt-0.5 line-clamp-1`,children:e.note}),(0,O.jsx)(`div`,{className:`flex gap-2 mt-1.5`,children:e.links&&e.links.length>0&&(0,O.jsxs)(`div`,{className:`inline-flex items-center gap-1 text-[10px] bg-blue-50 text-blue-500 px-1.5 py-0.5 rounded`,children:[(0,O.jsx)(he,{className:`w-3 h-3`}),` `,e.links.length,` Links`]})}),e.createdByName&&(0,O.jsx)(`div`,{className:`mt-1 text-[9px] text-gray-300`,children:e.updatedAt&&e.createdAt&&e.updatedAt.toMillis()>e.createdAt.toMillis()?` ${e.updatedByName||e.createdByName}`:` ${e.createdByName}`})]}),(0,O.jsx)(`button`,{onClick:t=>ae(e.id,t),className:`text-gray-300 hover:text-red-500 p-1 -mr-1 z-10`,children:(0,O.jsx)(Oe,{className:`w-4 h-4`})})]})},e.id))})}),(0,O.jsx)(`div`,{className:`h-20`})]})}),ee&&!c&&(0,O.jsx)(`button`,{onClick:()=>{v(null),d(!0)},className:`fixed bottom-24 right-6 w-14 h-14 bg-green-600 text-white rounded-full shadow-xl shadow-green-200 flex items-center justify-center hover:bg-green-700 active:scale-90 transition-all z-30`,children:(0,O.jsx)(xe,{className:`w-8 h-8`})}),(0,O.jsx)(Be,{isOpen:u,onClose:()=>d(!1),onSave:ie,initialData:g}),(0,O.jsx)(Ge,{isOpen:m,onClose:()=>h(!1),onConfirm:oe,title:`?`,message:`?`})]}):(0,O.jsxs)(`div`,{className:`flex flex-col h-full bg-F3F4F6 relative p-6 justify-center items-center overflow-hidden`,children:[(0,O.jsxs)(`div`,{className:`bg-white w-full rounded-[2.5rem] p-8 text-center shadow-sm border-2 border-dashed border-gray-200 flex flex-col items-center justify-center py-20 animate-fade-in`,children:[(0,O.jsx)(`div`,{className:`w-24 h-24 bg-green-50 rounded-full flex items-center justify-center mb-6 shadow-inner`,children:(0,O.jsx)(ne,{className:`text-green-500 w-10 h-10`,strokeWidth:1.5})}),(0,O.jsx)(`h3`,{className:`text-xl font-extrabold text-gray-800 mb-2 tracking-tight`,children:``}),(0,O.jsx)(`p`,{className:`text-gray-400 text-sm mb-8 font-medium`,children:` Timeline `}),(0,O.jsxs)(Ue,{size:`lg`,variant:`primary`,onClick:()=>p(!0),children:[(0,O.jsx)(xe,{className:`w-6 h-6`,strokeWidth:3}),(0,O.jsx)(`span`,{children:``})]})]}),(0,O.jsx)(We,{isOpen:f,onClose:()=>p(!1),onSave:t,initialTrip:e})]})};var cC=({currentTab:e,onTabChange:t})=>(0,O.jsxs)(`div`,{className:`flex bg-gray-200 p-1 rounded-xl mb-2`,children:[(0,O.jsx)(`button`,{onClick:()=>t(`ACTIVE`),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${e===`ACTIVE`?`bg-white shadow-sm text-blue-600`:`text-gray-500`}`,children:` `}),(0,O.jsx)(`button`,{onClick:()=>t(`HISTORY`),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${e===`HISTORY`?`bg-white shadow-sm text-green-600`:`text-gray-500`}`,children:`  ()`})]}),lC=({bill:e,currentUser:t,allUsers:n,isOpen:r,onToggle:i,onVerifySlip:a,onUploadSlip:o,onEdit:s})=>{let c=(0,_.useRef)(null),l=[...e.debtors].sort((e,t)=>{let n={SLIP_SENT:1,UNPAID:2,REJECTED:2,VERIFIED:3};return n[e.status]-n[t.status]}),u=e.debtors.filter(e=>e.status===`VERIFIED`).length,d=e.debtors.length,f=e.payerId===t.id,p=t=>{t.stopPropagation(),setPreviewImage({url:e.paymentValue,title:`QR Code `,showDownload:!0})},m=(e,t,n)=>{e.stopPropagation(),setPreviewImage({url:t,title:` ${n}`,showDownload:!0})},h=t=>{t.stopPropagation(),navigator.clipboard.writeText(e.paymentValue),alert(`!`)},g=t=>{t.target.files&&t.target.files[0]&&o(e.id,t.target.files[0])};return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mb-3 transition-all relative group`,children:[f&&(0,O.jsx)(`button`,{onClick:e=>{e.stopPropagation(),s()},className:`absolute top-3 right-3 text-gray-300 hover:text-blue-500 p-1 z-10`,children:(0,O.jsx)(be,{className:`w-4 h-4`})}),(0,O.jsxs)(`div`,{onClick:i,className:`p-4 cursor-pointer active:bg-gray-50`,children:[(0,O.jsxs)(`div`,{className:`flex justify-between items-start mb-2 pr-6`,children:[(0,O.jsxs)(`div`,{children:[(0,O.jsx)(`h4`,{className:`font-bold text-gray-800 text-base`,children:e.title}),(0,O.jsxs)(`div`,{className:`flex items-center gap-2 text-xs text-gray-400 mt-1`,children:[(0,O.jsxs)(`span`,{children:[`: `,n.find(t=>t.id===e.payerId)?.name||`Unknown`]}),(0,O.jsxs)(`span`,{className:`ml-2 ${u===d?`text-green-500 font-bold`:``}`,children:[` `,u,`/`,d]})]})]}),(0,O.jsx)(`div`,{className:`text-right`,children:(0,O.jsxs)(`div`,{className:`text-lg font-bold text-blue-600`,children:[``,e.totalAmount.toLocaleString()]})})]}),(0,O.jsxs)(`div`,{className:`flex items-center justify-between mt-3 pt-3 border-t border-dashed border-gray-100`,children:[(0,O.jsx)(`div`,{className:`flex items-center gap-2 text-xs text-gray-500`,children:e.paymentType===`QR`?(0,O.jsxs)(`button`,{onClick:p,className:`flex items-center gap-1 bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg font-bold hover:bg-blue-100 transition-colors`,children:[(0,O.jsx)(pe,{className:`w-3 h-3`}),(0,O.jsx)(`span`,{children:` QR Code`})]}):(0,O.jsxs)(`button`,{onClick:h,className:`flex items-center gap-1 bg-orange-50 text-orange-600 px-3 py-1.5 rounded-lg font-bold hover:bg-orange-100 transition-colors`,children:[(0,O.jsx)(T,{className:`w-3 h-3`}),(0,O.jsx)(`span`,{children:e.paymentValue})]})}),(0,O.jsx)(`div`,{className:`text-gray-300`,children:r?(0,O.jsx)(oe,{className:`w-5 h-5`}):(0,O.jsx)(ie,{className:`w-5 h-5`})})]})]}),r&&(0,O.jsx)(`div`,{className:`bg-gray-50 p-3 border-t border-gray-100 space-y-2`,children:l.map(r=>{let i=n.find(e=>e.id===r.userId);if(!i)return null;let o=i.id===t.id;return(0,O.jsxs)(`div`,{className:`flex flex-col p-3 rounded-xl border bg-white border-gray-200 shadow-sm ${r.status===`VERIFIED`?`opacity-60`:``}`,children:[(0,O.jsxs)(`div`,{className:`flex items-center justify-between w-full`,children:[(0,O.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,O.jsxs)(`div`,{className:`relative`,children:[(0,O.jsx)(`img`,{src:i.avatar,className:`w-10 h-10 rounded-full border-2 ${r.status===`VERIFIED`?`border-green-500 grayscale`:`border-gray-100`}`}),r.status===`UNPAID`&&(0,O.jsx)(`div`,{className:`absolute -bottom-1 -right-1 bg-gray-400 text-white text-[8px] px-1.5 rounded-full border border-white`,children:``}),r.status===`REJECTED`&&(0,O.jsx)(`div`,{className:`absolute -bottom-1 -right-1 bg-red-500 text-white text-[8px] px-1.5 rounded-full border border-white`,children:``})]}),(0,O.jsxs)(`div`,{children:[(0,O.jsxs)(`div`,{className:`text-sm font-bold text-gray-700`,children:[i.name,` `,o&&(0,O.jsx)(`span`,{className:`text-blue-500`,children:`()`})]}),(0,O.jsxs)(`div`,{className:`text-[10px] mt-0.5`,children:[r.status===`UNPAID`&&(0,O.jsx)(`span`,{className:`text-gray-400`,children:``}),r.status===`REJECTED`&&(0,O.jsxs)(`span`,{className:`text-red-500 font-bold flex items-center gap-1`,children:[(0,O.jsx)(le,{className:`w-3 h-3`}),` `]}),r.status===`SLIP_SENT`&&(0,O.jsxs)(`span`,{className:`text-orange-500 font-bold flex items-center gap-1`,children:[(0,O.jsx)(ue,{className:`w-3 h-3`}),` `]}),r.status===`VERIFIED`&&(0,O.jsxs)(`span`,{className:`text-green-600 font-bold flex items-center gap-1`,children:[(0,O.jsx)(ce,{className:`w-3 h-3`}),` `]})]})]})]}),(0,O.jsxs)(`div`,{className:`text-sm font-bold text-gray-700`,children:[``,Math.ceil(r.amount).toLocaleString()]})]}),(0,O.jsxs)(`div`,{className:`mt-3 flex justify-end w-full border-t border-dashed border-gray-100 pt-2`,children:[o&&(r.status===`UNPAID`||r.status===`REJECTED`)&&(0,O.jsxs)(`div`,{className:`w-full`,children:[(0,O.jsx)(`input`,{type:`file`,accept:`image/*`,ref:c,onChange:g,className:`hidden`}),(0,O.jsxs)(`button`,{onClick:()=>c.current?.click(),className:`w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded-lg text-xs font-bold hover:bg-blue-700 transition-all`,children:[(0,O.jsx)(ke,{className:`w-4 h-4`}),` `,r.status===`REJECTED`?``:` / `]})]}),r.status===`SLIP_SENT`&&r.slipUrl&&(0,O.jsxs)(`div`,{className:`flex gap-3 w-full items-center justify-between`,children:[(0,O.jsxs)(`button`,{onClick:e=>m(e,r.slipUrl,i.name),className:`flex items-center gap-2 bg-gray-100 px-3 py-2 rounded-lg text-xs text-gray-600 hover:bg-gray-200 flex-1`,children:[(0,O.jsx)(pe,{className:`w-4 h-4`}),` `]}),f&&(0,O.jsxs)(`div`,{className:`flex gap-2`,children:[(0,O.jsx)(`button`,{onClick:()=>a(e.id,r.userId,!1),className:`bg-red-50 text-red-500 px-3 py-2 rounded-lg text-xs font-bold border border-red-100`,children:``}),(0,O.jsx)(`button`,{onClick:()=>a(e.id,r.userId,!0),className:`bg-green-500 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-sm`,children:` `})]}),o&&(0,O.jsx)(`span`,{className:`text-[10px] text-orange-400 font-bold`,children:`...`})]})]})]},r.userId)})})]})})},uC=({onClick:e})=>(0,O.jsx)(`button`,{onClick:e,className:`fixed bottom-24 right-4 w-14 h-14 bg-blue-600 text-white rounded-full shadow-xl shadow-blue-200 flex items-center justify-center hover:bg-blue-700 active:scale-90 transition-all z-30`,children:(0,O.jsx)(xe,{className:`w-8 h-8`})}),dC=({isOpen:e,onClose:t,users:n,currentUser:r,onSave:i,initialData:a})=>{let[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(`QR`),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)([]),[g,v]=(0,_.useState)(`EQUAL`),[y,b]=(0,_.useState)({});(0,_.useEffect)(()=>{if(e)if(a){s(a.title),l(a.totalAmount.toString()),d(a.paymentType),p(a.paymentValue),h(a.debtors.map(e=>e.userId));let e=a.debtors[0]?.amount||0;if(a.debtors.every(t=>Math.abs(t.amount-e)<.01))v(`EQUAL`);else{v(`CUSTOM`);let e={};a.debtors.forEach(t=>e[t.userId]=t.amount.toString()),b(e)}}else s(``),l(``),d(`QR`),p(``),h(n.filter(e=>e.id!==r.id).map(e=>e.id)),v(`EQUAL`),b({})},[e,a,n,r]);let x=(0,_.useMemo)(()=>{let e=parseFloat(c)||0,t=0;return g===`CUSTOM`?m.forEach(e=>{t+=parseFloat(y[e]||`0`)}):t=e,{total:e,currentSum:t,diff:e-t,isValid:Math.abs(e-t)<.1}},[c,y,m,g]);(0,_.useEffect)(()=>{g===`CUSTOM`&&m.length},[m.length]);let S=e=>{if(!(a&&a.debtors.find(t=>t.userId===e)?.status===`VERIFIED`))if(m.includes(e)){h(t=>t.filter(t=>t!==e));let t={...y};delete t[e],b(t)}else h(t=>[...t,e]),b(t=>({...t,[e]:`0`}))},ee=(e,t)=>{b(n=>({...n,[e]:t}))},C=e=>{if(e.preventDefault(),!o||!c||m.length===0)return;if(g===`CUSTOM`&&!x.isValid){alert(`! ${x.diff>0?``:``} ${Math.abs(x.diff).toLocaleString()} `);return}let t=[];if(g===`EQUAL`){let e=parseFloat(c)/m.length;t=m.map(t=>({userId:t,amount:e}))}else t=m.map(e=>({userId:e,amount:parseFloat(y[e]||`0`)}));i({title:o,totalAmount:parseFloat(c),paymentType:u,paymentValue:f||`QR_CODE_URL`,debtors:t},!!a)},w=(0,O.jsxs)(`div`,{className:`space-y-3`,children:[g===`CUSTOM`&&Math.abs(x.diff)>.1&&(0,O.jsx)(`div`,{className:`text-xs font-bold text-center ${x.diff>0?`text-orange-500`:`text-red-500`}`,children:x.diff>0?` ${x.diff.toLocaleString()} `:` ${Math.abs(x.diff).toLocaleString()} `}),(0,O.jsx)(`button`,{type:`submit`,form:`create-bill-form`,disabled:g===`CUSTOM`&&!x.isValid,className:`w-full text-white font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center active:scale-95 transition-all 
                    ${g===`CUSTOM`&&!x.isValid?`bg-gray-300 cursor-not-allowed`:`bg-blue-600 hover:bg-blue-700`}`,children:a?``:``})]});return(0,O.jsx)(Ie,{isOpen:e,onClose:t,title:a?` `:` `,footer:w,children:(0,O.jsxs)(`form`,{id:`create-bill-form`,onSubmit:C,className:`space-y-5`,children:[(0,O.jsxs)(`div`,{className:`space-y-3`,children:[(0,O.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),placeholder:`? ( )`,className:`w-full bg-gray-50 border-2 border-transparent focus:border-blue-500 rounded-xl p-3 font-bold outline-none transition-all`,autoFocus:!0}),(0,O.jsxs)(`div`,{className:`relative`,children:[(0,O.jsx)(E,{className:`absolute top-3.5 left-3 text-gray-400 w-4 h-4`}),(0,O.jsx)(`input`,{type:`number`,value:c,onChange:e=>l(e.target.value),placeholder:`0.00`,className:`w-full bg-gray-50 border-2 border-transparent focus:border-blue-500 rounded-xl pl-9 p-3 font-bold text-blue-600 outline-none text-lg transition-all`})]})]}),(0,O.jsxs)(`div`,{children:[(0,O.jsxs)(`label`,{className:`text-[10px] font-bold text-gray-400 uppercase mb-2 block flex justify-between`,children:[(0,O.jsxs)(`span`,{children:[`? (`,m.length,`)`]}),(0,O.jsx)(`span`,{className:`text-blue-500 cursor-pointer`,onClick:()=>h(n.filter(e=>e.id!==r.id).map(e=>e.id)),children:``})]}),(0,O.jsx)(`div`,{className:`flex gap-3 overflow-x-auto pb-2 no-scrollbar`,children:n.map(e=>{if(e.id===r.id)return null;let t=m.includes(e.id),n=a?.debtors.find(t=>t.userId===e.id)?.status===`VERIFIED`;return(0,O.jsxs)(`div`,{onClick:()=>S(e.id),className:`cursor-pointer flex flex-col items-center space-y-1 min-w-[56px] transition-all ${t?`opacity-100`:`opacity-50 scale-90`}`,children:[(0,O.jsxs)(`div`,{className:`w-12 h-12 rounded-full border-2 p-0.5 relative ${t?`border-green-500`:`border-gray-200`}`,children:[(0,O.jsx)(`img`,{src:e.avatar,className:`w-full h-full rounded-full bg-gray-100 object-cover`}),t&&(0,O.jsx)(`div`,{className:`absolute -bottom-1 -right-1 bg-green-500 rounded-full p-0.5 border-2 border-white`,children:(0,O.jsx)(re,{className:`w-2.5 h-2.5 text-white`,strokeWidth:4})}),n&&(0,O.jsx)(`div`,{className:`absolute inset-0 bg-black/30 rounded-full flex items-center justify-center`,children:(0,O.jsx)(re,{className:`text-white`})})]}),(0,O.jsx)(`span`,{className:`text-[10px] font-bold truncate w-full text-center`,children:e.name})]},e.id)})})]}),(0,O.jsxs)(`div`,{className:`bg-gray-50 p-3 rounded-xl border border-gray-100`,children:[(0,O.jsxs)(`div`,{className:`flex gap-2 text-xs`,children:[(0,O.jsx)(`button`,{type:`button`,onClick:()=>d(`QR`),className:`flex-1 py-2 rounded-lg font-bold transition-colors ${u===`QR`?`bg-blue-500 text-white shadow`:`bg-white text-gray-500 border`}`,children:`QR Code`}),(0,O.jsx)(`button`,{type:`button`,onClick:()=>d(`BANK_ACCOUNT`),className:`flex-1 py-2 rounded-lg font-bold transition-colors ${u===`BANK_ACCOUNT`?`bg-blue-500 text-white shadow`:`bg-white text-gray-500 border`}`,children:``})]}),(0,O.jsx)(`div`,{className:`mt-2`,children:u===`QR`?(0,O.jsxs)(`div`,{className:`h-10 border border-dashed border-blue-300 rounded bg-blue-50 flex items-center justify-center text-blue-400 text-xs cursor-pointer`,children:[(0,O.jsx)(Se,{className:`w-3 h-3 mr-1`}),`  QR (Coming Soon)`]}):(0,O.jsx)(`input`,{type:`text`,value:f,onChange:e=>p(e.target.value),placeholder:` / `,className:`w-full p-2 text-xs bg-white border rounded outline-none focus:border-blue-500`})})]}),(0,O.jsxs)(`div`,{className:`pt-2`,children:[(0,O.jsxs)(`div`,{className:`flex bg-gray-100 p-1 rounded-lg mb-3`,children:[(0,O.jsxs)(`button`,{type:`button`,onClick:()=>v(`EQUAL`),className:`flex-1 py-1.5 rounded-md text-xs font-bold flex items-center justify-center gap-1 transition-all ${g===`EQUAL`?`bg-white shadow text-green-600`:`text-gray-400`}`,children:[(0,O.jsx)(Ae,{className:`w-3 h-3`}),` `]}),(0,O.jsxs)(`button`,{type:`button`,onClick:()=>v(`CUSTOM`),className:`flex-1 py-1.5 rounded-md text-xs font-bold flex items-center justify-center gap-1 transition-all ${g===`CUSTOM`?`bg-white shadow text-blue-600`:`text-gray-400`}`,children:[(0,O.jsx)(te,{className:`w-3 h-3`}),` `]})]}),(0,O.jsxs)(`div`,{className:`space-y-2 max-h-[200px] overflow-y-auto pr-1 custom-scrollbar`,children:[m.length===0&&(0,O.jsx)(`div`,{className:`text-center text-gray-300 text-xs py-4`,children:``}),m.map(e=>{let t=n.find(t=>t.id===e);return t?(0,O.jsxs)(`div`,{className:`flex items-center justify-between bg-white border border-gray-100 p-2 rounded-lg`,children:[(0,O.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,O.jsx)(`img`,{src:t.avatar,className:`w-8 h-8 rounded-full bg-gray-100`}),(0,O.jsx)(`span`,{className:`text-xs font-bold text-gray-700`,children:t.name})]}),g===`EQUAL`?(0,O.jsxs)(`div`,{className:`text-xs font-bold text-gray-400 bg-gray-50 px-2 py-1 rounded`,children:[``,(parseFloat(c||`0`)/m.length).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):(0,O.jsxs)(`div`,{className:`relative w-24`,children:[(0,O.jsx)(`span`,{className:`absolute left-2 top-1.5 text-gray-400 text-xs`,children:``}),(0,O.jsx)(`input`,{type:`number`,value:y[e]||``,onChange:t=>ee(e,t.target.value),className:`w-full pl-5 pr-2 py-1 text-right text-sm font-bold border rounded focus:border-blue-500 outline-none bg-blue-50/30 text-blue-700`,placeholder:`0`})]})]},e):null})]})]})]})})};let fC=function(e){return e.UNPAID=`UNPAID`,e.SLIP_SENT=`SLIP_SENT`,e.VERIFIED=`VERIFIED`,e.REJECTED=`REJECTED`,e}({});var pC=[{id:`u1`,name:`Me`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Felix`},{id:`u2`,name:`Jane`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Jane`},{id:`u3`,name:`Max`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Max`},{id:`u4`,name:`Bob`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Bob`},{id:`u5`,name:`Alice`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=Alice`}],mC=()=>{let[e,t]=(0,_.useState)(`ACTIVE`),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(null),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(`ALL`),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)([{id:`b1`,title:` Osaka `,totalAmount:12e3,paymentType:`QR`,paymentValue:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=PromptPay`,payerId:`u1`,createdAt:Date.now(),isCompleted:!1,debtors:[{userId:`u1`,amount:3e3,status:fC.VERIFIED},{userId:`u3`,amount:3e3,status:fC.SLIP_SENT,slipUrl:`https://via.placeholder.com/300x500?text=Slip+Image`},{userId:`u4`,amount:3e3,status:fC.UNPAID},{userId:`u5`,amount:3e3,status:fC.VERIFIED}]}]),m=(e,t)=>{let n=(e,t=[])=>e.map(e=>{let n=t.find(t=>t.userId===e.userId),r=n?n.status:fC.UNPAID;return e.userId===`u1`&&(r=fC.VERIFIED),{userId:e.userId,amount:e.amount,status:r,slipUrl:n?.slipUrl}});if(t&&i)p(t=>t.map(t=>t.id===i.id?{...t,title:e.title,totalAmount:e.totalAmount,paymentType:e.paymentType,paymentValue:e.paymentValue,debtors:n(e.debtors,t.debtors)}:t));else{let t={id:Date.now().toString(),title:e.title,totalAmount:e.totalAmount,paymentType:e.paymentType,paymentValue:e.paymentValue,payerId:`u1`,debtors:n(e.debtors),createdAt:Date.now(),isCompleted:!1};p(e=>[t,...e]),d(e=>[...e,t.id])}r(!1),a(null)},h=(e,t,n)=>{p(r=>r.map(r=>{if(r.id!==e)return r;let i=r.debtors.map(e=>e.userId===t?{...e,status:n?`VERIFIED`:`REJECTED`}:e),a=i.every(e=>e.status===`VERIFIED`);return{...r,debtors:i,isCompleted:a}}))},g=(e,t)=>{let n=URL.createObjectURL(t);p(t=>t.map(t=>{if(t.id!==e)return t;let r=t.debtors.map(e=>e.userId===`u1`?{...e,status:`SLIP_SENT`,slipUrl:n}:e);return{...t,debtors:r}}))},v=e=>{a(e),r(!0)},y=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},b=()=>{u.length===x.length?d([]):d(x.map(e=>e.id))},x=(0,_.useMemo)(()=>f.filter(t=>!(e===`ACTIVE`&&t.isCompleted||e===`HISTORY`&&!t.isCompleted||!t.title.toLowerCase().includes(o.toLowerCase())||c!==`ALL`&&!t.debtors.some(e=>e.userId===c&&e.status!==`VERIFIED`))),[f,e,o,c]);return(0,O.jsxs)(`div`,{className:`h-full flex flex-col bg-F3F4F6 relative`,children:[(0,O.jsxs)(`div`,{className:`flex-none px-4 py-2 bg-F3F4F6 z-10`,children:[(0,O.jsx)(cC,{currentTab:e,onTabChange:t}),(0,O.jsxs)(`div`,{className:`flex gap-2`,children:[(0,O.jsxs)(`div`,{className:`flex-1 relative`,children:[(0,O.jsx)(Te,{className:`absolute top-2.5 left-3 w-4 h-4 text-gray-400`}),(0,O.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),placeholder:`...`,className:`w-full bg-white border border-gray-200 pl-9 pr-3 py-2 rounded-xl text-xs outline-none focus:border-blue-500`})]}),(0,O.jsxs)(`div`,{className:`relative`,children:[(0,O.jsxs)(`select`,{value:c,onChange:e=>l(e.target.value),className:`appearance-none bg-white border border-gray-200 text-gray-600 text-xs font-bold py-2 pl-3 pr-8 rounded-xl outline-none focus:border-blue-500`,children:[(0,O.jsx)(`option`,{value:`ALL`,children:``}),pC.map(e=>e.id!==`u1`&&(0,O.jsx)(`option`,{value:e.id,children:e.name},e.id))]}),(0,O.jsx)(de,{className:`absolute top-2.5 right-2.5 w-3 h-3 text-gray-400 pointer-events-none`})]}),(0,O.jsx)(`button`,{onClick:b,className:`bg-white border border-gray-200 w-9 h-9 rounded-xl flex items-center justify-center text-gray-500 hover:bg-gray-50`,children:u.length===x.length&&x.length>0?(0,O.jsx)(ye,{className:`w-4 h-4`}):(0,O.jsx)(me,{className:`w-4 h-4`})})]})]}),(0,O.jsx)(`div`,{className:`flex-1 overflow-y-auto custom-scrollbar px-4 pb-24 min-h-0`,children:(0,O.jsxs)(`div`,{className:`space-y-1`,children:[x.map(e=>(0,O.jsx)(lC,{bill:e,currentUser:pC[0],allUsers:pC,isOpen:u.includes(e.id),onToggle:()=>y(e.id),onVerifySlip:h,onUploadSlip:g,onEdit:()=>v(e)},e.id)),x.length===0&&(0,O.jsx)(`div`,{className:`text-center py-12 text-gray-400 text-xs`,children:e===`ACTIVE`?` `:``})]})}),(0,O.jsx)(uC,{onClick:()=>{a(null),r(!0)}}),(0,O.jsx)(dC,{isOpen:n,onClose:()=>r(!1),users:pC,currentUser:pC[0],onSave:m,initialData:i})]})};function hC(){let{user:e,isLoading:t,loginWithLine:n,updateProfile:r,logout:i}=Ny(),{trip:a,saveTrip:o}=Fy(),[s,c]=(0,_.useState)(`plan`),[l,u]=(0,_.useState)(!1),[d,f]=(0,_.useState)(!1),[p,m]=(0,_.useState)(!1);return t?(0,O.jsx)(`div`,{className:`h-full flex items-center justify-center bg-gray-100`,children:(0,O.jsxs)(`div`,{className:`text-center`,children:[(0,O.jsx)(`div`,{className:`animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4`}),(0,O.jsx)(`p`,{className:`text-gray-500 text-sm`,children:` LINE...`})]})}):e?(0,O.jsxs)(`div`,{className:`h-full flex flex-col bg-[#F3F4F6] w-full max-w-md mx-auto shadow-2xl overflow-hidden`,children:[(0,O.jsx)(Pe,{user:e,trip:a,participants:a.participants,onMenuClick:()=>u(!0),onEdit:()=>f(!0),isMinimized:s!==`plan`,activeTabLabel:{plan:`Plan`,bill:`Bill`}[s]}),(0,O.jsx)(`div`,{className:`flex-1 relative overflow-hidden`,children:s===`plan`?(0,O.jsx)(sC,{trip:a,onSaveTrip:e=>{o(e),f(!1)}}):(0,O.jsx)(mC,{})}),(0,O.jsx)(Fe,{isOpen:l,onClose:()=>u(!1),onNavigate:c,activeScreen:s,user:e,onLogout:()=>{confirm(`?`)&&i()},onEditProfile:()=>{u(!1),setTimeout(()=>m(!0),200)}}),(0,O.jsx)(We,{isOpen:d,onClose:()=>f(!1),onSave:e=>{o(e),f(!1)},initialTrip:a}),(0,O.jsx)(ze,{isOpen:p,onClose:()=>m(!1),currentUser:e,onSave:r})]}):(0,O.jsxs)(`div`,{className:`h-full flex flex-col items-center justify-center bg-white p-6 space-y-6`,children:[(0,O.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,O.jsx)(`h1`,{className:`text-3xl font-extrabold text-green-600`,children:`Mana Travel`}),(0,O.jsx)(`p`,{className:`text-gray-400`,children:``})]}),(0,O.jsx)(Ue,{onClick:n,className:`bg-[#06C755] hover:bg-[#05b34c] text-white w-full max-w-xs py-4 text-lg shadow-green-200`,children:`Log in with LINE`})]})}var gC=hC;(0,g.createRoot)(document.getElementById(`root`)).render((0,O.jsx)(_.StrictMode,{children:(0,O.jsx)(gC,{})}));
//# sourceMappingURL=index-4OxOBgwP.js.map